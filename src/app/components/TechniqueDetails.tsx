'use client';
import React, { useState } from 'react';
import { BookOpen, Code, Check, Brain, GitBranch, Play, Sparkles, ArrowRight } from 'lucide-react';
import { useRouter } from 'next/navigation';
import { useAuth } from '@/contexts/AuthContext';
import { AuthPromptPage } from './AuthPromptPage';
import CodeSandbox from '../../components/CodeSandbox';
import { InteractivePatternFlow } from '../../components/InteractivePatternFlow';
import { RemotionPlayer } from '../../components/RemotionPlayer';
import FeedbackChainingDemo from '../../components/demos/FeedbackChainingDemo';
import HierarchicalChainingDemo from '../../components/demos/HierarchicalChainingDemo';
import IterativeRefinementDemo from '../../components/demos/IterativeRefinementDemo';
import ParallelSynthesisDemo from '../../components/demos/ParallelSynthesisDemo';
import DynamicRoutingDemo from '../../components/demos/DynamicRoutingDemo';
import DynamicContextAssemblyDemo from '../../components/demos/DynamicContextAssemblyDemo';
import MessageQueuingDemo from '../../components/demos/MessageQueuingDemo';
import LatentMemoryNetworksDemo from '../../components/demos/LatentMemoryNetworksDemo';
import AdaptiveContextDepthDemo from '../../components/demos/AdaptiveContextDepthDemo';
import LatentKnowledgeRetrievalDemo from '../../components/demos/LatentKnowledgeRetrievalDemo';
import AdvancedContextCompressionDemo from '../../components/demos/AdvancedContextCompressionDemo';
import MultimodalContextIntegrationDemo from '../../components/demos/MultimodalContextIntegrationDemo';
import SlidingWindowDemo from '../../components/demos/SlidingWindowDemo';
import HierarchicalMemoryDemo from '../../components/demos/HierarchicalMemoryDemo';
import AttentionMechanismsDemo from '../../components/demos/AttentionMechanismsDemo';
import MemoryConsolidationDemo from '../../components/demos/MemoryConsolidationDemo';
import WorkingMemoryPatternsDemo from '../../components/demos/WorkingMemoryPatternsDemo';
import ContextCompressionDemo from '../../components/demos/ContextCompressionDemo';
import ContentBasedRoutingDemo from '../../components/demos/ContentBasedRoutingDemo';
import CapabilityRoutingDemo from '../../components/demos/CapabilityRoutingDemo';
import LoadBalancingDemo from '../../components/demos/LoadBalancingDemo';
import GeographicRoutingDemo from '../../components/demos/GeographicRoutingDemo';
import MapReduceDemo from '../../components/demos/MapReduceDemo';
import ScatterGatherDemo from '../../components/demos/ScatterGatherDemo';
import ForkJoinDemo from '../../components/demos/ForkJoinDemo';
import AsyncAwaitDemo from '../../components/demos/AsyncAwaitDemo';
import SelfCritiqueDemo from '../../components/demos/SelfCritiqueDemo';
import ToolUseDemo from '../../components/demos/ToolUseDemo';
import CodeExecutionDemo from '../../components/demos/CodeExecutionDemo';
import HierarchicalPlanningDemo from '../../components/demos/HierarchicalPlanningDemo';
import GoalDecompositionDemo from '../../components/demos/GoalDecompositionDemo';
import ConstraintSatisfactionDemo from '../../components/demos/ConstraintSatisfactionDemo';
import ScenarioPlanningDemo from '../../components/demos/ScenarioPlanningDemo';
import SequentialChainingDemo from '../../components/demos/SequentialChainingDemo';
import ParallelChainingDemo from '../../components/demos/ParallelChainingDemo';
import ConditionalChainingDemo from '../../components/demos/ConditionalChainingDemo';
import { patternExamples, type PatternId, type LanguageType } from '../pattern-examples';
import { patternScenarios } from '../../data/patterns';
import DomainReasoningDetails from './technique-details/DomainReasoningDetails';
import GraphOfDebatesDetails from './technique-details/GraphOfDebatesDetails';
import SelfCorrectionDetails from './technique-details/SelfCorrectionDetails';
import ChainOfThoughtDetails from './technique-details/ChainOfThoughtDetails';
import GraphOfThoughtDetails from './technique-details/GraphOfThoughtDetails';
import TreeOfThoughtDetails from './technique-details/TreeOfThoughtDetails';
import VideoExplanationSection from './technique-details/VideoExplanationSection';
import AdaptiveRAGDetails from './technique-details/AdaptiveRAGDetails';
import SelfRAGDetails from './technique-details/SelfRAGDetails';
import GraphRAGDetails from './technique-details/GraphRAGDetails';
import HierarchicalRAGDetails from './technique-details/HierarchicalRAGDetails';
import SequentialChainingDetails from './technique-details/SequentialChainingDetails';
import ParallelChainingDetails from './technique-details/ParallelChainingDetails';
import PalmDetails from './technique-details/PalmDetails';
import LrtDetails from './technique-details/LrtDetails';

interface TechniqueDetailsProps {
  selectedTechnique: any;
  categories: any[];
  useCases: any[];
  detailsTab?: 'overview' | 'flow' | 'interactive' | 'code';
  setDetailsTab?: (tab: 'overview' | 'flow' | 'interactive' | 'code') => void;
  selectedLanguage?: LanguageType;
  setSelectedLanguage?: (lang: LanguageType) => void;
}

export const TechniqueDetails = ({
  selectedTechnique,
  categories,
  useCases,
  detailsTab: propDetailsTab,
  setDetailsTab: propSetDetailsTab,
  selectedLanguage: propSelectedLanguage,
  setSelectedLanguage: propSetSelectedLanguage,
}: TechniqueDetailsProps) => {
  const [localDetailsTab, setLocalDetailsTab] = useState<'overview' | 'flow' | 'interactive' | 'code'>('overview');
  const [localSelectedLanguage, setLocalSelectedLanguage] = useState<LanguageType>('typescript');
  const { user, loading } = useAuth();
  const router = useRouter();
  
  const detailsTab = propDetailsTab || localDetailsTab;
  const setDetailsTab = propSetDetailsTab || setLocalDetailsTab;
  const selectedLanguage = propSelectedLanguage || localSelectedLanguage;
  const setSelectedLanguage = propSetSelectedLanguage || setLocalSelectedLanguage;

  // Handle tab switching with auth checks
  const handleTabChange = (tab: 'overview' | 'flow' | 'interactive' | 'code') => {
    // Check if user is trying to access protected content
    if ((tab === 'interactive' || tab === 'code') && !user) {
      // Don't switch tab, let the content section handle showing auth prompt
      setDetailsTab(tab);
      return;
    }
    setDetailsTab(tab);
  };
  if (!selectedTechnique) {
    return (
      <div className="lg:col-span-3">
        <div className="bg-gray-900/50 backdrop-blur-sm rounded-2xl p-8 border border-gray-700/30 shadow-2xl flex items-center justify-center h-96">
          <div className="text-center">
            <Brain className="w-16 h-16 mx-auto text-gray-600 mb-4" />
            <p className="text-gray-400 text-lg">Select a technique to view details</p>
          </div>
        </div>
      </div>
    );
  }

  return (
    <div className="lg:col-span-3">
      <div className="bg-gray-900/50 backdrop-blur-sm rounded-2xl border border-gray-700/30 shadow-2xl">
        {/* Header Section */}
        <div className="bg-gradient-to-r from-gray-900/80 to-gray-800/80 p-6 lg:p-6 border-b border-gray-700/30">
          <div className="flex items-start gap-4 lg:gap-4">
            <div className="flex-shrink-0">
              <div className="w-16 h-16 lg:w-16 lg:h-16 bg-gray-800/60 rounded-2xl flex items-center justify-center text-2xl lg:text-2xl">
                {selectedTechnique.icon}
              </div>
            </div>
            <div className="flex-1 min-w-0">
              <div className="flex items-start justify-between">
                <div>
                  <h1 className="text-2xl lg:text-2xl font-semibold text-white mb-2">
                    {selectedTechnique.name}
                    {selectedTechnique.abbr && (
                      <span className="text-lg lg:text-lg ml-2 text-gray-400 font-normal">({selectedTechnique.abbr})</span>
                    )}
                  </h1>
                  <p className="text-gray-300 text-base lg:text-base leading-relaxed mb-4">{selectedTechnique.description}</p>
                  <div className="flex flex-wrap gap-3">
                    <span className={`inline-flex items-center px-3 lg:px-3 py-1.5 rounded-full text-sm font-medium bg-gradient-to-r ${selectedTechnique.color} text-white`}>
                      Complexity: {selectedTechnique.complexity}
                    </span>
                    <span className="inline-flex items-center px-3 lg:px-3 py-1.5 rounded-full text-sm font-medium bg-gray-800/60 text-gray-200">
                      {categories.find(c => c.id === selectedTechnique.category)?.name || 'Pattern'}
                    </span>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>

        {/* Details Tabs */}
        <div className="border-b border-gray-700/30">
          {/* Desktop tabs */}
          <div className="hidden md:flex gap-6 px-6">
            <button
              onClick={() => handleTabChange('overview')}
              className={`cursor-pointer py-4 px-3 font-medium transition-all border-b-2 ${
                detailsTab === 'overview'
                  ? 'text-blue-400 border-blue-400'
                  : 'text-gray-400 border-transparent hover:text-gray-200'
              }`}
            >
              <BookOpen className="w-4 h-4 inline mr-2" />
              Overview
            </button>
            <button
              onClick={() => handleTabChange('flow')}
              className={`cursor-pointer py-4 px-3 font-medium transition-all border-b-2 ${
                detailsTab === 'flow'
                  ? 'text-orange-400 border-orange-400'
                  : 'text-gray-400 border-transparent hover:text-gray-200'
              }`}
            >
              <GitBranch className="w-4 h-4 inline mr-2" />
              Flow Visualization
            </button>
            <button
              onClick={() => handleTabChange('interactive')}
              className={`cursor-pointer py-4 px-3 font-medium transition-all border-b-2 ${
                detailsTab === 'interactive'
                  ? 'text-purple-400 border-purple-400'
                  : 'text-gray-400 border-transparent hover:text-gray-200'
              }`}
            >
              <Play className="w-4 h-4 inline mr-2" />
              Interactive Demo
            </button>
            <button
              onClick={() => handleTabChange('code')}
              className={`cursor-pointer py-4 px-3 font-medium transition-all border-b-2 ${
                detailsTab === 'code'
                  ? 'text-green-400 border-green-400'
                  : 'text-gray-400 border-transparent hover:text-gray-200'
              }`}
            >
              <Code className="w-4 h-4 inline mr-2" />
              Code Playground
            </button>
          </div>

          {/* Mobile tabs */}
          <div className="md:hidden px-4 py-3">
            <div className="grid grid-cols-2 gap-2">
              <button
                onClick={() => handleTabChange('overview')}
                className={`py-4 px-3 rounded-lg font-medium transition-all text-sm min-h-[48px] ${
                  detailsTab === 'overview'
                    ? 'bg-blue-600 text-white'
                    : 'bg-gray-800/50 text-gray-400 hover:text-gray-200 hover:bg-gray-700/50'
                }`}
              >
                <BookOpen className="w-4 h-4 inline mr-1" />
                Overview
              </button>
              <button
                onClick={() => handleTabChange('flow')}
                className={`py-4 px-3 rounded-lg font-medium transition-all text-sm min-h-[48px] ${
                  detailsTab === 'flow'
                    ? 'bg-orange-600 text-white'
                    : 'bg-gray-800/50 text-gray-400 hover:text-gray-200 hover:bg-gray-700/50'
                }`}
              >
                <GitBranch className="w-4 h-4 inline mr-1" />
                Flow
              </button>
              <button
                onClick={() => handleTabChange('interactive')}
                className={`py-4 px-3 rounded-lg font-medium transition-all text-sm min-h-[48px] ${
                  detailsTab === 'interactive'
                    ? 'bg-purple-600 text-white'
                    : 'bg-gray-800/50 text-gray-400 hover:text-gray-200 hover:bg-gray-700/50'
                }`}
              >
                <Play className="w-4 h-4 inline mr-1" />
                Demo
              </button>
              <button
                onClick={() => handleTabChange('code')}
                className={`py-4 px-3 rounded-lg font-medium transition-all text-sm min-h-[48px] ${
                  detailsTab === 'code'
                    ? 'bg-green-600 text-white'
                    : 'bg-gray-800/50 text-gray-400 hover:text-gray-200 hover:bg-gray-700/50'
                }`}
              >
                <Code className="w-4 h-4 inline mr-1" />
                Code
              </button>
            </div>
          </div>
        </div>

        {/* Content Sections */}
        <div className="p-6 lg:p-6">
          {detailsTab === 'overview' ? (
            <div className="space-y-8">
              {/* Video Explanation */}
              <VideoExplanationSection techniqueId={selectedTechnique.id} />

              {/* Overview header block (technique-specific) */}
              {selectedTechnique.id === 'domain-reasoning' ? (
                <DomainReasoningDetails selectedTechnique={selectedTechnique} />
              ) : selectedTechnique.id === 'cot' ? (
                <ChainOfThoughtDetails selectedTechnique={selectedTechnique} />
              ) : selectedTechnique.id === 'got' ? (
                <GraphOfThoughtDetails selectedTechnique={selectedTechnique} />
              ) : selectedTechnique.id === 'tot' ? (
                <TreeOfThoughtDetails selectedTechnique={selectedTechnique} />
              ) : selectedTechnique.id === 'adaptive-rag' ? (
                <AdaptiveRAGDetails selectedTechnique={selectedTechnique} />
              ) : selectedTechnique.id === 'self-rag' ? (
                <SelfRAGDetails selectedTechnique={selectedTechnique} />
              ) : selectedTechnique.id === 'graph-rag' ? (
                <GraphRAGDetails selectedTechnique={selectedTechnique} />
              ) : selectedTechnique.id === 'hierarchical-rag' ? (
                <HierarchicalRAGDetails selectedTechnique={selectedTechnique} />
              ) : selectedTechnique.id === 'sequential-chaining' ? (
                <SequentialChainingDetails selectedTechnique={selectedTechnique} />
              ) : selectedTechnique.id === 'parallel-chaining' ? (
                <ParallelChainingDetails selectedTechnique={selectedTechnique} />
              ) : selectedTechnique.id === 'cod' ? (
                <>
                  {/* Core Mechanism (short conceptual overview) */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-blue-500 rounded-full"></div>
                      Core Mechanism (short conceptual overview)
                    </h2>
                    <div className="bg-gradient-to-br from-purple-500/10 to-indigo-500/10 border border-indigo-500/20 rounded-xl p-6">
                      <p className="text-gray-200 text-base leading-relaxed">
                        Chain of Debates (CoD) orchestrates multiple AI agents with distinct perspectives (e.g., advocate, skeptic,
                        analyst) to engage in structured argumentation over several rounds. Arguments and counterarguments are
                        synthesized by a moderator/judge agent into a final, balanced conclusion. This reduces individual model bias and
                        improves robustness through dialectical reasoning.
                      </p>
                    </div>
                  </section>

                  {/* Workflow / Steps */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-purple-500 rounded-full"></div>
                      Workflow / Steps
                    </h2>
                    <div className="bg-gradient-to-br from-indigo-500/10 to-blue-500/10 border border-purple-500/20 rounded-xl p-6">
                      <ol className="list-decimal list-inside space-y-2 text-gray-200 text-sm">
                        <li>Define roles and objectives: assign complementary agent personas and a moderator/judge.</li>
                        <li>Seed the debate: present the problem, constraints, and evaluation criteria.</li>
                        <li>Round-based argumentation: agents produce arguments; peers critique and refine.</li>
                        <li>Evidence grounding: optionally retrieve sources/tools; track citations and assumptions.</li>
                        <li>Judge synthesis: a judge aggregates strongest arguments; flags unresolved conflicts.</li>
                        <li>Convergence check: stop on consensus, confidence threshold, or max rounds.</li>
                        <li>Final report: produce rationale, trade-offs, and decision with references.</li>
                      </ol>
                    </div>
                  </section>

                  {/* Best Practices */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-green-500 rounded-full"></div>
                      Best Practices
                    </h2>
                    <div className="grid gap-3">
                      {[
                        'Diversity by design: make roles orthogonal (optimist/pessimist/analyst/constraints).',
                        'Use a separate judge model/prompt; avoid the same agent evaluating its own claims.',
                        'Constrain format: structured claims, evidence, rebuttals, and confidence scores.',
                        'Ground with tools/retrieval; attach citations and highlight uncertainty.',
                        'Cap rounds and token budgets; early-stop when arguments repeat.',
                        'Cache intermediate arguments; deduplicate to reduce cost and drift.',
                        'Log debate trees for auditability and offline evaluation.',
                      ].map((tip) => (
                        <div key={tip} className="flex items-start gap-3 p-3 bg-gray-800/40 rounded-lg">
                          <Check className="w-5 h-5 text-green-400 mt-0.5 flex-shrink-0" />
                          <span className="text-gray-300 text-sm leading-relaxed">{tip}</span>
                        </div>
                      ))}
                    </div>
                  </section>

                  {/* When NOT to Use */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-red-500 rounded-full"></div>
                      When NOT to Use
                    </h2>
                    <div className="bg-gray-800/40 rounded-lg p-6 border border-gray-700/40">
                      <ul className="list-disc list-inside space-y-2 text-gray-300 text-sm">
                        <li>Low-stakes or simple tasks where single-agent output suffices.</li>
                        <li>Hard real-time constraints where multi-round interaction exceeds latency budgets.</li>
                        <li>Severely resource-constrained settings without cost controls or caching.</li>
                        <li>Domains lacking verifiable ground truth or tools to arbitrate disagreements.</li>
                      </ul>
                    </div>
                  </section>

                  {/* Common Pitfalls */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-amber-500 rounded-full"></div>
                      Common Pitfalls
                    </h2>
                    <div className="bg-gray-800/40 rounded-lg p-6 border border-gray-700/40">
                      <ul className="list-disc list-inside space-y-2 text-gray-300 text-sm">
                        <li>Echo chambers: agents collapse to agreement without real critique (mitigate with role prompts).</li>
                        <li>Judge leakage: using the same prompt/model for both debater and judge roles.</li>
                        <li>Token bloat: repetitive arguments across rounds; enforce novelty constraints.</li>
                        <li>Unverifiable claims: missing citations/tool checks; require evidence fields.</li>
                      </ul>
                    </div>
                  </section>

                  {/* Key Features */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-cyan-500 rounded-full"></div>
                      Key Features
                    </h2>
                    <div className="grid grid-cols-1 md:grid-cols-2 gap-3">
                      {[
                        'Multi-agent, role-driven argumentation',
                        'Round-based rebuttal and refinement',
                        'Independent judge/moderator synthesis',
                        'Evidence-grounded decisions with citations',
                        'Configurable stop rules and budgets',
                      ].map((feat) => (
                        <div key={feat} className="p-3 bg-gray-800/40 rounded-lg text-gray-300 text-sm border border-gray-700/40">
                          {feat}
                        </div>
                      ))}
                    </div>
                  </section>

                  {/* KPIs / Success Metrics */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-emerald-500 rounded-full"></div>
                      KPIs / Success Metrics
                    </h2>
                    <div className="bg-gray-800/40 rounded-lg p-6 border border-gray-700/40">
                      <ul className="list-disc list-inside space-y-2 text-gray-300 text-sm">
                        <li>Task accuracy/quality vs. baselines (single-agent, self-critique).</li>
                        <li>Judge agreement rate and inter-rater reliability (if human judges present).</li>
                        <li>Consensus rate within N rounds; repetition/novelty ratio across rounds.</li>
                        <li>Evidence coverage and citation correctness.</li>
                        <li>Latency and cost per resolved debate (p50/p95; $/debate).</li>
                      </ul>
                    </div>
                  </section>

                  {/* Token / Resource Usage */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-indigo-500 rounded-full"></div>
                      Token / Resource Usage
                    </h2>
                    <div className="bg-gray-800/40 rounded-lg p-6 border border-gray-700/40">
                      <ul className="list-disc list-inside space-y-2 text-gray-300 text-sm">
                        <li>Cost scales with (num_agents × rounds × tokens_per_turn) + judge synthesis.</li>
                        <li>Mitigate via caching, deduplication, shorter turn formats, and selective tool calls.</li>
                        <li>Prefer compact judge prompts and summarization between rounds.</li>
                        <li>Track token budgets and enforce hard caps to avoid runaway debates.</li>
                      </ul>
                    </div>
                  </section>

                  {/* Best Use Cases */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-fuchsia-500 rounded-full"></div>
                      Best Use Cases
                    </h2>
                    <div className="bg-gray-800/40 rounded-lg p-6 border border-gray-700/40">
                      <ul className="list-disc list-inside space-y-2 text-gray-300 text-sm">
                        <li>Complex decisions with trade-offs (policy, strategy, architecture).</li>
                        <li>Safety-sensitive analyses requiring rigorous challenge and evidence.</li>
                        <li>Research synthesis and literature review with conflicting findings.</li>
                        <li>Ethical deliberation and risk assessment with stakeholder perspectives.</li>
                      </ul>
                    </div>
                  </section>

                  {/* References & Further Reading */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-orange-500 rounded-full"></div>
                      References & Further Reading
                    </h2>
                    <div className="bg-gray-800/40 rounded-lg p-6 border border-gray-700/40 space-y-4">
                      <div>
                        <h3 className="text-white font-semibold mb-2 text-sm">Academic Papers</h3>
                        <ul className="list-disc list-inside space-y-1 text-gray-300 text-sm">
                          <li><a href="https://arxiv.org/abs/1805.00899" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">AI Safety via Debate (Irving, Christiano, Amodei, 2018)</a></li>
                          <li><a href="https://arxiv.org/abs/2312.01703" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">Neuro-Symbolic AI: Trends and debates context (2023)</a></li>
                          <li><a href="https://arxiv.org/abs/2306.05685" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">LLM-as-a-Judge: Reliable Evaluation via LLMs (2023)</a></li>
                        </ul>
                      </div>
                      <div>
                        <h3 className="text-white font-semibold mb-2 text-sm">Implementation Guides</h3>
                        <ul className="list-disc list-inside space-y-1 text-gray-300 text-sm">
                          <li><a href="https://microsoft.github.io/autogen/" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">AutoGen: Multi-agent and GroupChat patterns</a></li>
                          <li><a href="https://python.langchain.com/docs/langgraph" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">LangGraph: Graph-based multi-agent orchestration</a></li>
                        </ul>
                      </div>
                      <div>
                        <h3 className="text-white font-semibold mb-2 text-sm">Tools & Libraries</h3>
                        <ul className="list-disc list-inside space-y-1 text-gray-300 text-sm">
                          <li><a href="https://github.com/microsoft/autogen" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">Microsoft AutoGen</a>, <a href="https://github.com/langchain-ai/langgraph" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">LangGraph</a>, <a href="https://github.com/joaomdmoura/crewAI" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">CrewAI</a></li>
                        </ul>
                      </div>
                      <div>
                        <h3 className="text-white font-semibold mb-2 text-sm">Community & Discussions</h3>
                        <ul className="list-disc list-inside space-y-1 text-gray-300 text-sm">
                          <li><a href="https://discord.gg/langchain" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">LangChain Community</a></li>
                          <li><a href="https://github.com/microsoft/autogen/discussions" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">AutoGen Discussions</a></li>
                          <li><a href="https://discuss.huggingface.co/" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">Hugging Face Forums (multi-agent & debate)</a></li>
                        </ul>
                      </div>
                    </div>
                </section>
                </>
              ) : selectedTechnique.id === 'god' ? (
                <GraphOfDebatesDetails selectedTechnique={selectedTechnique} />
              ) : selectedTechnique.id === 'self-correction' ? (
                <SelfCorrectionDetails selectedTechnique={selectedTechnique} />
              ) : selectedTechnique.id === 'palm' ? (
                <PalmDetails selectedTechnique={selectedTechnique} />
              ) : selectedTechnique.id === 'lrt' ? (
                <LrtDetails selectedTechnique={selectedTechnique} />
              ) : selectedTechnique.id === 'long-cot' ? (
                <>
                  {/* Core Mechanism (short conceptual overview) */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-blue-500 rounded-full"></div>
                      Core Mechanism (short conceptual overview)
                    </h2>
                    <div className="bg-gradient-to-br from-blue-600/10 to-purple-600/10 border border-blue-500/20 rounded-xl p-6">
                      <p className="text-gray-200 text-base leading-relaxed">
                        Long Chain of Thought extends standard step-by-step reasoning with deeper, dynamically allocated thinking time at inference.
                        Practically, it generates longer reasoning traces, samples multiple chains (self-consistency), verifies intermediate steps,
                        and selectively allocates more compute to hard instances. This improves reliability on complex tasks at the cost of more
                        tokens and latency.
                      </p>
                    </div>
                  </section>

                  {/* Workflow / Steps */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-purple-500 rounded-full"></div>
                      Workflow / Steps
                    </h2>
                    <div className="bg-gradient-to-br from-purple-500/10 to-blue-500/10 border border-purple-500/20 rounded-xl p-6">
                      <ol className="list-decimal list-inside space-y-2 text-gray-200 text-sm">
                        <li>Prompt scaffolding: define clear goals, constraints, and step format; prepare verifier or rubric if applicable.</li>
                        <li>Adaptive thinking budget: set max steps, temperature, and optional multi-sample count (self-consistency).</li>
                        <li>Reasoning generation: produce chain(s) with explicit intermediate calculations, assumptions, and checks.</li>
                        <li>Verification and selection: validate intermediate results, discard inconsistent chains, select majority/score-best.</li>
                        <li>Distill and finalize: compress to a concise, verifiable answer; log telemetry (tokens, latency, success).</li>
                      </ol>
                    </div>
                  </section>

                  {/* Best Practices */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-green-500 rounded-full"></div>
                      Best Practices
                    </h2>
                    <div className="grid gap-3">
                      {[
                        'Use structured step templates (Given → Plan → Steps → Check → Answer) to prevent meandering.',
                        'Prefer multiple short chains + selection over a single ultra-long chain for robustness.',
                        'Introduce lightweight verifiers (unit checks, dimensional analysis, constraint checks).',
                        'Route by difficulty: allocate more samples/steps only when uncertainty is high.',
                        'Cap depth and summarize periodically to control token growth and maintain coherence.',
                        'Cache intermediate computations and reuse context across retries to reduce cost.',
                      ].map((tip) => (
                        <div key={tip} className="flex items-start gap-3 p-3 bg-gray-800/40 rounded-lg">
                          <Check className="w-5 h-5 text-green-400 mt-0.5 flex-shrink-0" />
                          <span className="text-gray-300 text-sm leading-relaxed">{tip}</span>
                        </div>
                      ))}
                    </div>
                  </section>

                  {/* When NOT to Use */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-red-500 rounded-full"></div>
                      When NOT to Use
                    </h2>
                    <div className="bg-gray-800/40 rounded-lg p-6 border border-gray-700/40">
                      <ul className="list-disc list-inside space-y-2 text-gray-300 text-sm">
                        <li>Simple lookups or routine tasks where direct answers meet accuracy and latency goals.</li>
                        <li>Strict real-time systems with tight SLOs where extra steps or sampling breaks latency budgets.</li>
                        <li>Domains lacking verifiable intermediate checks, making long chains hard to validate.</li>
                      </ul>
                    </div>
                  </section>

                  {/* Common Pitfalls */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-amber-500 rounded-full"></div>
                      Common Pitfalls
                    </h2>
                    <div className="bg-gray-800/40 rounded-lg p-6 border border-gray-700/40">
                      <ul className="list-disc list-inside space-y-2 text-gray-300 text-sm">
                        <li>Overlong, drifting chains without checkpoints or periodic summaries.</li>
                        <li>Error propagation from early mistakes; lack of verification leads to confident wrong answers.</li>
                        <li>Unbounded token spend from high sampling counts without early stopping or routing.</li>
                        <li>Selection bias if majority voting is used without diversity or quality scoring.</li>
                      </ul>
                    </div>
                  </section>

                  {/* Key Features */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-cyan-500 rounded-full"></div>
                      Key Features
                    </h2>
                    <div className="grid grid-cols-1 md:grid-cols-2 gap-3">
                      {[
                        'Extended step-by-step reasoning depth with dynamic budgets',
                        'Multi-sample self-consistency and chain selection',
                        'Intermediate verification and constraint checking',
                        'Difficulty-aware routing and adaptive compute allocation',
                        'Periodic summarization to maintain context quality',
                        'Telemetry for cost/latency/accuracy at the chain level',
                      ].map((feat) => (
                        <div key={feat} className="p-3 bg-gray-800/40 rounded-lg text-gray-300 text-sm border border-gray-700/40">
                          {feat}
                        </div>
                      ))}
                    </div>
                  </section>

                  {/* KPIs / Success Metrics */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-emerald-500 rounded-full"></div>
                      KPIs / Success Metrics
                    </h2>
                    <div className="bg-gray-800/40 rounded-lg p-6 border border-gray-700/40">
                      <ul className="list-disc list-inside space-y-2 text-gray-300 text-sm">
                        <li>Task accuracy/pass-rate on reasoning benchmarks and internal evals.</li>
                        <li>Compute efficiency: tokens, wall-clock, and cost per solved instance.</li>
                        <li>Chain quality: verifier pass-rate, consistency across samples, error rate after verification.</li>
                        <li>Budget adherence: proportion of runs within target token/latency caps.</li>
                      </ul>
                    </div>
                  </section>

                  {/* Token / Resource Usage */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-indigo-500 rounded-full"></div>
                      Token / Resource Usage
                    </h2>
                    <div className="bg-gray-800/40 rounded-lg p-6 border border-gray-700/40">
                      <ul className="list-disc list-inside space-y-2 text-gray-300 text-sm">
                        <li>Cost scales with reasoning length (L) × number of samples (S) + verification overhead.</li>
                        <li>Use routing to long chains only for hard cases; cap S and apply early stopping.</li>
                        <li>Summarize periodically; cache reusable context; compress traces when feasible.</li>
                        <li>Track per-step tokens/latency to prevent regressions; prefer short, diverse chains over one very long chain.</li>
                      </ul>
                    </div>
                  </section>

                  {/* Best Use Cases */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-fuchsia-500 rounded-full"></div>
                      Best Use Cases
                    </h2>
                    <div className="bg-gray-800/40 rounded-lg p-6 border border-gray-700/40">
                      <ul className="list-disc list-inside space-y-2 text-gray-300 text-sm">
                        <li>Complex math/logic problems, scientific reasoning, and program analysis.</li>
                        <li>Strategic planning and multi-constraint decision-making requiring lookahead.</li>
                        <li>High-stakes domains where transparency and verifiable steps are required.</li>
                      </ul>
                    </div>
                  </section>

                  {/* References & Further Reading */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-orange-500 rounded-full"></div>
                      References & Further Reading
                    </h2>
                    <div className="bg-gray-800/40 rounded-lg p-6 border border-gray-700/40 space-y-4">
                      <div>
                        <h3 className="text-white font-semibold mb-2 text-sm">Academic Papers</h3>
                        <ul className="list-disc list-inside space-y-1 text-gray-300 text-sm">
                          <li><a href="https://arxiv.org/abs/2201.11903" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">Wei et al. (2022): Chain-of-Thought Prompting Elicits Reasoning</a></li>
                          <li><a href="https://arxiv.org/abs/2203.11171" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">Wang et al. (2022): Self-Consistency Improves Chain of Thought</a></li>
                          <li><a href="https://arxiv.org/abs/2205.11916" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">Kojima et al. (2022): Large Language Models are Zero-Shot Reasoners</a></li>
                          <li><a href="https://arxiv.org/abs/2502.05171" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">Geiping et al. (2025): Scaling up Test-Time Compute with Latent Reasoning (Recurrent Depth)</a></li>
                        </ul>
                      </div>
                      <div>
                        <h3 className="text-white font-semibold mb-2 text-sm">Implementation Guides</h3>
                        <ul className="list-disc list-inside space-y-1 text-gray-300 text-sm">
                          <li><a href="https://lilianweng.github.io/posts/2025-05-01-thinking/" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">Lilian Weng (2025): Thinking at Inference Time</a></li>
                          <li><a href="https://www.promptingguide.ai/techniques/chain-of-thought" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">Prompt Engineering Guide: Chain-of-Thought</a></li>
                        </ul>
                      </div>
                      <div>
                        <h3 className="text-white font-semibold mb-2 text-sm">Tools & Libraries</h3>
                        <ul className="list-disc list-inside space-y-1 text-gray-300 text-sm">
                          <li><a href="https://python.langchain.com/docs/expression_language/how_to/self_consistency" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">LangChain: Self-Consistency and reasoning utilities</a></li>
                          <li><a href="https://github.com/microsoft/guidance" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">Microsoft Guidance: Structured generation</a></li>
                          <li><a href="https://github.com/stanfordnlp/dspy" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">DSPy (Stanford): Programmatic prompting and tracing</a></li>
                        </ul>
                      </div>
                      <div>
                        <h3 className="text-white font-semibold mb-2 text-sm">Community & Discussions</h3>
                        <ul className="list-disc list-inside space-y-1 text-gray-300 text-sm">
                          <li><a href="https://discuss.huggingface.co/" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">Hugging Face Forums: Reasoning and prompting</a></li>
                          <li><a href="https://discord.gg/langchain" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">LangChain Community</a></li>
                        </ul>
                      </div>
                    </div>
                  </section>
                </>
              ) : selectedTechnique.id === 'function-calling' ? (
                <>
                  {/* Core Mechanism (short conceptual overview) */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-blue-500 rounded-full"></div>
                      Core Mechanism (short conceptual overview)
                    </h2>
                    <div className="bg-gradient-to-br from-blue-500/10 to-purple-500/10 border border-blue-500/20 rounded-xl p-6">
                      <p className="text-gray-200 text-base leading-relaxed">
                        Model selects a tool by name and emits JSON args per schema; orchestrator validates, executes external calls, and returns structured results for synthesis.
                      </p>
                    </div>
                  </section>

                  {/* Workflow / Steps */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-purple-500 rounded-full"></div>
                      Workflow / Steps
                    </h2>
                    <div className="bg-gradient-to-br from-purple-500/10 to-blue-500/10 border border-purple-500/20 rounded-xl p-6">
                      <ol className="list-decimal list-inside space-y-2 text-gray-200 text-sm">
                        <li>Define JSON schemas and register tools with descriptions.</li>
                        <li>Plan call(s) → model outputs function name + args.</li>
                        <li>Validate/sanitize args; enrich defaults; prompt for missing requireds.</li>
                        <li>Execute with timeouts, retries, idempotency; parallelize when safe.</li>
                        <li>Normalize results; redact secrets; log audit trail.</li>
                        <li>Return results to model; optionally chain further calls.</li>
                      </ol>
                    </div>
                  </section>

                  {/* Best Practices */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-green-500 rounded-full"></div>
                      Best Practices
                    </h2>
                    <div className="grid gap-3">
                      {[
                        'Tight schemas (enums/ranges/formats); hard-fail on validation errors.',
                        'Small, composable tools; clear names and examples.',
                        'Auth scoping and ACL per tool; never expose raw secrets.',
                        'Timeouts, retries with jitter, and circuit breakers.',
                        'Parallelize independent calls; cap concurrency and handle rate limits.',
                        'Idempotency for writes; dedupe by request key.',
                        'Structured logging and PII redaction.',
                      ].map((tip) => (
                        <div key={tip} className="flex items-start gap-3 p-3 bg-gray-800/40 rounded-lg">
                          <Check className="w-5 h-5 text-green-400 mt-0.5 flex-shrink-0" />
                          <span className="text-gray-300 text-sm leading-relaxed">{tip}</span>
                        </div>
                      ))}
                    </div>
                  </section>

                  {/* When NOT to Use */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-red-500 rounded-full"></div>
                      When NOT to Use
                    </h2>
                    <div className="bg-gray-800/40 rounded-lg p-6 border border-gray-700/40">
                      <ul className="list-disc list-inside space-y-2 text-gray-300 text-sm">
                        <li>Question is answerable from model knowledge with acceptable quality.</li>
                        <li>Hard real-time paths where tool overhead breaks SLOs.</li>
                        <li>High-risk, irreversible actions without human review.</li>
                      </ul>
                    </div>
                  </section>

                  {/* Common Pitfalls */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-amber-500 rounded-full"></div>
                      Common Pitfalls
                    </h2>
                    <div className="bg-gray-800/40 rounded-lg p-6 border border-gray-700/40">
                      <ul className="list-disc list-inside space-y-2 text-gray-300 text-sm">
                        <li>Hallucinated tool names/params due to vague descriptions.</li>
                        <li>Non-idempotent writes retried after timeouts.</li>
                        <li>Unbounded parallelism → rate limits/cost spikes.</li>
                        <li>Secrets/PII leakage in prompts, outputs, or logs.</li>
                      </ul>
                    </div>
                  </section>

                  {/* Key Features */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-cyan-500 rounded-full"></div>
                      Key Features
                    </h2>
                    <div className="grid grid-cols-1 md:grid-cols-2 gap-3">
                      {[
                        'Schema-based tool registry',
                        'Automatic parameter validation',
                        'Parallel execution controls',
                        'Timeouts/retries/circuit breakers',
                        'Idempotency & deduplication',
                        'Role/tenant-scoped permissions',
                        'Structured logging & auditability',
                        'Result normalization',
                      ].map((feat) => (
                        <div key={feat} className="p-3 bg-gray-800/40 rounded-lg text-gray-300 text-sm border border-gray-700/40">
                          {feat}
                        </div>
                      ))}
                    </div>
                  </section>

                  {/* KPIs / Success Metrics */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-emerald-500 rounded-full"></div>
                      KPIs / Success Metrics
                    </h2>
                    <div className="bg-gray-800/40 rounded-lg p-6 border border-gray-700/40">
                      <ul className="list-disc list-inside space-y-2 text-gray-300 text-sm">
                        <li>Tool-call success rate; validation error rate; retry/fallback rate.</li>
                        <li>Task completion rate and quality uplift vs. no-tools baseline.</li>
                        <li>Latency p50/p95 and parallel efficiency; cost per task.</li>
                      </ul>
                    </div>
                  </section>

                  {/* Token / Resource Usage */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-indigo-500 rounded-full"></div>
                      Token / Resource Usage
                    </h2>
                    <div className="bg-gray-800/40 rounded-lg p-6 border border-gray-700/40">
                      <ul className="list-disc list-inside space-y-2 text-gray-300 text-sm">
                        <li>Prompt: registry context + planning; Output: args JSON + synthesis.</li>
                        <li>External: API costs/egress/compute; cache common reads.</li>
                        <li>Heuristics: reason-first, call-if-needed; cap tool calls per turn.</li>
                      </ul>
                    </div>
                  </section>

                  {/* Best Use Cases */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-fuchsia-500 rounded-full"></div>
                      Best Use Cases
                    </h2>
                    <div className="bg-gray-800/40 rounded-lg p-6 border border-gray-700/40">
                      <ul className="list-disc list-inside space-y-2 text-gray-300 text-sm">
                        <li>Real-time retrieval and CRUD over business systems.</li>
                        <li>Research + calculation + scheduling + messaging assistants.</li>
                        <li>Enterprise automations with audit and least-privilege access.</li>
                      </ul>
                    </div>
                  </section>

                  {/* References & Further Reading */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-orange-500 rounded-full"></div>
                      References & Further Reading
                    </h2>
                    <div className="bg-gray-800/40 rounded-lg p-6 border border-gray-700/40 space-y-4">
                      <div>
                        <h3 className="text-white font-semibold mb-2 text-sm">Academic Papers</h3>
                        <ul className="list-disc list-inside space-y-1 text-gray-300 text-sm">
                          <li>ReAct (2022)</li>
                          <li>Toolformer (2023)</li>
                          <li>Gorilla (2023)</li>
                          <li>API-Bank / ToolBench (2023)</li>
                        </ul>
                      </div>
                      <div>
                        <h3 className="text-white font-semibold mb-2 text-sm">Implementation Guides</h3>
                        <ul className="list-disc list-inside space-y-1 text-gray-300 text-sm">
                          <li>OpenAI function calling/tool calls</li>
                          <li>Anthropic tool use (function_calls XML)</li>
                          <li>Google/Vertex function calling</li>
                        </ul>
                      </div>
                      <div>
                        <h3 className="text-white font-semibold mb-2 text-sm">Tools & Libraries</h3>
                        <ul className="list-disc list-inside space-y-1 text-gray-300 text-sm">
                          <li>Model Context Protocol (MCP)</li>
                          <li>LangChain tools</li>
                          <li>Semantic Kernel functions</li>
                          <li>LlamaIndex tools</li>
                          <li>Pydantic / JSON Schema validators</li>
                        </ul>
                      </div>
                      <div>
                        <h3 className="text-white font-semibold mb-2 text-sm">Community & Discussions</h3>
                        <ul className="list-disc list-inside space-y-1 text-gray-300 text-sm">
                          <li>Engineering blogs on safe tool use & orchestration</li>
                          <li>Open-source agent repos with function calling</li>
                          <li>Conference talks and workshops</li>
                        </ul>
                      </div>
                    </div>
                </section>
                </>
              ) : selectedTechnique.id === 'event-driven-orchestrator-worker' ? (
                <>
                  {/* Core Mechanism (short conceptual overview) */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-blue-500 rounded-full"></div>
                      Core Mechanism (short conceptual overview)
                    </h2>
                    <div className="bg-gradient-to-br from-blue-500/10 to-cyan-500/10 border border-blue-500/20 rounded-xl p-6">
                      <p className="text-gray-200 text-base leading-relaxed">
                        Central orchestrator coordinates work by publishing events/commands to topics or queues. Stateless workers in a
                        consumer group pull events, process tasks idempotently, and emit completion or result events. The orchestrator advances
                        the workflow based on observed events, enabling decoupled, asynchronous scaling and recovery via replay and DLQs.
                      </p>
                    </div>
                  </section>

                  {/* Workflow / Steps */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-purple-500 rounded-full"></div>
                      Workflow / Steps
                    </h2>
                    <div className="bg-gradient-to-br from-purple-500/10 to-blue-500/10 border border-purple-500/20 rounded-xl p-6">
                      <ol className="list-decimal list-inside space-y-2 text-gray-200 text-sm">
                        <li>Receive trigger (API/webhook/schedule) and persist correlation/workflow state.</li>
                        <li>Publish task events to a work topic/queue with keys for partition affinity and ordering where needed.</li>
                        <li>Workers consume in a consumer group, perform task with retries and timeouts, and write idempotent side effects.</li>
                        <li>On completion/failure, workers emit result/compensation events; errors can be routed to DLQ with metadata.</li>
                        <li>Orchestrator listens for result events, updates state, branches next steps, and aggregates final outcome.</li>
                      </ol>
                    </div>
                  </section>

                  {/* Best Practices */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-green-500 rounded-full"></div>
                      Best Practices
                    </h2>
                    <div className="grid gap-3">
                      {[
                        'Design idempotent handlers; use request/operation keys and deduplication to achieve exactly-once effects.',
                        'Adopt the transactional outbox/inbox pattern for cross-system reliability and to avoid dual-write anomalies.',
                        'Version event schemas; enforce compatibility via schema registry and contract tests.',
                        'Use consumer groups and partitions/shards for horizontal scalability; avoid hot keys.',
                        'Apply backpressure: prefetch/flow control, max in-flight per consumer, and adaptive concurrency.',
                        'Implement DLQs with triage metadata; set bounded retries with exponential backoff and jitter.',
                        'Correlate events with workflow/run IDs; emit structured logs/metrics/traces for end-to-end observability.',
                        'Secure topics/queues with authZ/authN; redact PII and secrets in payloads and logs.',
                      ].map((tip) => (
                        <div key={tip} className="flex items-start gap-3 p-3 bg-gray-800/40 rounded-lg">
                          <Check className="w-5 h-5 text-green-400 mt-0.5 flex-shrink-0" />
                          <span className="text-gray-300 text-sm leading-relaxed">{tip}</span>
                        </div>
                      ))}
                    </div>
                  </section>

                  {/* When NOT to Use */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-red-500 rounded-full"></div>
                      When NOT to Use
                    </h2>
                    <div className="bg-gray-800/40 rounded-lg p-6 border border-gray-700/40">
                      <ul className="list-disc list-inside space-y-2 text-gray-300 text-sm">
                        <li>Ultra-low latency, strictly synchronous request/response paths.</li>
                        <li>Simple, short-lived flows where orchestration overhead adds needless complexity.</li>
                        <li>Workloads requiring strict cross-service ACID transactions without compensation.</li>
                      </ul>
                    </div>
                  </section>

                  {/* Common Pitfalls */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-amber-500 rounded-full"></div>
                      Common Pitfalls
                    </h2>
                    <div className="bg-gray-800/40 rounded-lg p-6 border border-gray-700/40">
                      <ul className="list-disc list-inside space-y-2 text-gray-300 text-sm">
                        <li>Dual writes without atomicity → lost or duplicated work; missing outbox/inbox.</li>
                        <li>Assuming exactly-once delivery; most brokers are at-least-once—achieve idempotent processing instead.</li>
                        <li>Unbounded retries causing storms; no backoff, rate limits, or circuit breakers.</li>
                        <li>Hot partitions/keys leading to skew and latency spikes.</li>
                        <li>Opaque workflows with missing correlation IDs and trace propagation.</li>
                      </ul>
                    </div>
                  </section>

                  {/* Key Features */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-cyan-500 rounded-full"></div>
                      Key Features
                    </h2>
                    <div className="grid grid-cols-1 md:grid-cols-2 gap-3">
                      {[
                        'Decoupled orchestration via topics/queues',
                        'Consumer group-based load balancing',
                        'Automatic scaling and rebalancing',
                        'Event replay and DLQs for recovery',
                        'Ordering by key/partition where required',
                        'Stateless workers; durable workflow state in store',
                        'Policy-driven retries and compensation',
                        'End-to-end observability (metrics/logs/traces)'
                      ].map((feat) => (
                        <div key={feat} className="p-3 bg-gray-800/40 rounded-lg text-gray-300 text-sm border border-gray-700/40">
                          {feat}
                        </div>
                      ))}
                    </div>
                  </section>

                  {/* KPIs / Success Metrics */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-emerald-500 rounded-full"></div>
                      KPIs / Success Metrics
                    </h2>
                    <div className="bg-gray-800/40 rounded-lg p-6 border border-gray-700/40">
                      <ul className="list-disc list-inside space-y-2 text-gray-300 text-sm">
                        <li>Throughput (msgs/s, MB/s) per topic and per consumer group; consumer lag.</li>
                        <li>Latency p50/p95 end-to-end and per stage; retry/failure rate; DLQ rate and time-to-recover.</li>
                        <li>Workflow SLOs: time-to-completion, success rate, and cost per completed workflow.</li>
                      </ul>
                    </div>
                  </section>

                  {/* Token / Resource Usage */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-indigo-500 rounded-full"></div>
                      Token / Resource Usage
                    </h2>
                    <div className="bg-gray-800/40 rounded-lg p-6 border border-gray-700/40">
                      <ul className="list-disc list-inside space-y-2 text-gray-300 text-sm">
                        <li>Bound message size (e.g., ~256 KB SNS/SQS, ~10 MB Google Pub/Sub, Kafka configurable); store blobs externally and pass references.</li>
                        <li>Tune partitions, prefetch, and max in-flight to balance throughput vs. memory/CPU; compress payloads.</li>
                        <li>If LLMs participate, cap tokens per step; summarize events; log per-step token and cost budgets.</li>
                      </ul>
                    </div>
                  </section>

                  {/* Best Use Cases */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-fuchsia-500 rounded-full"></div>
                      Best Use Cases
                    </h2>
                    <div className="bg-gray-800/40 rounded-lg p-6 border border-gray-700/40">
                      <ul className="list-disc list-inside space-y-2 text-gray-300 text-sm">
                        <li>Document/media processing pipelines; batch and stream ETL.</li>
                        <li>Microservices orchestration with compensations (order → payment → fulfillment).</li>
                        <li>Real-time workflows with partitioned ordering needs and elastic scaling.</li>
                      </ul>
                    </div>
                  </section>

                  {/* References & Further Reading */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-orange-500 rounded-full"></div>
                      References & Further Reading
                    </h2>
                    <div className="bg-gray-800/40 rounded-lg p-6 border border-gray-700/40 space-y-4">
                      <div>
                        <h3 className="text-white font-semibold mb-2 text-sm">Academic Papers</h3>
                        <ul className="list-disc list-inside space-y-1 text-gray-300 text-sm">
                          <li><a href="https://www.usenix.org/legacy/events/hotos01/full_papers/welsh/welsh.pdf" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">SEDA: Staged Event-Driven Architecture (Welsh et al., 2001)</a></li>
                          <li><a href="https://assets.confluent.io/m/6e78838ea02980f6/original/20240311-white-paper-kafka-design.pdf" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">Kafka: Distributed Messaging for Log Processing (LinkedIn/Confluent)</a></li>
                          <li><a href="https://arxiv.org/abs/2006.08654" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">Triggerflow: Trigger-based Orchestration of Serverless Workflows</a></li>
                        </ul>
                      </div>
                      <div>
                        <h3 className="text-white font-semibold mb-2 text-sm">Implementation Guides</h3>
                        <ul className="list-disc list-inside space-y-1 text-gray-300 text-sm">
                          <li><a href="https://kafka.apache.org/documentation/#semantics_eos" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">Apache Kafka: Exactly-Once Semantics</a></li>
                          <li><a href="https://www.rabbitmq.com/dlx.html" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">RabbitMQ: Dead Letter Exchanges</a></li>
                          <li><a href="https://docs.aws.amazon.com/AWSSimpleQueueService/latest/SQSDeveloperGuide/sqs-dead-letter-queues.html" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">AWS SQS: Dead-Letter Queues</a></li>
                          <li><a href="https://cloud.google.com/pubsub/docs" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">Google Pub/Sub: Concepts and Limits</a></li>
                          <li><a href="https://docs.nats.io/nats-concepts/jetstream" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">NATS JetStream: Streams and Consumers</a></li>
                          <li><a href="https://microservices.io/patterns/data/transactional-outbox.html" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">Microservices.io: Transactional Outbox Pattern</a></li>
                        </ul>
                      </div>
                      <div>
                        <h3 className="text-white font-semibold mb-2 text-sm">Tools & Libraries</h3>
                        <ul className="list-disc list-inside space-y-1 text-gray-300 text-sm">
                          <li>Apache Kafka, RabbitMQ, Google Pub/Sub, AWS SNS/SQS, NATS JetStream, Redis Streams</li>
                          <li>Orchestrators: Temporal, Camunda, AWS Step Functions</li>
                          <li>Clients: librdkafka/Confluent, Sarama (Go), Spring Kafka/AMQP, aio-pika</li>
                        </ul>
                      </div>
                      <div>
                        <h3 className="text-white font-semibold mb-2 text-sm">Community & Discussions</h3>
                        <ul className="list-disc list-inside space-y-1 text-gray-300 text-sm">
                          <li><a href="https://lists.apache.org/list.html?users@kafka.apache.org" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">Kafka Users Mailing List</a></li>
                          <li>Conference talks and engineering blogs on event-driven architectures</li>
                        </ul>
                      </div>
                    </div>
                  </section>
                </>
              ) : selectedTechnique.id === 'resource-aware-scheduling' ? (
                <>
                  {/* Core Mechanism (short conceptual overview) */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-blue-500 rounded-full"></div>
                      Core Mechanism (short conceptual overview)
                    </h2>
                    <div className="bg-gradient-to-br from-teal-500/10 to-cyan-500/10 border border-teal-500/20 rounded-xl p-6">
                      <p className="text-gray-200 text-base leading-relaxed">
                        Resource-Aware Scheduling dynamically matches AI tasks with compute resources (CPU/GPU/TPU, memory, bandwidth)
                        using live telemetry and SLO/cost constraints. It combines techniques like dynamic batching, queueing, priority and
                        preemption, model placement, and autoscaling to meet latency/throughput targets while maximizing utilization and
                        respecting power/thermal and budget limits.
                      </p>
                    </div>
                  </section>

                  {/* Workflow / Steps */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-purple-500 rounded-full"></div>
                      Workflow / Steps
                    </h2>
                    <div className="bg-gradient-to-br from-purple-500/10 to-blue-500/10 border border-purple-500/20 rounded-xl p-6">
                      <ol className="list-decimal list-inside space-y-2 text-gray-200 text-sm">
                        <li>Profile tasks and models: latency SLOs, batchability, memory footprints (KV cache/weights), throughput targets.</li>
                        <li>Instrument resources: collect CPU/GPU utilization, memory, queue depth, temperature, power, and cost signals.</li>
                        <li>Admission control & routing: classify request priority/tier; route to suitable model/instance/region.</li>
                        <li>Scheduling & batching: form dynamic batches within SLO; apply priority, preemption, or isolation where needed.</li>
                        <li>Autoscaling & placement: scale replicas by queue/latency; place models to satisfy memory/affinity constraints.</li>
                        <li>Feedback control: monitor SLO attainment; adapt batch size/concurrency, and adjust priorities/budgets.</li>
                      </ol>
                    </div>
                  </section>

                  {/* Best Practices */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-green-500 rounded-full"></div>
                      Best Practices
                    </h2>
                    <div className="grid gap-3">
                      {[
                        'Use dynamic batching with per-tier latency budgets; separate low-latency from best-effort queues.',
                        'Right-size model placement by memory (weights + KV cache) and compute; avoid page thrash and OOM.',
                        'Implement priority and preemption for urgent requests; protect background jobs with quotas.',
                        'Tune concurrency per instance based on utilization and headroom; avoid head-of-line blocking.',
                        'Autoscale on queue depth and p95 latency; use warm pools for burstiness; prefer bin-packing for cost.',
                        'Instrument end-to-end: request, queue, batch, inference, and postprocessing stages with traces/metrics.',
                        'Apply regional/zone routing and model replicas for resilience; drain gracefully during rollouts.',
                        'Cap token/context budgets; compress/stream to meet SLOs and control spend.'
                      ].map((tip) => (
                        <div key={tip} className="flex items-start gap-3 p-3 bg-gray-800/40 rounded-lg">
                          <Check className="w-5 h-5 text-green-400 mt-0.5 flex-shrink-0" />
                          <span className="text-gray-300 text-sm leading-relaxed">{tip}</span>
                        </div>
                      ))}
                    </div>
                  </section>

                  {/* When NOT to Use */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-red-500 rounded-full"></div>
                      When NOT to Use
                    </h2>
                    <div className="bg-gray-800/40 rounded-lg p-6 border border-gray-700/40">
                      <ul className="list-disc list-inside space-y-2 text-gray-300 text-sm">
                        <li>Ultra-simplified/homogeneous workloads where static round-robin meets SLOs cheaply.</li>
                        <li>Hard real-time control loops where any batching/queuing overhead risks deadline misses.</li>
                        <li>Single-tenant, overprovisioned environments with negligible contention and stable load.</li>
                      </ul>
                    </div>
                  </section>

                  {/* Common Pitfalls */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-amber-500 rounded-full"></div>
                      Common Pitfalls
                    </h2>
                    <div className="bg-gray-800/40 rounded-lg p-6 border border-gray-700/40">
                      <ul className="list-disc list-inside space-y-2 text-gray-300 text-sm">
                        <li>Over-batching causing p95/p99 latency regressions; ignoring per-tier SLO budgets.</li>
                        <li>Insufficient GPU memory accounting for KV cache/token growth → OOMs and restarts.</li>
                        <li>Hotspot queues and head-of-line blocking; lack of isolation between tiers/tenants.</li>
                        <li>Reactive-only autoscaling with cold start penalties; no warm capacity for bursts.</li>
                        <li>Poor observability: missing queue time vs. inference time breakdown; blind tuning.</li>
                      </ul>
                    </div>
                  </section>

                  {/* Key Features */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-cyan-500 rounded-full"></div>
                      Key Features
                    </h2>
                    <div className="grid grid-cols-1 md:grid-cols-2 gap-3">
                      {[
                        'Real-time resource telemetry and SLO-aware routing',
                        'Dynamic batching and token-aware scheduling',
                        'Priority queues, preemption, and isolation per tier/tenant',
                        'Placement aware of memory/affinity and NUMA/GPU topology',
                        'Autoscaling with warm pools and bin-packing for cost',
                        'End-to-end traces, metrics, and policy-driven budgets'
                      ].map((feat) => (
                        <div key={feat} className="p-3 bg-gray-800/40 rounded-lg text-gray-300 text-sm border border-gray-700/40">
                          {feat}
                        </div>
                      ))}
                    </div>
                  </section>

                  {/* KPIs / Success Metrics */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-emerald-500 rounded-full"></div>
                      KPIs / Success Metrics
                    </h2>
                    <div className="bg-gray-800/40 rounded-lg p-6 border border-gray-700/40">
                      <ul className="list-disc list-inside space-y-2 text-gray-300 text-sm">
                        <li>Latency: p50/p95 end-to-end and queue time share; SLO attainment rate per tier.</li>
                        <li>Throughput: requests/s and tokens/s per instance and fleet; batch effectiveness.</li>
                        <li>Utilization: GPU SM/memory utilization, CPU utilization, saturation indicators.</li>
                        <li>Cost and efficiency: cost/request, tokens per dollar, energy per token.</li>
                        <li>Stability: error rate, OOM/restart rate, autoscale convergence time.</li>
                      </ul>
                    </div>
                  </section>

                  {/* Token / Resource Usage */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-indigo-500 rounded-full"></div>
                      Token / Resource Usage
                    </h2>
                    <div className="bg-gray-800/40 rounded-lg p-6 border border-gray-700/40">
                      <ul className="list-disc list-inside space-y-2 text-gray-300 text-sm">
                        <li>Budget input/output tokens per tier; enforce max context and apply compression/summarization.</li>
                        <li>Track KV cache growth vs. batch size and sequence length; reserve headroom to prevent OOM.</li>
                        <li>Use continuous/dynamic batching to improve tokens/s while honoring per-request deadlines.</li>
                        <li>Prefer streaming for tight SLOs; cut off long generations or down-tier models on budget pressure.</li>
                      </ul>
                    </div>
                  </section>

                  {/* Best Use Cases */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-fuchsia-500 rounded-full"></div>
                      Best Use Cases
                    </h2>
                    <div className="bg-gray-800/40 rounded-lg p-6 border border-gray-700/40">
                      <ul className="list-disc list-inside space-y-2 text-gray-300 text-sm">
                        <li>Multi-tenant LLM APIs with tiered latency/cost SLOs and bursty demand.</li>
                        <li>Real-time assistants and chat where TTFT and p95 latency are critical.</li>
                        <li>Batch/stream inference services in cloud and Kubernetes with autoscaling.</li>
                        <li>Edge/mobile deployments balancing battery, thermal limits, and offline modes.</li>
                        <li>Autonomous systems requiring deadline-aware perception/planning pipelines.</li>
                      </ul>
                    </div>
                  </section>

                  {/* References & Further Reading */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-orange-500 rounded-full"></div>
                      References & Further Reading
                    </h2>
                    <div className="bg-gray-800/40 rounded-lg p-6 border border-gray-700/40 space-y-4">
                      <div>
                        <h3 className="text-white font-semibold mb-2 text-sm">Academic Papers</h3>
                        <ul className="list-disc list-inside space-y-1 text-gray-300 text-sm">
                          <li><a href="https://www.usenix.org/system/files/nsdi20-paper-yu.pdf" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">Clockwork: Predictable Low-Latency Inference (NSDI 2020)</a></li>
                          <li><a href="https://dl.acm.org/doi/10.1145/3341301.3359636" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">Nexus: Multi-tenant Inference Serving (SOSP 2019)</a></li>
                          <li><a href="https://www.usenix.org/system/files/nsdi21-paper-romero.pdf" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">INFaaS: Managed Inference Serving (NSDI 2021)</a></li>
                          <li><a href="https://www.usenix.org/system/files/osdi19-yu.pdf" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">Salus: Fine-Grained GPU Sharing (OSDI 2019)</a></li>
                          <li><a href="https://www.usenix.org/system/files/osdi18-xiao.pdf" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">Gandiva: Introspective GPU Scheduler (OSDI 2018)</a></li>
                          <li><a href="https://www.usenix.org/system/files/nsdi19-gujarati.pdf" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">Tiresias: A GPU Cluster Manager (NSDI 2019)</a></li>
                        </ul>
                      </div>
                      <div>
                        <h3 className="text-white font-semibold mb-2 text-sm">Implementation Guides</h3>
                        <ul className="list-disc list-inside space-y-1 text-gray-300 text-sm">
                          <li><a href="https://docs.nvidia.com/deeplearning/triton-inference-server/user-guide/docs/scheduling_and_batching.html" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">NVIDIA Triton: Scheduling & Dynamic Batching</a></li>
                          <li><a href="https://docs.vllm.ai/en/latest/" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">vLLM: Continuous Batching and PagedAttention</a></li>
                          <li><a href="https://kserve.github.io/website/latest/" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">KServe: Model Serving on Kubernetes</a></li>
                          <li><a href="https://kubernetes.io/docs/concepts/scheduling-eviction/priority-preemption/" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">Kubernetes: Priority and Preemption</a></li>
                          <li><a href="https://keda.sh/docs/latest/" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">KEDA: Event-driven Autoscaling</a></li>
                          <li><a href="https://mlcommons.org/en/inference-datacenter/" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">MLPerf Inference: Benchmark Metrics</a></li>
                        </ul>
                      </div>
                      <div>
                        <h3 className="text-white font-semibold mb-2 text-sm">Tools & Libraries</h3>
                        <ul className="list-disc list-inside space-y-1 text-gray-300 text-sm">
                          <li><a href="https://github.com/triton-inference-server/server" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">NVIDIA Triton Inference Server</a>, <a href="https://github.com/vllm-project/vllm" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">vLLM</a>, <a href="https://docs.ray.io/en/latest/serve/index.html" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">Ray Serve</a>, <a href="https://pytorch.org/serve/" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">TorchServe</a></li>
                          <li><a href="https://prometheus.io/" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">Prometheus</a> / <a href="https://grafana.com/" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">Grafana</a>, <a href="https://developer.nvidia.com/dcgm" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">NVIDIA DCGM</a> for telemetry</li>
                          <li><a href="https://kubernetes.io/" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">Kubernetes</a>, <a href="https://istio.io/latest/" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">Istio</a> for traffic shaping</li>
                        </ul>
                      </div>
                      <div>
                        <h3 className="text-white font-semibold mb-2 text-sm">Community & Discussions</h3>
                        <ul className="list-disc list-inside space-y-1 text-gray-300 text-sm">
                          <li><a href="https://github.com/vllm-project/vllm/discussions" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">vLLM Discussions</a>, <a href="https://ray.io/slack" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">Ray Slack</a></li>
                          <li><a href="https://github.com/kserve/kserve/discussions" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">KServe Discussions</a>, <a href="https://discuss.kubernetes.io/" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">Kubernetes Forum</a></li>
                          <li><a href="https://forums.developer.nvidia.com/c/accelerated-computing/triton-inference-server/" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">NVIDIA Triton Forums</a></li>
                        </ul>
                      </div>
                    </div>
                  </section>
                </>
              ) : selectedTechnique.id === 'cost-aware-model-selection' ? (
                <>
                  {/* Core Mechanism (short conceptual overview) */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-blue-500 rounded-full"></div>
                      Core Mechanism (short conceptual overview)
                    </h2>
                    <div className="bg-gradient-to-br from-emerald-500/10 to-teal-500/10 border border-emerald-500/20 rounded-xl p-6">
                      <p className="text-gray-200 text-base leading-relaxed">
                        Cost-Aware Model Selection dynamically routes requests across multiple models (and providers) to optimize
                        the cost–quality–latency trade-off per task. It typically combines lightweight heuristics or learned
                        routers with cascades: attempt a low-cost model first, escalate to higher-capability models only when
                        confidence is low, quality thresholds are not met, or SLAs require it. Budgets, quality gates,
                        and per-tenant policies govern real-time decisions with continuous feedback from evaluation data.
                      </p>
                    </div>
                  </section>

                  {/* Workflow / Steps */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-purple-500 rounded-full"></div>
                      Workflow / Steps
                    </h2>
                    <div className="bg-gradient-to-br from-purple-500/10 to-blue-500/10 border border-purple-500/20 rounded-xl p-6">
                      <ol className="list-decimal list-inside space-y-2 text-gray-200 text-sm">
                        <li>Define objectives: target quality (e.g., pass rate on a golden set), latency SLOs, and budget caps.</li>
                        <li>Inventory models: capabilities, pricing per 1K tokens (input/output), context limits, regions, reliability.</li>
                        <li>Build an evaluation set: representative prompts with ground truth or human-rated quality rubrics.</li>
                        <li>Design routing policy: rules or ML router using features (task type, length, uncertainty/confidence, user tier).</li>
                        <li>Implement cascades: start with cheaper/faster models; escalate on low confidence, safety triggers, or quality shortfall.</li>
                        <li>Add governance: per-tenant budgets, regional/compliance routing, allow/deny lists, kill switches.</li>
                        <li>Monitor and learn: log tokens, cost, latency, quality; periodically retrain routers and refresh pricing tables.</li>
                        <li>Release safely: canary new routes/models, run A/B against baseline, roll back on KPI regression.</li>
                      </ol>
                    </div>
                  </section>

                  {/* Best Practices */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-green-500 rounded-full"></div>
                      Best Practices
                    </h2>
                    <div className="grid gap-3">
                      {[
                        'Segment traffic by priority/tier; reserve premium models for high-value or strict-SLA requests.',
                        'Maintain up-to-date pricing and tokenization differences per provider; verify input vs. output token costs.',
                        'Use measurable quality thresholds (rubrics, automated checks) and confidence/uncertainty gating.',
                        'Cache frequent results and partial reasoning; reuse embeddings/summaries to reduce repeated tokens.',
                        'Design for graceful degradation and explicit fallbacks across providers/regions.',
                        'Continuously evaluate with a golden set; monitor drift and re-tune router thresholds regularly.',
                        'Log granular telemetry: tokens, cost, latency percentiles, route decisions and reasons.',
                        'Isolate tenants with per-tenant budgets/quotas; protect critical paths with strict SLAs.'
                      ].map((tip) => (
                        <div key={tip} className="flex items-start gap-3 p-3 bg-gray-800/40 rounded-lg">
                          <Check className="w-5 h-5 text-green-400 mt-0.5 flex-shrink-0" />
                          <span className="text-gray-300 text-sm leading-relaxed">{tip}</span>
                        </div>
                      ))}
                    </div>
                  </section>

                  {/* When NOT to Use */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-red-500 rounded-full"></div>
                      When NOT to Use
                    </h2>
                    <div className="bg-gray-800/40 rounded-lg p-6 border border-gray-700/40">
                      <ul className="list-disc list-inside space-y-2 text-gray-300 text-sm">
                        <li>Single-model deployments that already meet cost, quality, and latency targets with low variance.</li>
                        <li>Regulatory/contractual constraints forbidding cross-region/provider routing or quality variance.</li>
                        <li>Very low traffic where router complexity and observability overhead outweigh cost savings.</li>
                      </ul>
                    </div>
                  </section>

                  {/* Common Pitfalls */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-amber-500 rounded-full"></div>
                      Common Pitfalls
                    </h2>
                    <div className="bg-gray-800/40 rounded-lg p-6 border border-gray-700/40">
                      <ul className="list-disc list-inside space-y-2 text-gray-300 text-sm">
                        <li>Stale pricing/capabilities tables leading to suboptimal or non-compliant routing.</li>
                        <li>Missing fallbacks and budget guards; outages or spikes cause failures and runaway spend.</li>
                        <li>Quality regressions from uncalibrated confidence thresholds or evaluation drift.</li>
                        <li>Ignoring tokenization differences (providers count tokens differently) and output token multipliers.</li>
                        <li>Mixing sensitive data with cheaper models that lack regional/compliance guarantees.</li>
                      </ul>
                    </div>
                  </section>

                  {/* Key Features */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-cyan-500 rounded-full"></div>
                      Key Features
                    </h2>
                    <div className="grid grid-cols-1 md:grid-cols-2 gap-3">
                      {[
                        'Multi-model pool with provider failover and regional routing',
                        'Quality gates with confidence/uncertainty thresholds and automated checks',
                        'Budget caps per tenant/route with real-time enforcement and alerts',
                        'Dynamic cascades and progressive escalation',
                        'Offline evaluation sets and continuous learning routers',
                        'Canary releases, policy-based overrides, and kill switches'
                      ].map((feat) => (
                        <div key={feat} className="p-3 bg-gray-800/40 rounded-lg text-gray-300 text-sm border border-gray-700/40">
                          {feat}
                        </div>
                      ))}
                    </div>
                  </section>

                  {/* KPIs / Success Metrics */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-emerald-500 rounded-full"></div>
                      KPIs / Success Metrics
                    </h2>
                    <div className="bg-gray-800/40 rounded-lg p-6 border border-gray-700/40">
                      <ul className="list-disc list-inside space-y-2 text-gray-300 text-sm">
                        <li>Cost efficiency: $/request, tokens per dollar, budget adherence rate.</li>
                        <li>Quality: pass rate vs. golden set, human rating uplift, escalation rate.</li>
                        <li>Routing accuracy: agreement with oracle/baseline router; avoidable escalations avoided.</li>
                        <li>Latency: p50/p95 end-to-end and per-route; escalation overhead.</li>
                        <li>Reliability: timeout/error rate, failover success, on-call incidents avoided.</li>
                      </ul>
                    </div>
                  </section>

                  {/* Token / Resource Usage */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-indigo-500 rounded-full"></div>
                      Token / Resource Usage
                    </h2>
                    <div className="bg-gray-800/40 rounded-lg p-6 border border-gray-700/40">
                      <ul className="list-disc list-inside space-y-2 text-gray-300 text-sm">
                        <li>Track input/output tokens separately; many providers price them differently.</li>
                        <li>Measure cascade overhead (multiple calls on one request); gate by confidence to avoid unnecessary escalations.</li>
                        <li>Constrain context length; apply compression/summarization and retrieval planning to control tokens.</li>
                        <li>Use caching for frequent prompts/intermediates; persist embeddings/summaries for reuse.</li>
                      </ul>
                    </div>
                  </section>

                  {/* Best Use Cases */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-fuchsia-500 rounded-full"></div>
                      Best Use Cases
                    </h2>
                    <div className="bg-gray-800/40 rounded-lg p-6 border border-gray-700/40">
                      <ul className="list-disc list-inside space-y-2 text-gray-300 text-sm">
                        <li>High-volume support automation with strict budgets and variable difficulty.</li>
                        <li>Summarization, extraction, and Q&A where many requests are easy but some need escalation.</li>
                        <li>Multi-tenant platforms offering cost/quality tiers and enterprise SLAs.</li>
                        <li>Global deployments requiring regional routing and compliance-aware fallback.</li>
                      </ul>
                    </div>
                  </section>

                  {/* References & Further Reading */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-orange-500 rounded-full"></div>
                      References & Further Reading
                    </h2>
                    <div className="bg-gray-800/40 rounded-lg p-6 border border-gray-700/40 space-y-4">
                      <div>
                        <h3 className="text-white font-semibold mb-2 text-sm">Academic Papers</h3>
                        <ul className="list-disc list-inside space-y-1 text-gray-300 text-sm">
                          <li><a href="https://arxiv.org/abs/2305.16515" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">FrugalGPT: How to Use Large Language Models While Reducing Cost and Improving Performance (2023)</a></li>
                          <li><a href="https://arxiv.org/abs/2207.07061" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">Confident Adaptive Language Modeling (CALM) for Early-Exit Cascades</a></li>
                          <li><a href="https://arxiv.org/abs/2302.01318" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">Speculative Decoding for Faster/Lower-Cost Inference</a></li>
                          <li><a href="https://arxiv.org/abs/1603.08983" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">BranchyNet: Early Exits for Deep Networks (general early-exit concept)</a></li>
                        </ul>
                      </div>
                      <div>
                        <h3 className="text-white font-semibold mb-2 text-sm">Implementation Guides</h3>
                        <ul className="list-disc list-inside space-y-1 text-gray-300 text-sm">
                          <li><a href="https://docs.litellm.ai/docs/routing" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">LiteLLM Router: Cost/Quality-aware Routing</a></li>
                          <li><a href="https://python.langchain.com/docs/use_cases/model_selectors/" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">LangChain RouterChain: Model Selection</a></li>
                          <li><a href="https://docs.llamaindex.ai/en/stable/module_guides/querying/router/" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">LlamaIndex Router: Query Routing</a></li>
                          <li><a href="https://openrouter.ai/" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">OpenRouter: Unified Access to Multiple Providers</a></li>
                          <li><a href="https://platform.openai.com/docs/pricing" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">OpenAI: Pricing</a>, <a href="https://www.anthropic.com/pricing#api" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">Anthropic: Pricing</a>, <a href="https://ai.google.dev/pricing" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">Google AI: Pricing</a></li>
                        </ul>
                      </div>
                      <div>
                        <h3 className="text-white font-semibold mb-2 text-sm">Tools & Libraries</h3>
                        <ul className="list-disc list-inside space-y-1 text-gray-300 text-sm">
                          <li>LiteLLM Router, OpenRouter, LangChain RouterChain, LlamaIndex Router</li>
                          <li>Ray Serve, vLLM, NVIDIA Triton for serving and observability</li>
                          <li>Langfuse, Phoenix (Arize) for evaluation and telemetry</li>
                        </ul>
                      </div>
                      <div>
                        <h3 className="text-white font-semibold mb-2 text-sm">Community & Discussions</h3>
                        <ul className="list-disc list-inside space-y-1 text-gray-300 text-sm">
                          <li><a href="https://discord.gg/litellm" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">LiteLLM Discord</a>, <a href="https://discord.gg/openrouter" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">OpenRouter Discord</a></li>
                          <li><a href="https://discuss.huggingface.co/" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">Hugging Face Forum</a>, <a href="https://mlops.community/" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">MLOps Community</a></li>
                        </ul>
                      </div>
                    </div>
                  </section>
                </>
              ) : selectedTechnique.id === 'energy-efficient-inference' ? (
                <>
                  {/* Core Mechanism (short conceptual overview) */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-blue-500 rounded-full"></div>
                      Core Mechanism (short conceptual overview)
                    </h2>
                    <div className="bg-gradient-to-br from-teal-500/10 to-cyan-500/10 border border-teal-500/20 rounded-xl p-6">
                      <p className="text-gray-200 text-base leading-relaxed">
                        Energy‑Efficient Inference minimizes joules per output while maintaining accuracy and latency by combining
                        model compression (quantization, pruning, distillation), adaptive computation (early exit, dynamic depth,
                        token and attention sparsity), optimized kernels (e.g., FlashAttention), and hardware‑aware serving
                        (continuous/dynamic batching, KV‑cache policies, and power/thermal limits). The goal is to deliver required
                        quality using the least energy per request or token on the target device or cluster.
                      </p>
                    </div>
                  </section>

                  {/* Workflow / Steps */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-purple-500 rounded-full"></div>
                      Workflow / Steps
                    </h2>
                    <div className="bg-gradient-to-br from-purple-500/10 to-blue-500/10 border border-purple-500/20 rounded-xl p-6">
                      <ol className="list-decimal list-inside space-y-2 text-gray-200 text-sm">
                        <li>Baseline and targets: measure latency, throughput, accuracy, and energy (J/request or J/token).</li>
                        <li>Compress the model: apply PTQ/QAT (INT8/INT4, activation‑aware), pruning (structured), and distillation.</li>
                        <li>Enable adaptive compute: early‑exit or dynamic depth; selective compute for hard spans; speculative decoding.</li>
                        <li>Optimize kernels/memory: use efficient attention, KV‑cache paging/quantization, and operator fusion.</li>
                        <li>Serving & batching: use continuous/dynamic batching within SLO; right‑size concurrency and placement.</li>
                        <li>Hardware tuning: prefer low‑precision tensor cores/NPU; cap clocks/boost by SLO; manage thermal throttling.</li>
                        <li>Monitor & iterate: track energy, tokens/s, accuracy drift; rollback if energy savings hurt SLOs/quality.</li>
                      </ol>
                    </div>
                  </section>

                  {/* Best Practices */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-green-500 rounded-full"></div>
                      Best Practices
                    </h2>
                    <div className="grid gap-3">
                      {[
                        'Start with PTQ on weights and activations (INT8/INT4); use activation‑aware or smooth quantization to preserve accuracy.',
                        'Combine structured pruning with distillation; validate on downstream tasks, not only pretraining metrics.',
                        'Adopt efficient attention kernels (e.g., FlashAttention) and paged/quantized KV cache to cut memory traffic.',
                        'Use early‑exit/dynamic depth and token/attention sparsity to reduce compute on easy inputs.',
                        'Batch aggressively when latency budgets allow; otherwise use micro‑batches and streaming.',
                        'Pin models to hardware that supports low‑precision acceleration; avoid precision up/down casts in hot paths.',
                        'Continuously profile power (NVML/DCGM, RAPL) alongside p95 latency and accuracy to avoid regressions.'
                      ].map((tip) => (
                        <div key={tip} className="flex items-start gap-3 p-3 bg-gray-800/40 rounded-lg">
                          <Check className="w-5 h-5 text-green-400 mt-0.5 flex-shrink-0" />
                          <span className="text-gray-300 text-sm leading-relaxed">{tip}</span>
                        </div>
                      ))}
                    </div>
                  </section>

                  {/* When NOT to Use */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-red-500 rounded-full"></div>
                      When NOT to Use
                    </h2>
                    <div className="bg-gray-800/40 rounded-lg p-6 border border-gray-700/40">
                      <ul className="list-disc list-inside space-y-2 text-gray-300 text-sm">
                        <li>Applications requiring strict numerical fidelity or determinism incompatible with low precision.</li>
                        <li>Hard real‑time deadlines where batching/verification (e.g., speculative decoding) violates SLOs.</li>
                        <li>Compliance‑critical domains where model changes (quantization/pruning) need lengthy re‑validation.</li>
                      </ul>
                    </div>
                  </section>

                  {/* Common Pitfalls */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-amber-500 rounded-full"></div>
                      Common Pitfalls
                    </h2>
                    <div className="bg-gray-800/40 rounded-lg p-6 border border-gray-700/40">
                      <ul className="list-disc list-inside space-y-2 text-gray-300 text-sm">
                        <li>Over‑quantization or uncalibrated activations causing large accuracy drops on downstream tasks.</li>
                        <li>Unstructured pruning that yields sparse tensors unsupported by the target hardware kernels.</li>
                        <li>Ignoring memory bandwidth/KV‑cache pressure; FLOP reductions alone may not save energy.</li>
                        <li>Measuring only watts, not energy per useful output (J/request, J/token) and user‑perceived latency.</li>
                      </ul>
                    </div>
                  </section>

                  {/* Key Features */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-cyan-500 rounded-full"></div>
                      Key Features
                    </h2>
                    <div className="grid grid-cols-1 md:grid-cols-2 gap-3">
                      {[
                        'Low‑precision execution (INT8/INT4) with activation‑aware calibration',
                        'Structured pruning and knowledge distillation to smaller students',
                        'Efficient attention kernels and KV‑cache optimization',
                        'Adaptive computation: early exit, dynamic depth, token/attention sparsity',
                        'Continuous/dynamic batching and streaming for utilization',
                        'Power/thermal‑aware scheduling and placement'
                      ].map((feat) => (
                        <div key={feat} className="p-3 bg-gray-800/40 rounded-lg text-gray-300 text-sm border border-gray-700/40">
                          {feat}
                        </div>
                      ))}
                    </div>
                  </section>

                  {/* KPIs / Success Metrics */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-emerald-500 rounded-full"></div>
                      KPIs / Success Metrics
                    </h2>
                    <div className="bg-gray-800/40 rounded-lg p-6 border border-gray-700/40">
                      <ul className="list-disc list-inside space-y-2 text-gray-300 text-sm">
                        <li>Energy: joules per request and per output token; average and p95 watts under load.</li>
                        <li>Latency/TTFT/TPOT: p50/p95 latency and time‑to‑first‑token/time‑per‑output‑token.</li>
                        <li>Throughput/utilization: tokens per second; GPU SM and memory utilization; batch effectiveness.</li>
                        <li>Quality: task accuracy/human ratings vs. baseline; drift post‑compression.</li>
                        <li>Stability: OOM/retry rate, thermal throttling incidence, autoscale convergence time.</li>
                      </ul>
                    </div>
                  </section>

                  {/* Token / Resource Usage */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-indigo-500 rounded-full"></div>
                      Token / Resource Usage
                    </h2>
                    <div className="bg-gray-800/40 rounded-lg p-6 border border-gray-700/40">
                      <ul className="list-disc list-inside space-y-2 text-gray-300 text-sm">
                        <li>Quantize weights/activations and optionally KV cache; track memory footprint per concurrent stream.</li>
                        <li>Adopt efficient attention and cache paging to reduce DRAM traffic (often dominant energy component).</li>
                        <li>Cap context length and use compression/summarization; prefer streaming to avoid long stalls.</li>
                        <li>Tune batch size/concurrency to maximize tokens/s within SLO and thermal/power envelopes.</li>
                      </ul>
                    </div>
                  </section>

                  {/* Best Use Cases */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-fuchsia-500 rounded-full"></div>
                      Best Use Cases
                    </h2>
                    <div className="bg-gray-800/40 rounded-lg p-6 border border-gray-700/40">
                      <ul className="list-disc list-inside space-y-2 text-gray-300 text-sm">
                        <li>Edge/mobile inference with battery and thermal limits; intermittent connectivity.</li>
                        <li>High‑volume serving where energy and cost per token dominate (contact center, summarization).</li>
                        <li>On‑prem/colo deployments with fixed power caps; sustainability‑driven SLAs.</li>
                      </ul>
                    </div>
                  </section>

                  {/* References & Further Reading */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-orange-500 rounded-full"></div>
                      References & Further Reading
                    </h2>
                    <div className="bg-gray-800/40 rounded-lg p-6 border border-gray-700/40 space-y-4">
                      <div>
                        <h3 className="text-white font-semibold mb-2 text-sm">Academic Papers</h3>
                        <ul className="list-disc list-inside space-y-1 text-gray-300 text-sm">
                          <li><a href="https://arxiv.org/abs/2211.10438" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">SmoothQuant: Accurate and Efficient Post‑Training Quantization for LLMs (2022)</a></li>
                          <li><a href="https://arxiv.org/abs/2306.00978" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">AWQ: Activation‑Aware Weight Quantization for LLMs (2023)</a></li>
                          <li><a href="https://arxiv.org/abs/2208.07339" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">LLM.int8(): 8‑bit Matrix Multiplication for Transformers (2022)</a></li>
                          <li><a href="https://arxiv.org/abs/2206.01861" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">ZeroQuant: Efficient Low‑Bit Quantization for Large‑Scale Transformers (2022)</a></li>
                          <li><a href="https://arxiv.org/abs/2004.12903" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">DeeBERT: Dynamic Early Exiting for Efficient BERT Inference (2020)</a></li>
                          <li><a href="https://arxiv.org/abs/2302.01318" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">Speculative Decoding (2023)</a></li>
                          <li><a href="https://arxiv.org/abs/2205.14135" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">FlashAttention: Fast and Memory‑Efficient Exact Attention (2022/2023)</a></li>
                        </ul>
                      </div>
                      <div>
                        <h3 className="text-white font-semibold mb-2 text-sm">Implementation Guides</h3>
                        <ul className="list-disc list-inside space-y-1 text-gray-300 text-sm">
                          <li><a href="https://docs.nvidia.com/deeplearning/tensorrt/developer-guide/index.html#int8-calibration" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">NVIDIA TensorRT: INT8 Calibration</a></li>
                          <li><a href="https://onnxruntime.ai/docs/performance/quantization.html" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">ONNX Runtime: Quantization</a></li>
                          <li><a href="https://pytorch.org/docs/stable/quantization.html" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">PyTorch: torch.ao.quantization</a></li>
                          <li><a href="https://www.tensorflow.org/model_optimization/guide/quantization" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">TensorFlow Model Optimization Toolkit: Quantization</a></li>
                          <li><a href="https://docs.openvino.ai/latest/openvino_docs_OV_UG_Quantization_overview.html" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">OpenVINO: Post‑Training Quantization</a></li>
                          <li><a href="https://tvm.apache.org/docs/how_to/tune_with_autoscheduler/index.html" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">Apache TVM: Auto‑scheduler Tuning</a></li>
                          <li><a href="https://docs.nvidia.com/datacenter/dcgm/latest/user-guide/dcgm-user-guide/" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">NVIDIA DCGM: GPU Telemetry & Power</a></li>
                          <li><a href="https://developer.nvidia.com/nvidia-management-library-nvml" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">NVIDIA NVML: Power Measurement API</a></li>
                          <li><a href="https://www.kernel.org/doc/Documentation/power/intel_rapl.txt" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">Intel RAPL: Power Measurement</a></li>
                          <li><a href="https://mlcommons.org/en/inference-power/" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">MLPerf Inference: Power Measurement</a></li>
                        </ul>
                      </div>
                      <div>
                        <h3 className="text-white font-semibold mb-2 text-sm">Tools & Libraries</h3>
                        <ul className="list-disc list-inside space-y-1 text-gray-300 text-sm">
                          <li><a href="https://github.com/NVIDIA/TensorRT" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">TensorRT</a>, <a href="https://onnxruntime.ai/" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">ONNX Runtime</a>, <a href="https://pytorch.org/" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">PyTorch</a>, <a href="https://www.tensorflow.org/lite" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">TensorFlow Lite</a>, <a href="https://github.com/apple/coremltools" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">Core ML Tools</a>, <a href="https://www.openvino.ai/" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">OpenVINO</a>, <a href="https://tvm.apache.org/" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">TVM</a></li>
                          <li><a href="https://github.com/vllm-project/vllm" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">vLLM</a> (continuous batching, paged attention)</li>
                        </ul>
                      </div>
                      <div>
                        <h3 className="text-white font-semibold mb-2 text-sm">Community & Discussions</h3>
                        <ul className="list-disc list-inside space-y-1 text-gray-300 text-sm">
                          <li><a href="https://github.com/vllm-project/vllm/discussions" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">vLLM Discussions</a>, <a href="https://mlcommons.org/en/groups/inference/" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">MLCommons Inference</a></li>
                          <li><a href="https://github.com/withhaotian/awesome-efficient-LLM-inference-papers" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">Awesome Efficient LLM Inference Papers</a></li>
                        </ul>
                      </div>
                    </div>
                  </section>
                </>
              ) : selectedTechnique.id === 'memory-optimization' ? (
                <>
                  {/* Core Mechanism (short conceptual overview) */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-blue-500 rounded-full"></div>
                      Core Mechanism (short conceptual overview)
                    </h2>
                    <div className="bg-gradient-to-br from-cyan-500/10 to-blue-500/10 border border-cyan-500/20 rounded-xl p-6">
                      <p className="text-gray-200 text-base leading-relaxed">
                        Memory Optimization for LLMs reduces peak and steady-state memory by combining quantization (weights/KV cache),
                        efficient attention (paged KV cache), activation/gradient checkpointing, sharding/offloading, and context
                        compression. The goal is to fit larger models and longer sequences on limited hardware while maintaining
                        throughput, latency, and accuracy targets.
                      </p>
                    </div>
                  </section>

                  {/* Workflow / Steps */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-purple-500 rounded-full"></div>
                      Workflow / Steps
                    </h2>
                    <div className="bg-gradient-to-br from-purple-500/10 to-blue-500/10 border border-purple-500/20 rounded-xl p-6">
                      <ol className="list-decimal list-inside space-y-2 text-gray-200 text-sm">
                        <li>Profile memory: weights, optimizer states, activations, and KV cache growth vs. sequence length and batch size.</li>
                        <li>Right-size precision: apply weight quantization (e.g., 8-bit/4-bit) and mixed precision for compute.</li>
                        <li>Optimize attention memory: enable paged KV cache and sliding windows; cap max generation/context.</li>
                        <li>Shard and offload: use ZeRO/FSDP, tensor/pipeline parallelism; offload weights/optimizer/KV to CPU/NVMe when needed.</li>
                        <li>Reduce activation pressure: gradient checkpointing, recomputation, micro-batching.</li>
                        <li>Compress context: deduplicate, rerank, summarize; prefer retrieval of spans over full documents.</li>
                        <li>Validate accuracy and latency; tune batch size, draft length (if speculative), and cache policies.</li>
                      </ol>
                    </div>
                  </section>

                  {/* Best Practices */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-green-500 rounded-full"></div>
                      Best Practices
                    </h2>
                    <div className="grid gap-3">
                      {[
                        'Use paged KV cache for near-zero waste memory and stable throughput at long sequence lengths.',
                        'Prefer 4-bit/8-bit quantization for weights; test AWQ/GPTQ for inference; QLoRA for fine-tuning.',
                        'Quantize KV cache where supported (TensorRT-LLM, vLLM options) when quality impact is acceptable.',
                        'Enable gradient checkpointing and activation recomputation for training/fine-tuning.',
                        'Adopt FSDP/ZeRO to shard weights, gradients, and optimizer state; overlap comms with compute.',
                        'Bound sequence lengths; apply sliding windows and summaries for context growth control.',
                        'Instrument GPU memory, fragmentation, and cache hit rates; alert on OOM and page thrash.',
                        'Store large blobs outside messages; pass references; stream outputs for tight latency budgets.'
                      ].map((tip) => (
                        <div key={tip} className="flex items-start gap-3 p-3 bg-gray-800/40 rounded-lg">
                          <Check className="w-5 h-5 text-green-400 mt-0.5 flex-shrink-0" />
                          <span className="text-gray-300 text-sm leading-relaxed">{tip}</span>
                        </div>
                      ))}
                    </div>
                  </section>

                  {/* When NOT to Use */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-red-500 rounded-full"></div>
                      When NOT to Use
                    </h2>
                    <div className="bg-gray-800/40 rounded-lg p-6 border border-gray-700/40">
                      <ul className="list-disc list-inside space-y-2 text-gray-300 text-sm">
                        <li>Ultra-high-accuracy scenarios where aggressive quantization harms quality beyond acceptable thresholds.</li>
                        <li>Hard real-time systems where recomputation/offloading introduces unacceptable latency jitter.</li>
                        <li>Simple/small models already fitting with ample headroom, where added complexity yields little benefit.</li>
                      </ul>
                    </div>
                  </section>

                  {/* Common Pitfalls */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-amber-500 rounded-full"></div>
                      Common Pitfalls
                    </h2>
                    <div className="bg-gray-800/40 rounded-lg p-6 border border-gray-700/40">
                      <ul className="list-disc list-inside space-y-2 text-gray-300 text-sm">
                        <li>Ignoring KV cache growth with long generations → OOM despite small batch sizes.</li>
                        <li>Applying quantization without calibration/evaluation → silent accuracy regression.</li>
                        <li>Over-aggressive offloading causing PCIe/NVMe bottlenecks and latency spikes.</li>
                        <li>Fragmentation from frequent alloc/free of variable-length KV blocks without paging.</li>
                        <li>Under-instrumented systems: no visibility into per-request memory budgets or cache hit/miss.</li>
                      </ul>
                    </div>
                  </section>

                  {/* Key Features */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-cyan-500 rounded-full"></div>
                      Key Features
                    </h2>
                    <div className="grid grid-cols-1 md:grid-cols-2 gap-3">
                      {[
                        'Paged KV cache with block-level reuse and eviction',
                        'Weight and KV quantization (8-bit / 4-bit options)',
                        'Activation/gradient checkpointing and recomputation',
                        'Model sharding: tensor, pipeline, and ZeRO/FSDP',
                        'Context compression and sliding-window attention',
                        'CPU/NVMe offload with prefetch and overlap'
                      ].map((feat) => (
                        <div key={feat} className="p-3 bg-gray-800/40 rounded-lg text-gray-300 text-sm border border-gray-700/40">
                          {feat}
                        </div>
                      ))}
                    </div>
                  </section>

                  {/* KPIs / Success Metrics */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-emerald-500 rounded-full"></div>
                      KPIs / Success Metrics
                    </h2>
                    <div className="bg-gray-800/40 rounded-lg p-6 border border-gray-700/40">
                      <ul className="list-disc list-inside space-y-2 text-gray-300 text-sm">
                        <li>Peak and average GPU memory usage; fragmentation and headroom.</li>
                        <li>Tokens per second at target context lengths; p50/p95 TTFT and latency.</li>
                        <li>OOM/restart rate; cache hit rate; paging/eviction rate.</li>
                        <li>Quality delta vs. FP16/BF16 baselines after quantization/compression.</li>
                        <li>Cost efficiency: tokens per dollar; energy per token.</li>
                      </ul>
                    </div>
                  </section>

                  {/* Token / Resource Usage */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-indigo-500 rounded-full"></div>
                      Token / Resource Usage
                    </h2>
                    <div className="bg-gray-800/40 rounded-lg p-6 border border-gray-700/40">
                      <ul className="list-disc list-inside space-y-2 text-gray-300 text-sm">
                        <li>Budget max input and output tokens; enforce sliding windows and truncation policies.</li>
                        <li>Track KV cache bytes/token; prefer paged allocations to avoid large contiguous blocks.</li>
                        <li>Use continuous batching and context packing to raise utilization with bounded memory.</li>
                        <li>Favor streaming responses to reduce peak memory and improve perceived latency.</li>
                      </ul>
                    </div>
                  </section>

                  {/* Best Use Cases */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-fuchsia-500 rounded-full"></div>
                      Best Use Cases
                    </h2>
                    <div className="bg-gray-800/40 rounded-lg p-6 border border-gray-700/40">
                      <ul className="list-disc list-inside space-y-2 text-gray-300 text-sm">
                        <li>LLM serving with long contexts and high concurrency on limited-GPU fleets.</li>
                        <li>On-prem/edge deployments with strict VRAM limits requiring quantization and paging.</li>
                        <li>Fine-tuning/LoRA on consumer GPUs using QLoRA, checkpointing, and micro-batching.</li>
                        <li>Multi-tenant platforms balancing cost, quality, and latency via memory-aware scheduling.</li>
                      </ul>
                    </div>
                  </section>

                  {/* References & Further Reading */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-orange-500 rounded-full"></div>
                      References & Further Reading
                    </h2>
                    <div className="bg-gray-800/40 rounded-lg p-6 border border-gray-700/40 space-y-4">
                      <div>
                        <h3 className="text-white font-semibold mb-2 text-sm">Academic Papers</h3>
                        <ul className="list-disc list-inside space-y-1 text-gray-300 text-sm">
                          <li><a href="https://arxiv.org/abs/2309.06180" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">vLLM: Efficient Memory Management for LLM Serving with PagedAttention (2023)</a></li>
                          <li><a href="https://arxiv.org/abs/2305.14314" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">QLoRA: Efficient Finetuning of Quantized LLMs (2023)</a></li>
                          <li><a href="https://arxiv.org/abs/1910.02054" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">ZeRO: Memory Optimizations Toward Training Trillion-Parameter Models (2019)</a></li>
                          <li><a href="https://arxiv.org/abs/2307.08691" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">FlashAttention-2: Faster Attention with Better Memory Utilization (2023)</a></li>
                        </ul>
                      </div>
                      <div>
                        <h3 className="text-white font-semibold mb-2 text-sm">Implementation Guides</h3>
                        <ul className="list-disc list-inside space-y-1 text-gray-300 text-sm">
                          <li><a href="https://docs.vllm.ai/en/latest/" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">vLLM Documentation: PagedAttention and KV Cache</a></li>
                          <li><a href="https://pytorch.org/docs/stable/fsdp.html" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">PyTorch FSDP: Fully Sharded Data Parallel</a></li>
                          <li><a href="https://www.deepspeed.ai/tutorials/zero/" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">DeepSpeed ZeRO Tutorials</a></li>
                          <li><a href="https://nvidia.github.io/TensorRT-LLM/" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">TensorRT-LLM: Inference Optimization and KV Cache Quantization</a></li>
                          <li><a href="https://huggingface.co/docs/text-generation-inference/index" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">Hugging Face TGI: Memory and Throughput Tuning</a></li>
                        </ul>
                      </div>
                      <div>
                        <h3 className="text-white font-semibold mb-2 text-sm">Tools & Libraries</h3>
                        <ul className="list-disc list-inside space-y-1 text-gray-300 text-sm">
                          <li><a href="https://github.com/vllm-project/vllm" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">vLLM</a>, <a href="https://github.com/huggingface/text-generation-inference" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">Text Generation Inference</a>, <a href="https://github.com/NVIDIA/TensorRT-LLM" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">TensorRT-LLM</a></li>
                          <li><a href="https://github.com/TimDettmers/bitsandbytes" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">bitsandbytes (4-bit/8-bit quantization)</a>, <a href="https://github.com/mit-han-lab/llm-awq" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">AWQ</a>, <a href="https://github.com/IST-DASLab/gptq" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">GPTQ</a>, <a href="https://github.com/turboderp/exllamav2" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">ExLlamaV2</a></li>
                        </ul>
                      </div>
                      <div>
                        <h3 className="text-white font-semibold mb-2 text-sm">Community & Discussions</h3>
                        <ul className="list-disc list-inside space-y-1 text-gray-300 text-sm">
                          <li><a href="https://github.com/vllm-project/vllm/discussions" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">vLLM Discussions</a> · <a href="https://discuss.huggingface.co/" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">Hugging Face Forums</a></li>
                          <li><a href="https://discuss.pytorch.org/c/distributed/32" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">PyTorch Distributed/FSDP Forum</a> · <a href="https://forums.developer.nvidia.com/" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">NVIDIA Developer Forums</a></li>
                        </ul>
                      </div>
                    </div>
                  </section>
                </>
              ) : selectedTechnique.id === 'progressive-enhancement' ? (
                <>
                  {/* Core Mechanism (short conceptual overview) */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-blue-500 rounded-full"></div>
                      Core Mechanism (short conceptual overview)
                    </h2>
                    <div className="bg-gradient-to-br from-blue-500/10 to-cyan-500/10 border border-blue-500/20 rounded-xl p-6">
                      <p className="text-gray-200 text-base leading-relaxed">
                        Progressive Enhancement in AI delivers an immediate baseline result and continuously improves it as more
                        compute, time, or context becomes available. It implements the anytime-algorithms principle: return the
                        best-available output at any point, then refine. In practice, this pairs fast, low-cost pathways (streaming,
                        speculative decoding, early exits) with background refinement loops (self-refine, re-ranking, high-accuracy
                        passes) while preserving responsiveness and user control.
                      </p>
                    </div>
                  </section>

                  {/* Workflow / Steps */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-purple-500 rounded-full"></div>
                      Workflow / Steps
                    </h2>
                    <div className="bg-gradient-to-br from-purple-500/10 to-blue-500/10 border border-purple-500/20 rounded-xl p-6">
                      <ol className="list-decimal list-inside space-y-2 text-gray-200 text-sm">
                        <li>Fast Path: stream a baseline answer quickly (token streaming; lightweight model or early-exit policy).</li>
                        <li>Speculate: use draft decoding or shortcuts to accelerate target model generation; verify and commit tokens.</li>
                        <li>Refine Iteratively: run self-feedback or re-ranking passes to improve coherence, correctness, and style.</li>
                        <li>Escalate on Demand: invoke higher-precision models/tools for hard segments or low-confidence spans.</li>
                        <li>Converge or Stop Early: allow user to accept current best, or continue improving asynchronously.</li>
                      </ol>
                    </div>
                  </section>

                  {/* Best Practices */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-green-500 rounded-full"></div>
                      Best Practices
                    </h2>
                    <div className="grid gap-3">
                      {[
                        'Design for anytime returns: every partial state should be valid to show or store.',
                        'Pair a latency-optimized baseline with quality-optimized refinements; surface progress visibly.',
                        'Use confidence signals (logprobs, validators, ensembles) to decide when to refine or escalate.',
                        'Keep edits minimal between iterations; preserve user caret and scroll context in UIs.',
                        'Bound refinement loops with budgets and diminishing-returns checks to avoid quality thrash.',
                        'Make improvements cancelable; persist checkpoints and deltas for auditability.',
                        'Collect per-stage metrics (latency, tokens, acceptance rate) to tune the quality–speed curve.'
                      ].map((tip) => (
                        <div key={tip} className="flex items-start gap-3 p-3 bg-gray-800/40 rounded-lg">
                          <Check className="w-5 h-5 text-green-400 mt-0.5 flex-shrink-0" />
                          <span className="text-gray-300 text-sm leading-relaxed">{tip}</span>
                        </div>
                      ))}
                    </div>
                  </section>

                  {/* When NOT to Use */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-red-500 rounded-full"></div>
                      When NOT to Use
                    </h2>
                    <div className="bg-gray-800/40 rounded-lg p-6 border border-gray-700/40">
                      <ul className="list-disc list-inside space-y-2 text-gray-300 text-sm">
                        <li>Hard real-time tasks with fixed deadlines where refinement phases risk deadline misses.</li>
                        <li>Strictly deterministic compliance outputs where intermediate states could mislead users.</li>
                        <li>Ultra-low-cost batch jobs where a single high-quality pass is cheaper than multi-pass refinement.</li>
                      </ul>
                    </div>
                  </section>

                  {/* Common Pitfalls */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-amber-500 rounded-full"></div>
                      Common Pitfalls
                    </h2>
                    <div className="bg-gray-800/40 rounded-lg p-6 border border-gray-700/40">
                      <ul className="list-disc list-inside space-y-2 text-gray-300 text-sm">
                        <li>Unbounded refinement loops increasing cost with negligible quality gains.</li>
                        <li>UI jank from reflowing text without preserving cursor/scroll position.</li>
                        <li>Speculative decoding without verification, leading to silent correctness errors.</li>
                        <li>Mismatched expectations: users interpret early drafts as final answers.</li>
                      </ul>
                    </div>
                  </section>

                  {/* Key Features */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-cyan-500 rounded-full"></div>
                      Key Features
                    </h2>
                    <div className="grid grid-cols-1 md:grid-cols-2 gap-3">
                      {[
                        'Anytime outputs with monotonic quality improvements',
                        'Token streaming with user-controllable refinement',
                        'Speculative decoding and verification to accelerate generation',
                        'Early-exit/dynamic-depth to meet latency budgets',
                        'Self-refine/self-critique loops for targeted corrections',
                        'Selective escalation to stronger models or tools'
                      ].map((feat) => (
                        <div key={feat} className="p-3 bg-gray-800/40 rounded-lg text-gray-300 text-sm border border-gray-700/40">
                          {feat}
                        </div>
                      ))}
                    </div>
                  </section>

                  {/* KPIs / Success Metrics */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-emerald-500 rounded-full"></div>
                      KPIs / Success Metrics
                    </h2>
                    <div className="bg-gray-800/40 rounded-lg p-6 border border-gray-700/40">
                      <ul className="list-disc list-inside space-y-2 text-gray-300 text-sm">
                        <li>Time-to-first-token (TTFT) and time-to-usable-answer (TTUA).</li>
                        <li>Final quality metrics (task accuracy, human rating) vs. cost and latency budgets.</li>
                        <li>Refinement acceptance rate and cancel/stop-early rate.</li>
                        <li>Speculative acceptance ratio and verified-token throughput.</li>
                      </ul>
                    </div>
                  </section>

                  {/* Token / Resource Usage */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-indigo-500 rounded-full"></div>
                      Token / Resource Usage
                    </h2>
                    <div className="bg-gray-800/40 rounded-lg p-6 border border-gray-700/40">
                      <ul className="list-disc list-inside space-y-2 text-gray-300 text-sm">
                        <li>Cap tokens per refinement pass; summarize context between passes to bound growth.</li>
                        <li>Use speculative decoding to shift work to a cheaper draft model and verify on the target model.</li>
                        <li>Apply early-exit/dynamic-depth for latency SLAs; log per-layer exit stats.</li>
                        <li>Track per-stage tokens, cost, and wall-clock to tune the speed–quality frontier.</li>
                      </ul>
                    </div>
                  </section>

                  {/* Best Use Cases */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-fuchsia-500 rounded-full"></div>
                      Best Use Cases
                    </h2>
                    <div className="bg-gray-800/40 rounded-lg p-6 border border-gray-700/40">
                      <ul className="list-disc list-inside space-y-2 text-gray-300 text-sm">
                        <li>Interactive assistants where responsiveness is critical but quality benefits from refinement.</li>
                        <li>Content generation/editing with iterative polishing (summaries, drafts, code fixes).</li>
                        <li>Search and RAG with re-ranking and re-writing under tight latency budgets.</li>
                      </ul>
                    </div>
                  </section>

                  {/* References & Further Reading */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-orange-500 rounded-full"></div>
                      References & Further Reading
                    </h2>
                    <div className="bg-gray-800/40 rounded-lg p-6 border border-gray-700/40 space-y-4">
                      <div>
                        <h3 className="text-white font-semibold mb-2 text-sm">Academic Papers</h3>
                        <ul className="list-disc list-inside space-y-1 text-gray-300 text-sm">
                          <li><a href="https://dl.acm.org/doi/10.1145/225540.225542" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">Zilberstein (1996): The principles of anytime algorithms</a></li>
                          <li><a href="https://arxiv.org/abs/2211.17192" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">Xin et al. (2020): DeeBERT: Dynamic Early Exiting for Efficient BERT Inference</a></li>
                          <li><a href="https://arxiv.org/abs/2302.01318" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">Leviathan et al. (2023): Fast Inference from Transformers via Speculative Decoding</a></li>
                          <li><a href="https://arxiv.org/abs/2303.17651" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">Shinn et al. (2023): Self-Refine: Iterative Refinement with Self-Feedback</a></li>
                        </ul>
                      </div>
                      <div>
                        <h3 className="text-white font-semibold mb-2 text-sm">Implementation Guides</h3>
                        <ul className="list-disc list-inside space-y-1 text-gray-300 text-sm">
                          <li><a href="https://platform.openai.com/docs/guides/realtime/streaming" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">OpenAI: Streaming responses</a></li>
                          <li><a href="https://docs.anthropic.com/claude/docs/streaming" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">Anthropic: Streaming with Messages API</a></li>
                          <li><a href="https://nextjs.org/docs/app/building-your-application/routing/loading-ui-and-streaming" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">Next.js: Streaming and loading UI</a></li>
                          <li><a href="https://docs.vllm.ai/en/latest/serving/spec_decode.html" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">vLLM: Speculative decoding</a></li>
                        </ul>
                      </div>
                      <div>
                        <h3 className="text-white font-semibold mb-2 text-sm">Tools & Libraries</h3>
                        <ul className="list-disc list-inside space-y-1 text-gray-300 text-sm">
                          <li><a href="https://sdk.vercel.ai/docs" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">Vercel AI SDK (React streaming UI)</a></li>
                          <li>Serving stacks with speculative decoding (vLLM), early-exit policies, and rerankers</li>
                          <li>Evaluation tools for human ratings and latency/cost logging</li>
                        </ul>
                      </div>
                      <div>
                        <h3 className="text-white font-semibold mb-2 text-sm">Community & Discussions</h3>
                        <ul className="list-disc list-inside space-y-1 text-gray-300 text-sm">
                          <li><a href="https://openai.com/research/" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">OpenAI research and engineering blogs</a></li>
                          <li><a href="https://www.anthropic.com/news" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">Anthropic updates and best practices</a></li>
                          <li>Conference talks on low-latency LLM inference and anytime methods</li>
                        </ul>
                      </div>
                    </div>
                  </section>
                </>
              ) : selectedTechnique.id === 'federated-orchestration' ? (
                <>
                  {/* Core Mechanism (short conceptual overview) */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-blue-500 rounded-full"></div>
                      Core Mechanism (short conceptual overview)
                    </h2>
                    <div className="bg-gradient-to-br from-blue-500/10 to-emerald-500/10 border border-blue-500/20 rounded-xl p-6">
                      <p className="text-gray-200 text-base leading-relaxed">
                        Federated Orchestration coordinates model training and/or inference across distributed clients (devices, sites, or
                        organizations) without centralizing raw data. A coordinator distributes a model or plan, clients execute locally on
                        their private data, and privacy-preserving aggregation combines updates. This preserves data sovereignty, reduces
                        bandwidth for sensitive data, and enables cross-device (large, unreliable populations) and cross-silo (smaller, reliable
                        institutions) collaboration. Enhancements include secure aggregation, differential privacy, robust aggregation,
                        compression, and hierarchical federation for scale.
                      </p>
                    </div>
                  </section>

                  {/* Workflow / Steps */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-purple-500 rounded-full"></div>
                      Workflow / Steps
                    </h2>
                    <div className="bg-gradient-to-br from-purple-500/10 to-blue-500/10 border border-purple-500/20 rounded-xl p-6">
                      <ol className="list-decimal list-inside space-y-2 text-gray-200 text-sm">
                        <li>Enrollment & trust: register clients, attest software/TEE where applicable, provision credentials.</li>
                        <li>Round planning: sample available clients; pick cross-device or cross-silo strategy and quotas.</li>
                        <li>Distribute task: send global model/checkpoint, hyperparameters, and training/inference plan.</li>
                        <li>Local execution: clients train or run inference on local data; compute model deltas or summaries.</li>
                        <li>Privacy layer: apply secure aggregation and/or differential privacy before sharing updates.</li>
                        <li>Aggregation: server or hierarchy aggregates updates (FedAvg/robust aggregators); validate quality.</li>
                        <li>Evaluation: assess on held-out data/slices; check cohort fairness and drift; gate rollout.</li>
                        <li>Personalization: optionally adapt global model to local domains (fine-tune, adapters, FedPer).</li>
                        <li>Iteration & rollout: repeat rounds; version artifacts; stage and monitor deployments.</li>
                        <li>Ops: handle stragglers/dropouts, heterogeneity (FedProx/SCAFFOLD), security, and audit.</li>
                      </ol>
                    </div>
                  </section>

                  {/* Best Practices */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-green-500 rounded-full"></div>
                      Best Practices
                    </h2>
                    <div className="grid gap-3">
                      {[
                        'Choose topology for context: cross-device (large, unreliable clients) vs cross-silo (fewer, reliable orgs).',
                        'Mitigate heterogeneity: use FedProx/SCAFFOLD; adapt local epochs, learning rates, and batch sizes.',
                        'Apply secure aggregation (Bonawitz et al.) so the server sees only encrypted/pooled updates.',
                        'Use differential privacy with moments/accountant to track and bound privacy budget (ε, δ).',
                        'Adopt robust aggregation (median/trimmed-mean/Krum) to resist outliers/Byzantine updates.',
                        'Compress updates: quantization, sparsification, sketching, and periodic full sync to cut bandwidth.',
                        'Sample clients fairly; balance participation to reduce cohort bias and starvation.',
                        'Validate each round on held-out and cohort-sliced data; monitor fairness and drift.',
                        'Version everything (model, data schema, optimizer, DP params); keep lineage and audit trails.',
                        'Encrypt in transit and at rest; prefer TEEs where feasible; harden against poisoning and inversion attacks.',
                      ].map((tip) => (
                        <div key={tip} className="flex items-start gap-3 p-3 bg-gray-800/40 rounded-lg">
                          <Check className="w-5 h-5 text-green-400 mt-0.5 flex-shrink-0" />
                          <span className="text-gray-300 text-sm leading-relaxed">{tip}</span>
                        </div>
                      ))}
                    </div>
                  </section>

                  {/* When NOT to Use */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-red-500 rounded-full"></div>
                      When NOT to Use
                    </h2>
                    <div className="bg-gray-800/40 rounded-lg p-6 border border-gray-700/40">
                      <ul className="list-disc list-inside space-y-2 text-gray-300 text-sm">
                        <li>Data can be centralized legally and cheaply, and central training meets requirements.</li>
                        <li>Ultra‑low latency single‑shot tasks where round‑based coordination breaks SLOs.</li>
                        <li>Very few participants with similar data—central or split learning may be simpler.</li>
                        <li>Models exceed client compute/memory/energy budgets; connectivity is highly unstable.</li>
                        <li>Use cases requiring raw cross‑party joins/feature engineering across silos.</li>
                      </ul>
                    </div>
                  </section>

                  {/* Common Pitfalls */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-amber-500 rounded-full"></div>
                      Common Pitfalls
                    </h2>
                    <div className="bg-gray-800/40 rounded-lg p-6 border border-gray-700/40">
                      <ul className="list-disc list-inside space-y-2 text-gray-300 text-sm">
                        <li>Non‑IID data causing divergence or slow convergence without heterogeneity controls.</li>
                        <li>Privacy leakage via updates (gradient inversion); missing secure aggregation/DP.</li>
                        <li>Poisoning/Byzantine clients degrading or backdooring the global model.</li>
                        <li>Client dropouts and stragglers stalling rounds; no partial aggregation or timeouts.</li>
                        <li>Bandwidth blowups from large dense updates; no compression or update sparsity.</li>
                        <li>Version/config drift; inadequate auditability and reproducibility of rounds.</li>
                      </ul>
                    </div>
                  </section>

                  {/* Key Features */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-cyan-500 rounded-full"></div>
                      Key Features
                    </h2>
                    <div className="grid grid-cols-1 md:grid-cols-2 gap-3">
                      {[
                        'Privacy‑preserving aggregation (secure aggregation, differential privacy)',
                        'Decentralized local training/inference with data residency compliance',
                        'Robust aggregation against outliers/Byzantine behavior',
                        'Client heterogeneity tolerance (FedProx/SCAFFOLD)',
                        'Hierarchical federation for scale (edge → regional → central)',
                        'Bandwidth‑efficient updates (quantization, sparsity, sketches)',
                        'Personalization and domain adaptation options',
                        'End‑to‑end governance, lineage, and auditability',
                      ].map((feat) => (
                        <div key={feat} className="p-3 bg-gray-800/40 rounded-lg text-gray-300 text-sm border border-gray-700/40">
                          {feat}
                        </div>
                      ))}
                    </div>
                  </section>

                  {/* KPIs / Success Metrics */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-emerald-500 rounded-full"></div>
                      KPIs / Success Metrics
                    </h2>
                    <div className="bg-gray-800/40 rounded-lg p-6 border border-gray-700/40">
                      <ul className="list-disc list-inside space-y-2 text-gray-300 text-sm">
                        <li>Global model quality (accuracy/AUC) and cohort fairness deltas.</li>
                        <li>Rounds to convergence; wall‑clock time per round; participation rate.</li>
                        <li>Communication cost per round (MB/client, total bytes) and compression ratio.</li>
                        <li>Client success rate, dropout/straggler rate, and energy usage on device.</li>
                        <li>Privacy budget consumed (ε, δ) and secure aggregation coverage.</li>
                        <li>Attack detection metrics (backdoor/poisoning flags) and rollback time.</li>
                      </ul>
                    </div>
                  </section>

                  {/* Token / Resource Usage */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-indigo-500 rounded-full"></div>
                      Token / Resource Usage
                    </h2>
                    <div className="bg-gray-800/40 rounded-lg p-6 border border-gray-700/40">
                      <ul className="list-disc list-inside space-y-2 text-gray-300 text-sm">
                        <li>Primary drivers: model size, update size/frequency, client count, and rounds. Prefer sparse/quantized updates.</li>
                        <li>Cap per‑round payloads; use sketching/top‑k gradients; schedule smaller local epochs for constrained clients.</li>
                        <li>If LLM steps exist, cap prompt/output tokens; send references/IDs not transcripts; cache static context.</li>
                        <li>Use hierarchical aggregation to localize traffic; compress over WAN; batch client uploads.</li>
                      </ul>
                    </div>
                  </section>

                  {/* Best Use Cases */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-fuchsia-500 rounded-full"></div>
                      Best Use Cases
                    </h2>
                    <div className="bg-gray-800/40 rounded-lg p-6 border border-gray-700/40">
                      <ul className="list-disc list-inside space-y-2 text-gray-300 text-sm">
                        <li>Healthcare networks: cross‑hospital learning without moving patient data.</li>
                        <li>Financial institutions: fraud/risk modeling across banks with data locality.</li>
                        <li>Mobile/edge: next‑word prediction, personalization, and on‑device vision.</li>
                        <li>Industrial IoT and smart cities: privacy‑sensitive analytics across sites.</li>
                        <li>Cross‑enterprise collaboration with strict data residency/compliance.</li>
                      </ul>
                    </div>
                  </section>

                  {/* References & Further Reading */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-orange-500 rounded-full"></div>
                      References & Further Reading
                    </h2>
                    <div className="bg-gray-800/40 rounded-lg p-6 border border-gray-700/40 space-y-4">
                      <div>
                        <h3 className="text-white font-semibold mb-2 text-sm">Academic Papers</h3>
                        <ul className="list-disc list-inside space-y-1 text-gray-300 text-sm">
                          <li><a href="https://arxiv.org/abs/1602.05629" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">Communication‑Efficient Learning of Deep Networks from Decentralized Data (McMahan et al., 2017) – FedAvg</a></li>
                          <li><a href="https://arxiv.org/abs/1912.04977" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">Advances and Open Problems in Federated Learning (Kairouz et al., 2021)</a></li>
                          <li><a href="https://dl.acm.org/doi/10.1145/3133956.3133982" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">Practical Secure Aggregation for Privacy‑Preserving ML (Bonawitz et al., CCS 2017)</a></li>
                          <li><a href="https://arxiv.org/abs/1812.06127" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">Byzantine‑robust distributed learning via median and trimmed mean (Yin et al., 2018)</a></li>
                          <li><a href="https://papers.nips.cc/paper/2017/hash/f4b9ec30ad9f68f89b29639786cb62ef-Abstract.html" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">Krum: Byzantine‑tolerant aggregation (Blanchard et al., NeurIPS 2017)</a></li>
                          <li><a href="https://arxiv.org/abs/1812.06127" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">FedProx: Heterogeneity mitigation in FL (Li et al., 2020)</a></li>
                          <li><a href="https://arxiv.org/abs/1910.06378" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">SCAFFOLD: Stochastic Controlled Averaging (Karimireddy et al., 2020)</a></li>
                          <li><a href="https://arxiv.org/abs/2003.14053" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">Inverting Gradients – privacy attacks on FL (Geiping et al., 2020)</a></li>
                          <li><a href="https://arxiv.org/abs/2003.00295" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">Asynchronous FL (FedAsync and variants)</a></li>
                        </ul>
                      </div>
                      <div>
                        <h3 className="text-white font-semibold mb-2 text-sm">Implementation Guides</h3>
                        <ul className="list-disc list-inside space-y-1 text-gray-300 text-sm">
                          <li><a href="https://www.tensorflow.org/federated" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">TensorFlow Federated Documentation</a></li>
                          <li><a href="https://flower.dev/docs/" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">Flower (FLwr) Documentation</a></li>
                          <li><a href="https://docs.fedml.ai/" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">FedML Docs</a></li>
                          <li><a href="https://nvidia.github.io/NVFlare/" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">NVIDIA FLARE Docs</a></li>
                          <li><a href="https://openfl.readthedocs.io/" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">Intel OpenFL Docs</a></li>
                          <li><a href="https://fate.fedai.org/" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">FATE (Federated AI Technology Enabler)</a></li>
                          <li><a href="https://docs.openmined.org/projects/pysyft/en/latest/" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">OpenMined PySyft</a></li>
                        </ul>
                      </div>
                      <div>
                        <h3 className="text-white font-semibold mb-2 text-sm">Tools & Libraries</h3>
                        <ul className="list-disc list-inside space-y-1 text-gray-300 text-sm">
                          <li>TensorFlow Federated, Flower, FedML, NVIDIA FLARE, OpenFL, FATE, PySyft</li>
                          <li>Privacy/crypto: Opacus DP (PyTorch), TF Privacy; HE/SMPC libraries as needed</li>
                        </ul>
                      </div>
                      <div>
                        <h3 className="text-white font-semibold mb-2 text-sm">Community & Discussions</h3>
                        <ul className="list-disc list-inside space-y-1 text-gray-300 text-sm">
                          <li><a href="https://discuss.openmined.org/" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">OpenMined Community</a></li>
                          <li><a href="https://github.com/adap/flower/discussions" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">Flower Discussions</a></li>
                          <li><a href="https://github.com/NVIDIA/NVFlare/discussions" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">NVFLARE Discussions</a></li>
                          <li><a href="https://stackoverflow.com/questions/tagged/federated-learning" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">Stack Overflow: federated‑learning</a></li>
                        </ul>
                      </div>
                    </div>
                  </section>
                </>
              ) : selectedTechnique.id === 'enterprise-orchestration' ? (
                <>
                  {/* Core Mechanism (short conceptual overview) */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-blue-500 rounded-full"></div>
                      Core Mechanism (short conceptual overview)
                    </h2>
                    <div className="bg-gradient-to-br from-blue-500/10 to-purple-500/10 border border-blue-500/20 rounded-xl p-6">
                      <p className="text-gray-200 text-base leading-relaxed">
                        Enterprise orchestration coordinates human, AI, and system workflows under policy, identity, and observability controls. A workflow engine (BPMN/state machine) drives execution; a policy layer enforces guardrails; IAM scopes access; lineage, tracing, and audit provide accountability; approvals and SLAs ensure governance in regulated environments.
                      </p>
                    </div>
                  </section>

                  {/* Workflow / Steps */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-purple-500 rounded-full"></div>
                      Workflow / Steps
                    </h2>
                    <div className="bg-gradient-to-br from-purple-500/10 to-blue-500/10 border border-purple-500/20 rounded-xl p-6">
                      <ol className="list-decimal list-inside space-y-2 text-gray-200 text-sm">
                        <li>Process model: define BPMN/state graph; version and review.</li>
                        <li>Policy modeling: encode rules as code (RBAC/ABAC, data residency, PII handling) in a central policy engine.</li>
                        <li>Identity and access: map services and agents to roles/groups; scope secrets; establish audit principals.</li>
                        <li>Data controls: classify data; set retention and lineage capture; configure DLP/redaction at boundaries.</li>
                        <li>Execution layer: orchestrate tasks with idempotency, retries, compensations, and timeouts.</li>
                        <li>Human-in-the-loop: implement approval gates and exception queues with SLAs.</li>
                        <li>Observability: emit structured logs, metrics, traces; correlate runs and decisions.</li>
                        <li>Audit & compliance: persist immutable audit trails; enable queries and attestations.</li>
                        <li>Ops & change: canary new versions; track KPI deltas; run post-incident reviews.</li>
                      </ol>
                    </div>
                  </section>

                  {/* Best Practices */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-green-500 rounded-full"></div>
                      Best Practices
                    </h2>
                    <div className="grid gap-3">
                      {[
                        'Separate control-plane (orchestration, policy, identity) from data-plane (task execution).',
                        'Least-privilege IAM; short-lived tokens; scoped secrets; explicit approval principals.',
                        'Policies as code with tests; versioned workflows; peer review and change controls.',
                        'Strong idempotency keys and compensating transactions for external side-effects.',
                        'SLA/SLOs with per-step budgets; timeouts, backoff, circuit breakers; backpressure on queues.',
                        'Schema registries and typed contracts between steps; validate at boundaries.',
                        'End-to-end lineage and PII redaction; data residency and transfer controls.',
                        'Defense-in-depth for LLM steps: input sanitization, output validation, tool whitelist.',
                        'Progressive delivery: canary, shadow runs, rollback plans; maintain runbooks.',
                      ].map((tip) => (
                        <div key={tip} className="flex items-start gap-3 p-3 bg-gray-800/40 rounded-lg">
                          <Check className="w-5 h-5 text-green-400 mt-0.5 flex-shrink-0" />
                          <span className="text-gray-300 text-sm leading-relaxed">{tip}</span>
                        </div>
                      ))}
                    </div>
                  </section>

                  {/* When NOT to Use */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-red-500 rounded-full"></div>
                      When NOT to Use
                    </h2>
                    <div className="bg-gray-800/40 rounded-lg p-6 border border-gray-700/40">
                      <ul className="list-disc list-inside space-y-2 text-gray-300 text-sm">
                        <li>Simple one-off automations without governance, audit, or cross-system coordination.</li>
                        <li>Exploratory prototypes where process and policies change daily.</li>
                        <li>Ultra-low-latency paths where orchestration overhead breaks SLOs.</li>
                        <li>Teams without operational capacity for policy, IAM, and incident management.</li>
                      </ul>
                    </div>
                  </section>

                  {/* Common Pitfalls */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-amber-500 rounded-full"></div>
                      Common Pitfalls
                    </h2>
                    <div className="bg-gray-800/40 rounded-lg p-6 border border-gray-700/40">
                      <ul className="list-disc list-inside space-y-2 text-gray-300 text-sm">
                        <li>Shadow automations bypassing policy checks and audit.</li>
                        <li>Missing idempotency/compensation causing duplicate side-effects.</li>
                        <li>Policy drift across environments; untested policy changes.</li>
                        <li>Data residency/compliance violations due to ad-hoc integrations.</li>
                        <li>No immutable audit retention or lineage, blocking investigations.</li>
                      </ul>
                    </div>
                  </section>

                  {/* Key Features */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-cyan-500 rounded-full"></div>
                      Key Features
                    </h2>
                    <div className="grid gap-3">
                      {[
                        'BPMN/state-machine workflow execution with versioning',
                        'Policies-as-code (RBAC/ABAC, data use, residency, approvals)',
                        'IAM integration (OIDC/SAML, SCIM) and per-step credentials',
                        'Immutable audit trails and tamper-evident logs',
                        'Data lineage and catalog integration',
                        'SLA/SLO tracking and escalation',
                        'Human-in-the-loop approvals and exception handling',
                        'Observability: metrics, logs, traces, run correlation',
                      ].map((feat) => (
                        <div key={feat} className="p-3 bg-gray-800/40 rounded-lg text-gray-300 text-sm border border-gray-700/40">
                          {feat}
                        </div>
                      ))}
                    </div>
                  </section>

                  {/* KPIs / Success Metrics */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-emerald-500 rounded-full"></div>
                      KPIs / Success Metrics
                    </h2>
                    <div className="bg-gray-800/40 rounded-lg p-6 border border-gray-700/40">
                      <ul className="list-disc list-inside space-y-2 text-gray-300 text-sm">
                        <li>Regulatory adherence rate and audit finding closure time.</li>
                        <li>Approval cycle time and on-time SLA attainment.</li>
                        <li>Incident rate (policy violations, failed approvals) and MTTR.</li>
                        <li>Change failure rate and time-to-rollback for workflows/policies.</li>
                        <li>Cost per orchestrated run; infrastructure and LLM token spend per step.</li>
                      </ul>
                    </div>
                  </section>

                  {/* Token / Resource Usage */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-teal-500 rounded-full"></div>
                      Token / Resource Usage
                    </h2>
                    <div className="bg-gray-800/40 rounded-lg p-6 border border-gray-700/40 space-y-3 text-sm text-gray-300">
                      <p>Budget tokens and compute per step; use model tiering and caching to control spend; enforce concurrency limits and per-run quotas.</p>
                      <ul className="list-disc list-inside space-y-1">
                        <li>LLM steps: small models for gating; strongest model for final synthesis; truncate context and use structured IO.</li>
                        <li>Queue/backpressure: cap fan-out; use rate-limiters; prefer batch where safe.</li>
                        <li>Storage: plan for audit/log retention and lineage metadata growth.</li>
                      </ul>
                    </div>
                  </section>

                  {/* Best Use Cases */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-purple-500 rounded-full"></div>
                      Best Use Cases
                    </h2>
                    <div className="grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-3">
                      {[
                        'KYC/AML onboarding and case management',
                        'Claims processing with human approvals',
                        'Loan underwriting and document workflows',
                        'Clinical/health data workflows with audit and consent',
                        'Change management with approvals and separation of duties',
                        'Data pipelines with lineage and compliance checks',
                      ].map((uc) => (
                        <div key={uc} className="flex items-center gap-2 px-3 py-2 bg-gray-800/50 rounded-lg text-sm">
                          <span className="text-base">✅</span>
                          <span className="text-gray-300 font-medium">{uc}</span>
                        </div>
                      ))}
                    </div>
                  </section>

                  {/* References & Further Reading */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-orange-500 rounded-full"></div>
                      References & Further Reading
                    </h2>
                    <div className="bg-gradient-to-br from-orange-500/10 to-red-500/10 border border-orange-500/20 rounded-xl p-6">
                      <div className="grid gap-4 md:grid-cols-2">
                        {/* Academic Papers */}
                        <div className="bg-white/5 rounded-lg p-4">
                          <h4 className="font-semibold text-white mb-3 flex items-center gap-2">
                            <span className="text-orange-400">📚</span>
                            Academic Papers
                          </h4>
                          <div className="space-y-2 text-sm">
                            <a href="https://arxiv.org/abs/2204.07210" target="_blank" rel="noreferrer" className="block text-blue-400 hover:text-blue-300 transition-colors">• A Case for Microservices Orchestration Using Workflow Engines (2022)</a>
                            <a href="https://arxiv.org/abs/2002.01699" target="_blank" rel="noreferrer" className="block text-blue-400 hover:text-blue-300 transition-colors">• Component-aware Orchestration of Cloud-based Enterprise Applications (2020)</a>
                          </div>
                        </div>

                        {/* Implementation Guides */}
                        <div className="bg-white/5 rounded-lg p-4">
                          <h4 className="font-semibold text-white mb-3 flex items-center gap-2">
                            <span className="text-green-400">🛠️</span>
                            Implementation Guides
                          </h4>
                          <div className="space-y-2 text-sm">
                            <a href="https://www.nist.gov/itl/ai-risk-management-framework" target="_blank" rel="noreferrer" className="block text-blue-400 hover:text-blue-300 transition-colors">• NIST AI Risk Management Framework 1.0</a>
                            <a href="https://www.iso.org/standard/81230.html" target="_blank" rel="noreferrer" className="block text-blue-400 hover:text-blue-300 transition-colors">• ISO/IEC 42001:2023 AI Management System</a>
                            <a href="https://docs.temporal.io/" target="_blank" rel="noreferrer" className="block text-blue-400 hover:text-blue-300 transition-colors">• Temporal: Workflow engine docs</a>
                            <a href="https://docs.camunda.io/" target="_blank" rel="noreferrer" className="block text-blue-400 hover:text-blue-300 transition-colors">• Camunda 8: BPMN orchestration</a>
                          </div>
                        </div>

                        {/* Tools & Libraries */}
                        <div className="bg-white/5 rounded-lg p-4">
                          <h4 className="font-semibold text-white mb-3 flex items-center gap-2">
                            <span className="text-purple-400">⚙️</span>
                            Tools & Libraries
                          </h4>
                          <div className="space-y-2 text-sm">
                            <a href="https://www.openpolicyagent.org/docs/latest/" target="_blank" rel="noreferrer" className="block text-blue-400 hover:text-blue-300 transition-colors">• Open Policy Agent (OPA)</a>
                            <a href="https://openlineage.io/docs/" target="_blank" rel="noreferrer" className="block text-blue-400 hover:text-blue-300 transition-colors">• OpenLineage (data lineage)</a>
                            <a href="https://opentelemetry.io/" target="_blank" rel="noreferrer" className="block text-blue-400 hover:text-blue-300 transition-colors">• OpenTelemetry (observability)</a>
                            <a href="https://langchain-ai.github.io/langgraph/" target="_blank" rel="noreferrer" className="block text-blue-400 hover:text-blue-300 transition-colors">• LangGraph (agent workflows)</a>
                            <a href="https://docs.prefect.io/" target="_blank" rel="noreferrer" className="block text-blue-400 hover:text-blue-300 transition-colors">• Prefect</a>
                            <a href="https://docs.dagster.io/" target="_blank" rel="noreferrer" className="block text-blue-400 hover:text-blue-300 transition-colors">• Dagster</a>
                            <a href="https://github.com/microsoft/presidio" target="_blank" rel="noreferrer" className="block text-blue-400 hover:text-blue-300 transition-colors">• Microsoft Presidio (PII)</a>
                            <a href="https://docs.nvidia.com/nemo/guardrails/" target="_blank" rel="noreferrer" className="block text-blue-400 hover:text-blue-300 transition-colors">• NVIDIA NeMo Guardrails</a>
                          </div>
                        </div>

                        {/* Community & Discussions */}
                        <div className="bg-white/5 rounded-lg p-4">
                          <h4 className="font-semibold text-white mb-3 flex items-center gap-2">
                            <span className="text-cyan-400">👥</span>
                            Community & Discussions
                          </h4>
                          <div className="space-y-2 text-sm">
                            <a href="https://stackoverflow.com/questions/tagged/workflow" target="_blank" rel="noreferrer" className="block text-blue-400 hover:text-blue-300 transition-colors">• Stack Overflow: workflow orchestration</a>
                            <a href="https://discord.gg/langchain" target="_blank" rel="noreferrer" className="block text-blue-400 hover:text-blue-300 transition-colors">• LangChain / LangGraph Discord</a>
                            <a href="https://www.reddit.com/r/devops/" target="_blank" rel="noreferrer" className="block text-blue-400 hover:text-blue-300 transition-colors">• r/devops: orchestration threads</a>
                          </div>
                        </div>
                      </div>
                    </div>
                  </section>
                </>
              ) : selectedTechnique.id === 'edge-ai-optimization' ? (
                <>
                  {/* Core Mechanism (short conceptual overview) */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-blue-500 rounded-full"></div>
                      Core Mechanism (short conceptual overview)
                    </h2>
                    <div className="bg-gradient-to-br from-blue-500/10 to-emerald-500/10 border border-blue-500/20 rounded-xl p-6">
                      <p className="text-gray-200 text-base leading-relaxed">
                        Optimize models and inference pipelines to run within edge device constraints (CPU/GPU/NPU, memory, battery, thermals) using
                        compression (quantization, pruning, distillation), hardware-specific compilation, and system techniques (operator fusion,
                        memory planning, scheduling). Targets include Android NNAPI, Apple Core ML/Metal, NVIDIA TensorRT (Jetson), Intel OpenVINO,
                        ONNX Runtime Mobile, TensorFlow Lite, TVM, and specialized NPUs (Google Edge TPU, Arm Ethos‑U).
                      </p>
                    </div>
                  </section>

                  {/* Workflow / Steps */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-purple-500 rounded-full"></div>
                      Workflow / Steps
                    </h2>
                    <div className="bg-gradient-to-br from-purple-500/10 to-blue-500/10 border border-purple-500/20 rounded-xl p-6">
                      <ol className="list-decimal list-inside space-y-2 text-gray-200 text-sm">
                        <li>Define device targets and budgets (p95 latency, energy per inference, RAM peak, binary size, accuracy floor).</li>
                        <li>Choose an edge-suitable baseline (MobileNet/EfficientNet-Lite, MobileViT, tiny transformer/CRNN; quant-friendly layers).</li>
                        <li>Compress the model:
                          <ul className="list-disc list-inside ml-5 mt-1 space-y-1">
                            <li>Post-training quantization (INT8/FP16) with proper calibration; use QAT when PTQ drop is high.</li>
                            <li>Structured pruning/sparsity to reduce MACs; leverage hardware sparsity where available.</li>
                            <li>Knowledge distillation to transfer from a large teacher to a compact student.</li>
                          </ul>
                        </li>
                        <li>Convert/compile for target: export to ONNX/TFLite/Core ML; compile with TensorRT/OpenVINO/TVM or NNAPI/Core ML backends.</li>
                        <li>Integrate runtime: ExecuTorch/TFLite/ONNX Runtime Mobile/Core ML; enable accelerators/delegates and preferred precisions.</li>
                        <li>Tune pipeline: fuse ops, minimize copies, pin buffers, batch where safe, and align pre/post-processing with training.</li>
                        <li>On-device evaluation: measure p50/p95 latency, energy, RAM peak, accuracy deltas under thermal load.</li>
                        <li>Deploy with OTA, feature flags, telemetry, and safe fallbacks (degrade quality or offload when needed).</li>
                      </ol>
                    </div>
                  </section>

                  {/* Best Practices */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-green-500 rounded-full"></div>
                      Best Practices
                    </h2>
                    <div className="grid gap-3">
                      {[
                        'Start with PTQ INT8/FP16; adopt QAT selectively to recover accuracy for sensitive tasks.',
                        'Validate operator/kernel support to avoid CPU fallbacks; align opset with accelerator capabilities.',
                        'Benchmark on real devices; capture tail latency and thermal throttling over sustained runs.',
                        'Minimize memory traffic: fused ops, in-place tensors, arena allocators, zero-copy pre/post-processing.',
                        'Use execution providers/delegates (NNAPI, Core ML, TensorRT, OpenVINO) and enable FP16/INT8 kernels.',
                        'Thermal-aware scheduling: cap concurrency, dynamically adjust resolution/frame-rate.',
                        'Keep data transforms identical between training and inference; validate numerics across toolchains.',
                        'Version compiled artifacts per device/OS; include rollback and A/B canaries for OTA updates.',
                      ].map((tip) => (
                        <div key={tip} className="flex items-start gap-3 p-3 bg-gray-800/40 rounded-lg">
                          <Check className="w-5 h-5 text-green-400 mt-0.5 flex-shrink-0" />
                          <span className="text-gray-300 text-sm leading-relaxed">{tip}</span>
                        </div>
                      ))}
                    </div>
                  </section>

                  {/* When NOT to Use */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-red-500 rounded-full"></div>
                      When NOT to Use
                    </h2>
                    <div className="bg-gray-800/40 rounded-lg p-6 border border-gray-700/40">
                      <ul className="list-disc list-inside space-y-2 text-gray-300 text-sm">
                        <li>Accuracy floors cannot be achieved post-compression within latency/power budgets.</li>
                        <li>Frequent large model updates exceed feasible OTA bandwidth or device storage.</li>
                        <li>Deterministic/precision-critical workloads unsupported by mobile accelerators.</li>
                        <li>Hard real-time constraints beyond device capability without unacceptable thermal impact.</li>
                      </ul>
                    </div>
                  </section>

                  {/* Common Pitfalls */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-amber-500 rounded-full"></div>
                      Common Pitfalls
                    </h2>
                    <div className="bg-gray-800/40 rounded-lg p-6 border border-gray-700/40">
                      <ul className="list-disc list-inside space-y-2 text-gray-300 text-sm">
                        <li>Non-representative INT8 calibration → large accuracy loss in production.</li>
                        <li>Silent CPU fallbacks due to unsupported ops → severe latency regressions.</li>
                        <li>Layout/precision mismatches between stages → extra copies and fragmentation.</li>
                        <li>Ignoring big.LITTLE scheduling and thread affinity → jitter under load.</li>
                        <li>Short synthetic benchmarks masking thermal throttling and GC pauses.</li>
                      </ul>
                    </div>
                  </section>

                  {/* Key Features */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-cyan-500 rounded-full"></div>
                      Key Features
                    </h2>
                    <div className="grid gap-3">
                      {[
                        'On-device, low-latency inference with offline capability',
                        'INT8/FP16 quantization, pruning/sparsity, and knowledge distillation',
                        'Accelerated execution via NNAPI/Core ML/Metal, TensorRT, OpenVINO, TVM',
                        'Memory- and power-aware scheduling and buffer planning',
                        'Adaptive quality: early-exit, conditional compute, resolution/frame-rate scaling',
                      ].map((feat) => (
                        <div key={feat} className="p-3 bg-gray-800/40 rounded-lg text-gray-300 text-sm border border-gray-700/40">
                          {feat}
                        </div>
                      ))}
                    </div>
                  </section>

                  {/* KPIs / Success Metrics */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-emerald-500 rounded-full"></div>
                      KPIs / Success Metrics
                    </h2>
                    <div className="bg-gray-800/40 rounded-lg p-6 border border-gray-700/40">
                      <ul className="list-disc list-inside space-y-2 text-gray-300 text-sm">
                        <li>Latency p50/p95 and throughput (FPS/inferences/s).</li>
                        <li>Energy per inference (mJ) and average power (mW); thermal headroom.</li>
                        <li>Peak RAM and model binary size; storage footprint.</li>
                        <li>Accuracy delta vs. FP32 baseline on representative datasets.</li>
                        <li>Rate of accelerator coverage vs. CPU fallback; offline success rate.</li>
                      </ul>
                    </div>
                  </section>

                  {/* Token / Resource Usage */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-indigo-500 rounded-full"></div>
                      Token / Resource Usage
                    </h2>
                    <div className="bg-gray-800/40 rounded-lg p-6 border border-gray-700/40 space-y-3 text-sm text-gray-300">
                      <p>Prioritize compute, memory, and energy budgets. For non-LLM models, focus on MACs and bandwidth; for on-device LLMs,
                        track context length, KV-cache footprint, precision (fp16/int8), and batch effects.</p>
                      <ul className="list-disc list-inside space-y-1">
                        <li>Enable INT8/FP16 kernels and fused ops to reduce memory traffic.</li>
                        <li>Use lightweight gating to avoid invoking heavy models unnecessarily.</li>
                        <li>Adapt concurrency/frame-rate to maintain thermal and battery limits.</li>
                      </ul>
                    </div>
                  </section>

                  {/* Best Use Cases */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-fuchsia-500 rounded-full"></div>
                      Best Use Cases
                    </h2>
                    <div className="grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-3">
                      {[
                        'Smart cameras and video analytics (detection, tracking, analytics)',
                        'On-device speech/keyword spotting and offline ASR/TTS',
                        'Mobile AR and real-time segmentation/classification',
                        'Industrial predictive maintenance and anomaly detection',
                        'Wearables health monitoring with privacy preservation',
                        'Retail edge analytics in bandwidth-constrained sites',
                      ].map((uc) => (
                        <div key={uc} className="flex items-center gap-2 px-3 py-2 bg-gray-800/50 rounded-lg text-sm">
                          <span className="text-base">✅</span>
                          <span className="text-gray-300 font-medium">{uc}</span>
                        </div>
                      ))}
                    </div>
                  </section>

                  {/* References & Further Reading */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-orange-500 rounded-full"></div>
                      References & Further Reading
                    </h2>
                    <div className="bg-gradient-to-br from-orange-500/10 to-amber-500/10 border border-orange-500/20 rounded-xl p-6">
                      <div className="grid gap-4 md:grid-cols-2">
                        <div className="bg-white/5 rounded-lg p-4">
                          <h4 className="font-semibold text-white mb-3 flex items-center gap-2">
                            <span className="text-orange-400">📚</span>
                            Academic Papers
                          </h4>
                          <div className="space-y-2 text-sm">
                            <a href="https://arxiv.org/abs/1511.06434" target="_blank" rel="noreferrer" className="block text-blue-400 hover:text-blue-300 transition-colors">• Distillation (Hinton et al.)</a>
                            <a href="https://arxiv.org/abs/1905.11946" target="_blank" rel="noreferrer" className="block text-blue-400 hover:text-blue-300 transition-colors">• MobileNetV3</a>
                            <a href="https://arxiv.org/abs/1905.11932" target="_blank" rel="noreferrer" className="block text-blue-400 hover:text-blue-300 transition-colors">• EfficientNet</a>
                            <a href="https://arxiv.org/abs/1905.00546" target="_blank" rel="noreferrer" className="block text-blue-400 hover:text-blue-300 transition-colors">• MnasNet</a>
                          </div>
                        </div>
                        <div className="bg-white/5 rounded-lg p-4">
                          <h4 className="font-semibold text-white mb-3 flex items-center gap-2">
                            <span className="text-green-400">🛠️</span>
                            Implementation Guides
                          </h4>
                          <div className="space-y-2 text-sm">
                            <a href="https://www.tensorflow.org/lite/performance/post_training_quantization" target="_blank" rel="noreferrer" className="block text-blue-400 hover:text-blue-300 transition-colors">• TensorFlow Lite: Post-training quantization</a>
                            <a href="https://www.tensorflow.org/model_optimization/guide/quantization/training" target="_blank" rel="noreferrer" className="block text-blue-400 hover:text-blue-300 transition-colors">• TensorFlow Model Optimization: QAT</a>
                            <a href="https://pytorch.org/executorch/stable/" target="_blank" rel="noreferrer" className="block text-blue-400 hover:text-blue-300 transition-colors">• PyTorch ExecuTorch</a>
                            <a href="https://onnxruntime.ai/docs/tutorials/mobile/" target="_blank" rel="noreferrer" className="block text-blue-400 hover:text-blue-300 transition-colors">• ONNX Runtime Mobile</a>
                            <a href="https://onnxruntime.ai/docs/performance/quantization.html" target="_blank" rel="noreferrer" className="block text-blue-400 hover:text-blue-300 transition-colors">• ONNX Runtime Quantization</a>
                            <a href="https://docs.nvidia.com/deeplearning/tensorrt/developer-guide/index.html" target="_blank" rel="noreferrer" className="block text-blue-400 hover:text-blue-300 transition-colors">• NVIDIA TensorRT Guide</a>
                            <a href="https://docs.openvino.ai/latest/index.html" target="_blank" rel="noreferrer" className="block text-blue-400 hover:text-blue-300 transition-colors">• Intel OpenVINO Docs</a>
                            <a href="https://coremltools.readme.io/" target="_blank" rel="noreferrer" className="block text-blue-400 hover:text-blue-300 transition-colors">• Core ML Tools</a>
                            <a href="https://developer.android.com/ndk/guides/neuralnetworks" target="_blank" rel="noreferrer" className="block text-blue-400 hover:text-blue-300 transition-colors">• Android NNAPI</a>
                            <a href="https://developer.apple.com/documentation/metalperformanceshadersgraph" target="_blank" rel="noreferrer" className="block text-blue-400 hover:text-blue-300 transition-colors">• Apple MPSGraph</a>
                            <a href="https://tvm.apache.org/docs/" target="_blank" rel="noreferrer" className="block text-blue-400 hover:text-blue-300 transition-colors">• Apache TVM Docs</a>
                            <a href="https://coral.ai/docs/edgetpu/models-intro/" target="_blank" rel="noreferrer" className="block text-blue-400 hover:text-blue-300 transition-colors">• Google Coral Edge TPU</a>
                            <a href="https://developer.arm.com/Processors/ethos-u" target="_blank" rel="noreferrer" className="block text-blue-400 hover:text-blue-300 transition-colors">• Arm Ethos‑U</a>
                          </div>
                        </div>
                        <div className="bg-white/5 rounded-lg p-4">
                          <h4 className="font-semibold text-white mb-3 flex items-center gap-2">
                            <span className="text-purple-400">⚙️</span>
                            Tools & Libraries
                          </h4>
                          <div className="space-y-2 text-sm">
                            <div className="text-gray-300">TensorFlow Lite, PyTorch ExecuTorch, ONNX Runtime Mobile, Core ML, OpenVINO, TensorRT, TVM</div>
                            <div className="text-gray-300">Android NNAPI, Apple Neural Engine/Core ML, NVIDIA Jetson, Google Edge TPU, Arm Ethos‑U, CMSIS‑NN</div>
                          </div>
                        </div>
                        <div className="bg-white/5 rounded-lg p-4">
                          <h4 className="font-semibold text-white mb-3 flex items-center gap-2">
                            <span className="text-cyan-400">👥</span>
                            Community & Discussions
                          </h4>
                          <div className="space-y-2 text-sm">
                            <a href="https://discuss.tvm.apache.org/" target="_blank" rel="noreferrer" className="block text-blue-400 hover:text-blue-300 transition-colors">• TVM Discuss</a>
                            <a href="https://github.com/microsoft/onnxruntime/discussions" target="_blank" rel="noreferrer" className="block text-blue-400 hover:text-blue-300 transition-colors">• ONNX Runtime Discussions</a>
                            <a href="https://forums.developer.nvidia.com/c/ai-data-science/tensorrt/136/" target="_blank" rel="noreferrer" className="block text-blue-400 hover:text-blue-300 transition-colors">• NVIDIA TensorRT Forum</a>
                            <a href="https://discuss.tensorflow.org/c/tflite/20" target="_blank" rel="noreferrer" className="block text-blue-400 hover:text-blue-300 transition-colors">• TensorFlow Lite Forum</a>
                          </div>
                        </div>
                      </div>
                    </div>
                  </section>
                </>
              ) : selectedTechnique.id === 'hybrid-reasoning' ? (
                <>
                  {/* Core Mechanism (short conceptual overview) */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-blue-500 rounded-full"></div>
                      Core Mechanism (short conceptual overview)
                    </h2>
                    <div className="bg-gradient-to-br from-blue-500/10 to-cyan-500/10 border border-blue-500/20 rounded-xl p-6">
                      <p className="text-gray-200 text-base leading-relaxed">
                        Hybrid Reasoning Systems integrate symbolic logic (rules, constraints, knowledge graphs) with statistical/connectionist
                        methods (neural networks, probabilistic models). The symbolic layer enforces structure, consistency, and explainability,
                        while the statistical layer provides perception, pattern recognition, and uncertainty modeling. Integration patterns
                        include pipeline (neural → symbolic), neuro-symbolic learning (differentiable logic), shared latent spaces, and
                        arbitration/ensembling across paradigms.
                      </p>
                    </div>
                  </section>

                  {/* Workflow / Steps */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-purple-500 rounded-full"></div>
                      Workflow / Steps
                    </h2>
                    <div className="bg-gradient-to-br from-purple-500/10 to-blue-500/10 border border-purple-500/20 rounded-xl p-6">
                      <ol className="list-decimal list-inside space-y-2 text-gray-200 text-sm">
                        <li>Problem decomposition: map sub-tasks to symbolic vs. statistical strengths.</li>
                        <li>Knowledge modeling: define ontologies/rules/constraints; curate training data and features.</li>
                        <li>Integration design: choose pattern (pipeline, joint/differentiable, co-training, arbitration).</li>
                        <li>Implementation: wire solvers (e.g., SAT/SMT/ILP), probabilistic logic, and neural models with clean interfaces.</li>
                        <li>Inference and fusion: run components; reconcile via constraints, weights, or meta-reasoners.</li>
                        <li>Evaluation: measure correctness, faithfulness to rules, calibration, latency, and cost.</li>
                        <li>Monitoring & iteration: analyze failures (rule gaps vs. model errors) and update both sides.</li>
                      </ol>
                    </div>
                  </section>

                  {/* Best Practices */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-green-500 rounded-full"></div>
                      Best Practices
                    </h2>
                    <div className="grid gap-3">
                      {[
                        'Keep symbolic knowledge modular (facts, rules, constraints) with explicit provenance and versioning.',
                        'Use hybrid retrieval: combine lexical + embedding search; maintain grounding with citations.',
                        'Validate neural outputs with constraints; prefer repair/explanation over silent overrides.',
                        'Adopt differentiable logic or neuro-symbolic layers when gradients are needed end-to-end.',
                        'Calibrate model confidence; route hard cases to stricter symbolic checks or human review.',
                        'Benchmark by slice (easy/medium/hard; seen/unseen schemas) and ablate each component.',
                        'Design for observability: log rule firings, constraint violations, and arbitration decisions.',
                      ].map((tip) => (
                        <div key={tip} className="flex items-start gap-3 p-3 bg-gray-800/40 rounded-lg">
                          <Check className="w-5 h-5 text-green-400 mt-0.5 flex-shrink-0" />
                          <span className="text-gray-300 text-sm leading-relaxed">{tip}</span>
                        </div>
                      ))}
                    </div>
                  </section>

                  {/* When NOT to Use */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-red-500 rounded-full"></div>
                      When NOT to Use
                    </h2>
                    <div className="bg-gray-800/40 rounded-lg p-6 border border-gray-700/40">
                      <ul className="list-disc list-inside space-y-2 text-gray-300 text-sm">
                        <li>Tasks solvable by a single paradigm with adequate quality and lower complexity/cost.</li>
                        <li>Hard real-time systems where multi-component latency violates SLOs.</li>
                        <li>Lack of maintainable knowledge assets or domain expertise to sustain rules/ontologies.</li>
                      </ul>
                    </div>
                  </section>

                  {/* Common Pitfalls */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-amber-500 rounded-full"></div>
                      Common Pitfalls
                    </h2>
                    <div className="bg-gray-800/40 rounded-lg p-6 border border-gray-700/40">
                      <ul className="list-disc list-inside space-y-2 text-gray-300 text-sm">
                        <li>Inconsistent schemas between neural outputs and symbolic inputs causing brittle pipelines.</li>
                        <li>Unbounded reasoning depth or constraint explosion leading to timeouts.</li>
                        <li>Silent rule conflicts; lack of arbitration policy or explainability for overrides.</li>
                        <li>Data leakage between training and rule design inflating apparent performance.</li>
                      </ul>
                    </div>
                  </section>

                  {/* Key Features */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-cyan-500 rounded-full"></div>
                      Key Features
                    </h2>
                    <div className="grid grid-cols-1 md:grid-cols-2 gap-3">
                      {[
                        'Symbolic constraints and rule enforcement',
                        'Probabilistic/uncertainty-aware reasoning',
                        'Neural perception and representation learning',
                        'Knowledge grounding with ontologies/graphs',
                        'Explainable decision traces and rule firings',
                        'Arbitration and confidence-weighted fusion',
                      ].map((feat) => (
                        <div key={feat} className="p-3 bg-gray-800/40 rounded-lg text-gray-300 text-sm border border-gray-700/40">
                          {feat}
                        </div>
                      ))}
                    </div>
                  </section>

                  {/* KPIs / Success Metrics */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-emerald-500 rounded-full"></div>
                      KPIs / Success Metrics
                    </h2>
                    <div className="bg-gray-800/40 rounded-lg p-6 border border-gray-700/40">
                      <ul className="list-disc list-inside space-y-2 text-gray-300 text-sm">
                        <li>Task accuracy and constraint satisfaction rate; violation density per 1K tasks.</li>
                        <li>Calibration (Brier/ACE), uncertainty coverage, and escalation/override rates.</li>
                        <li>Latency p50/p95 and solver timeouts; cost per task and component utilization.</li>
                      </ul>
                    </div>
                  </section>

                  {/* Token / Resource Usage */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-indigo-500 rounded-full"></div>
                      Token / Resource Usage
                    </h2>
                    <div className="bg-gray-800/40 rounded-lg p-6 border border-gray-700/40">
                      <ul className="list-disc list-inside space-y-2 text-gray-300 text-sm">
                        <li>Prompt/context budgets for LLM components; favor retrieve-then-reason and compress citations.</li>
                        <li>External compute: solver calls (SMT/ILP/ASP), probabilistic logic, vector search, rerankers.</li>
                        <li>Heuristics: early-exit on high-confidence; cap iterations/hops; cache intermediate artifacts.</li>
                      </ul>
                    </div>
                  </section>

                  {/* Best Use Cases */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-fuchsia-500 rounded-full"></div>
                      Best Use Cases
                    </h2>
                    <div className="bg-gray-800/40 rounded-lg p-6 border border-gray-700/40">
                      <ul className="list-disc list-inside space-y-2 text-gray-300 text-sm">
                        <li>Compliance and decision support: apply formal rules with learned extraction and ranking.</li>
                        <li>Scientific/technical reasoning: constraint-aware planning, theorem-style checks, unit consistency.</li>
                        <li>Complex QA over knowledge graphs: grounded retrieval with symbolic consistency validation.</li>
                      </ul>
                    </div>
                  </section>

                  {/* References & Further Reading */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-orange-500 rounded-full"></div>
                      References & Further Reading
                    </h2>
                    <div className="bg-gray-800/40 rounded-lg p-6 border border-gray-700/40 space-y-4">
                      <div>
                        <h3 className="text-white font-semibold mb-2 text-sm">Academic Papers</h3>
                        <ul className="list-disc list-inside space-y-1 text-gray-300 text-sm">
                          <li><a href="https://arxiv.org/abs/2102.11965" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">Modular Design Patterns for Hybrid Learning and Reasoning Systems (2021)</a></li>
                          <li><a href="https://pmc.ncbi.nlm.nih.gov/articles/PMC7250607/" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">Hybrid Reasoning Over Large Knowledge Bases (2020)</a></li>
                          <li><a href="https://arxiv.org/abs/2409.17433" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">HDFlow: Hybrid Thinking & Dynamic Workflows (2024)</a></li>
                          <li><a href="https://arxiv.org/abs/2505.14631" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">Think Only When You Need with Large Hybrid-Reasoning Models (2025)</a></li>
                        </ul>
                      </div>
                      <div>
                        <h3 className="text-white font-semibold mb-2 text-sm">Implementation Guides</h3>
                        <ul className="list-disc list-inside space-y-1 text-gray-300 text-sm">
                          <li><a href="https://link.springer.com/chapter/10.1007/978-3-642-04581-3_1" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">Hybrid Reasoning with Rules and Ontologies</a></li>
                          <li><a href="https://link.springer.com/article/10.1007/s10115-024-02228-x" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">Hybrid rules/cases/processes in medical decision support (2024)</a></li>
                        </ul>
                      </div>
                      <div>
                        <h3 className="text-white font-semibold mb-2 text-sm">Tools & Libraries</h3>
                        <ul className="list-disc list-inside space-y-1 text-gray-300 text-sm">
                          <li><a href="https://dtai.cs.kuleuven.be/problog/" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">ProbLog / DeepProbLog</a>, <a href="https://arxiv.org/abs/2007.08176" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">NeurASP</a>, <a href="https://arxiv.org/abs/2005.00330" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">Logical Neural Networks (LNN)</a></li>
                          <li><a href="https://github.com/Z3Prover/z3" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">Z3 SMT</a>, <a href="https://www.gurobi.com/documentation/" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">Gurobi/ILP</a>, <a href="https://docs.getmods.ai/" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">Graph/ontology reasoners (e.g., RDFox/Pellet)</a></li>
                          <li><a href="https://python.langchain.com/" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">LangChain</a> / <a href="https://docs.llamaindex.ai/" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">LlamaIndex</a> for orchestration with constraints and tool/solver calls</li>
                        </ul>
                      </div>
                      <div>
                        <h3 className="text-white font-semibold mb-2 text-sm">Community & Discussions</h3>
                        <ul className="list-disc list-inside space-y-1 text-gray-300 text-sm">
                          <li><a href="https://www.journals.elsevier.com/artificial-intelligence" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">Artificial Intelligence journal & hybrid intelligence workshops</a></li>
                          <li><a href="https://www.semantic-web-journal.net/" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">Semantic Web community (reasoners, ontologies, KGs)</a></li>
                        </ul>
                      </div>
                    </div>
                  </section>
                </>
              ) : selectedTechnique.id === 'cognitive-pipelines' ? (
                <>
                  {/* Core Mechanism (short conceptual overview) */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-blue-500 rounded-full"></div>
                      Core Mechanism (short conceptual overview)
                    </h2>
                    <div className="bg-gradient-to-br from-indigo-500/10 to-blue-500/10 border border-indigo-500/20 rounded-xl p-6">
                      <p className="text-gray-200 text-base leading-relaxed">
                        Cognitive Processing Pipelines structure reasoning as sequential stages that mirror human cognition: perception and understanding → working-memory transformation → strategy selection and planning → action/execution → evaluation and learning. Each stage has explicit inputs/outputs, monitored with guardrails for quality, cost, and latency. The pipeline can branch, iterate, and adapt depth based on uncertainty and task difficulty.
                      </p>
                    </div>
                  </section>

                  {/* Workflow / Steps */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-purple-500 rounded-full"></div>
                      Workflow / Steps
                    </h2>
                    <div className="bg-gradient-to-br from-purple-500/10 to-blue-500/10 border border-purple-500/20 rounded-xl p-6">
                      <ol className="list-decimal list-inside space-y-2 text-gray-200 text-sm">
                        <li>Ingest and normalize inputs: task, constraints, prior context, tools/data access.</li>
                        <li>Comprehend and frame: extract entities, goals, constraints; initialize working memory.</li>
                        <li>Plan: select strategy (linear CoT, branching ToT/graph, tool-augmented ReAct) and target depth based on uncertainty.</li>
                        <li>Execute: run step(s), call tools/APIs when grounded evidence is needed; enforce timeouts/retries.</li>
                        <li>Evaluate: verify claims, cite sources, self-reflect/Reflexion or Self‑Refine if low confidence.</li>
                        <li>Iterate or finalize: refine or stop by quality, budget, and latency thresholds; log provenance.</li>
                      </ol>
                    </div>
                  </section>

                  {/* Best Practices */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-green-500 rounded-full"></div>
                      Best Practices
                    </h2>
                    <div className="grid gap-3">
                      {[ 
                        'Separate stages with typed interfaces; persist intermediate artifacts for auditability.',
                        'Route adaptively: shallow paths for easy tasks; deeper/branching when uncertainty is high.',
                        'Use retrieval and tools (ReAct) for grounding; require citations for external facts.',
                        'Verification first for safety-critical outputs (chain-of-verification, consistency checks).',
                        'Budget-aware control: cap steps, cap tool calls, compress context, cache expensive results.',
                        'Observability: log thoughts, tool I/O, uncertainty, costs, and latency; attach run IDs and traces.'
                      ].map((tip) => (
                        <div key={tip} className="flex items-start gap-3 p-3 bg-gray-800/40 rounded-lg">
                          <Check className="w-5 h-5 text-green-400 mt-0.5 flex-shrink-0" />
                          <span className="text-gray-300 text-sm leading-relaxed">{tip}</span>
                        </div>
                      ))}
                    </div>
                  </section>

                  {/* When NOT to Use */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-red-500 rounded-full"></div>
                      When NOT to Use
                    </h2>
                    <div className="bg-gray-800/40 rounded-lg p-6 border border-gray-700/40">
                      <ul className="list-disc list-inside space-y-2 text-gray-300 text-sm">
                        <li>Single‑shot questions answerable from model prior with acceptable quality/cost.</li>
                        <li>Hard real‑time SLOs where multi‑stage orchestration adds prohibitive latency.</li>
                        <li>Irreversible or high‑risk actions without human review or policy gates.</li>
                      </ul>
                    </div>
                  </section>

                  {/* Common Pitfalls */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-amber-500 rounded-full"></div>
                      Common Pitfalls
                    </h2>
                    <div className="bg-gray-800/40 rounded-lg p-6 border border-gray-700/40">
                      <ul className="list-disc list-inside space-y-2 text-gray-300 text-sm">
                        <li>Unbounded depth/branching → cost blow‑ups without quality gains.</li>
                        <li>Context contamination or missing provenance → unverifiable claims.</li>
                        <li>Hallucinated tool calls/params due to vague schemas and poor descriptions.</li>
                        <li>Retrying non‑idempotent steps; lack of circuit breakers and rate‑limit handling.</li>
                      </ul>
                    </div>
                  </section>

                  {/* Key Features */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-cyan-500 rounded-full"></div>
                      Key Features
                    </h2>
                    <div className="grid grid-cols-1 md:grid-cols-2 gap-3">
                      {[ 
                        'Stage‑typed interfaces and artifacts',
                        'Adaptive routing and depth control',
                        'Grounded tool/retrieval integration (ReAct)',
                        'Verification and self‑reflection loops',
                        'Cost/latency budgets and step caps',
                        'Structured logging, traces, and provenance'
                      ].map((feat) => (
                        <div key={feat} className="p-3 bg-gray-800/40 rounded-lg text-gray-300 text-sm border border-gray-700/40">
                          {feat}
                        </div>
                      ))}
                    </div>
                  </section>

                  {/* KPIs / Success Metrics */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-emerald-500 rounded-full"></div>
                      KPIs / Success Metrics
                    </h2>
                    <div className="bg-gray-800/40 rounded-lg p-6 border border-gray-700/40">
                      <ul className="list-disc list-inside space-y-2 text-gray-300 text-sm">
                        <li>Task success/quality uplift vs. single‑shot baseline; factuality/faithfulness.</li>
                        <li>Latency p50/p95, step count distribution, tool‑call success/validation error rates.</li>
                        <li>Cost per task and token efficiency; verification catch‑rate; user satisfaction.</li>
                      </ul>
                    </div>
                  </section>

                  {/* Token / Resource Usage */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-indigo-500 rounded-full"></div>
                      Token / Resource Usage
                    </h2>
                    <div className="bg-gray-800/40 rounded-lg p-6 border border-gray-700/40">
                      <ul className="list-disc list-inside space-y-2 text-gray-300 text-sm">
                        <li>Minimize thought verbosity; compress and window working memory; deduplicate context.</li>
                        <li>Cache subresults; cap tool calls per turn; prefer retrieval summarization over full docs.</li>
                        <li>Use smaller models for routing/verification where acceptable; batch parallel safe steps.</li>
                      </ul>
                    </div>
                  </section>

                  {/* Best Use Cases */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-fuchsia-500 rounded-full"></div>
                      Best Use Cases
                    </h2>
                    <div className="bg-gray-800/40 rounded-lg p-6 border border-gray-700/40">
                      <ul className="list-disc list-inside space-y-2 text-gray-300 text-sm">
                        <li>Complex problem‑solving with planning and verification (e.g., analysis, coding tasks).</li>
                        <li>Research and synthesis with citations and evidence tracking.</li>
                        <li>Decision support requiring tool use, data grounding, and auditable traces.</li>
                      </ul>
                    </div>
                  </section>

                  {/* References & Further Reading */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-orange-500 rounded-full"></div>
                      References & Further Reading
                    </h2>
                    <div className="bg-gray-800/40 rounded-lg p-6 border border-gray-700/40 space-y-4">
                      <div>
                        <h3 className="text-white font-semibold mb-2 text-sm">Academic Papers</h3>
                        <ul className="list-disc list-inside space-y-1 text-gray-300 text-sm">
                          <li><a href="https://arxiv.org/abs/2201.11903" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">Wei et al. (2022): Chain‑of‑Thought Prompting</a></li>
                          <li><a href="https://arxiv.org/abs/2305.10601" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">Yao et al. (2023): Tree of Thoughts</a></li>
                          <li><a href="https://arxiv.org/abs/2210.03629" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">Yao et al. (2023): ReAct — Reasoning + Acting</a></li>
                          <li><a href="https://arxiv.org/abs/2303.11366" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">Shinn et al. (2023): Reflexion</a></li>
                          <li><a href="https://arxiv.org/abs/2303.17651" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">Madaan et al. (2023): Self‑Refine</a></li>
                        </ul>
                      </div>
                      <div>
                        <h3 className="text-white font-semibold mb-2 text-sm">Implementation Guides</h3>
                        <ul className="list-disc list-inside space-y-1 text-gray-300 text-sm">
                          <li><a href="https://platform.openai.com/docs/guides/function-calling" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">OpenAI: Function Calling / Tools</a></li>
                          <li><a href="https://docs.anthropic.com/en/docs/tool-use" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">Anthropic: Tool Use</a></li>
                          <li><a href="https://modelcontextprotocol.io/" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">Model Context Protocol (MCP)</a></li>
                        </ul>
                      </div>
                      <div>
                        <h3 className="text-white font-semibold mb-2 text-sm">Tools & Libraries</h3>
                        <ul className="list-disc list-inside space-y-1 text-gray-300 text-sm">
                          <li><a href="https://github.com/stanfordnlp/dspy" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">DSPy</a></li>
                          <li><a href="https://python.langchain.com/" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">LangChain</a></li>
                          <li><a href="https://docs.llamaindex.ai/" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">LlamaIndex</a></li>
                        </ul>
                      </div>
                      <div>
                        <h3 className="text-white font-semibold mb-2 text-sm">Community & Discussions</h3>
                        <ul className="list-disc list-inside space-y-1 text-gray-300 text-sm">
                          <li><a href="https://www.deeplearning.ai/the-batch/agentic-design-patterns-part-4-planning/" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">DeepLearning.AI: Agentic Design Patterns series</a></li>
                          <li><a href="https://paperswithcode.com/" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">Papers with Code: Reasoning/Agents</a></li>
                        </ul>
                      </div>
                    </div>
                  </section>
                </>
              ) : selectedTechnique.id === 'agentic-rag-systems' ? (
                <>
                  {/* Core Mechanism (short conceptual overview) */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-blue-500 rounded-full"></div>
                      Core Mechanism (short conceptual overview)
                    </h2>
                    <div className="bg-gradient-to-br from-blue-500/10 to-pink-500/10 border border-blue-500/20 rounded-xl p-6">
                      <p className="text-gray-200 text-base leading-relaxed">
                        Agentic RAG systems augment classic retrieval-augmented generation with autonomous planning and control. An agent analyzes the task, plans multi-hop retrieval, reformulates queries, selects tools (e.g., web search, APIs, calculators), validates and synthesizes evidence, and iterates with self-checks to deliver grounded answers with citations.
                      </p>
                    </div>
                  </section>

                  {/* Workflow / Steps */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-purple-500 rounded-full"></div>
                      Workflow / Steps
                    </h2>
                    <div className="bg-gradient-to-br from-purple-500/10 to-blue-500/10 border border-purple-500/20 rounded-xl p-6">
                      <ol className="list-decimal list-inside space-y-2 text-gray-200 text-sm">
                        <li>Intent analysis and plan: estimate difficulty, freshness needs, safety constraints, and decompose into sub-questions.</li>
                        <li>Query reformulation: generate targeted queries; choose retrieval strategy (keyword, dense, hybrid, graph, API).</li>
                        <li>Retrieve and rerank: fetch candidates, apply filters and rerankers; deduplicate, diversify, and enforce domain constraints.</li>
                        <li>Evidence synthesis: ground generation on retrieved spans; cite sources inline with provenance.</li>
                        <li>Self-check and refinement: validate claims, detect contradictions, add missing evidence, or re-retrieve if uncertain.</li>
                        <li>Guardrails and security: sanitize tool I/O, enforce allowlists, and defend against prompt-injection in retrieved content.</li>
                        <li>Finalize: produce answer + citations and confidence; log artifacts for evaluation and audit.</li>
                      </ol>
                    </div>
                  </section>

                  {/* Best Practices */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-green-500 rounded-full"></div>
                      Best Practices
                    </h2>
                    <div className="grid gap-3">
                      {[
                        'Decompose complex queries; route easy ones to no-retrieval or single-pass to save cost/latency.',
                        'Prefer hybrid retrieval (sparse + dense) with high-quality chunking, metadata filters, and domain allowlists.',
                        'Use rerankers for precision-at-k; cap k and context size to reduce noise and token waste.',
                        'Constrain generation to quoted spans (grounding) and require inline citations for factual claims.',
                        'Add verification loops (ReAct-style tool use, self-critique, or chain-of-verification) for high-stakes answers.',
                        'Cache retrieval results; implement doc freshness policies and TTL for web/API results.',
                        'Instrument with evaluation harnesses (faithfulness, answer correctness, citation coverage) and monitor drift.',
                        'Apply robust guardrails: input/output validation, prompt-injection defenses, and tool allow/deny lists.'
                      ].map((tip) => (
                        <div key={tip} className="flex items-start gap-3 p-3 bg-gray-800/40 rounded-lg">
                          <Check className="w-5 h-5 text-green-400 mt-0.5 flex-shrink-0" />
                          <span className="text-gray-300 text-sm leading-relaxed">{tip}</span>
                        </div>
                      ))}
                    </div>
                  </section>

                  {/* When NOT to Use */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-red-500 rounded-full"></div>
                      When NOT to Use
                    </h2>
                    <div className="bg-gray-800/40 rounded-lg p-6 border border-gray-700/40">
                      <ul className="list-disc list-inside space-y-2 text-gray-300 text-sm">
                        <li>Simple, closed-book queries where the base model already meets quality targets.</li>
                        <li>Strict real-time paths with tight p95 SLOs where multi-hop retrieval would breach latency.</li>
                        <li>Severely constrained budgets; agent loops and tool calls can increase cost variance.</li>
                        <li>Tasks requiring deterministic, legally binding outputs without human review.</li>
                      </ul>
                    </div>
                  </section>

                  {/* Common Pitfalls */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-amber-500 rounded-full"></div>
                      Common Pitfalls
                    </h2>
                    <div className="bg-gray-800/40 rounded-lg p-6 border border-gray-700/40">
                      <ul className="list-disc list-inside space-y-2 text-gray-300 text-sm">
                        <li>Over-retrieval (too many low-quality chunks) or under-retrieval (missing key evidence).</li>
                        <li>Hallucinated citations or unsupported claims when grounding and citations are optional.</li>
                        <li>Unbounded agent loops or tool-call retries without budgets and early-exit criteria.</li>
                        <li>Prompt-injection via retrieved content or insecure tool I/O handling.</li>
                        <li>Stale indices; lack of doc freshness policies and source de-duplication.</li>
                        <li>Missing observability: no per-step traces, metrics, or replayable artifacts.</li>
                      </ul>
                    </div>
                  </section>

                  {/* Key Features */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-cyan-500 rounded-full"></div>
                      Key Features
                    </h2>
                    <div className="grid grid-cols-1 md:grid-cols-2 gap-3">
                      {[ 
                        'Autonomous planning and query reformulation',
                        'Multi-hop, tool-augmented retrieval with reranking',
                        'Grounded generation with inline citations and provenance',
                        'Uncertainty estimation and verification loops',
                        'Adaptive strategies (no-retrieval ↔ multi-hop) based on difficulty',
                        'Memory of prior steps and results to avoid repetition',
                        'Security guardrails and policy-aware tool use',
                        'Full observability: traces, metrics, and artifacts'
                      ].map((feat) => (
                        <div key={feat} className="p-3 bg-gray-800/40 rounded-lg text-gray-300 text-sm border border-gray-700/40">
                          {feat}
                        </div>
                      ))}
                    </div>
                  </section>

                  {/* KPIs / Success Metrics */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-emerald-500 rounded-full"></div>
                      KPIs / Success Metrics
                    </h2>
                    <div className="bg-gray-800/40 rounded-lg p-6 border border-gray-700/40">
                      <ul className="list-disc list-inside space-y-2 text-gray-300 text-sm">
                        <li>Answer correctness (human or model-judge) and faithfulness/groundedness scores.</li>
                        <li>Citation quality and coverage; retrieval precision@k and recall.</li>
                        <li>Latency p50/p95, tool-call success rate, loop abort rate.</li>
                        <li>Cost per answer and variance; cache hit rate.</li>
                        <li>User satisfaction (CSAT), deflection rate, and task completion.</li>
                      </ul>
                    </div>
                  </section>

                  {/* Token / Resource Usage */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-indigo-500 rounded-full"></div>
                      Token / Resource Usage
                    </h2>
                    <div className="bg-gray-800/40 rounded-lg p-6 border border-gray-700/40">
                      <ul className="list-disc list-inside space-y-2 text-gray-300 text-sm">
                        <li>Token drivers: planning/analysis turns, retrieval chunk tokens, synthesis, and self-check iterations.</li>
                        <li>Resource drivers: vector/keyword search calls, web/API requests, rerankers, and reruns on uncertainty.</li>
                        <li>Controls: cap top-k, apply rerank filters, compress context, bound iterations, and early-exit on confidence.</li>
                        <li>Engineering tips: aggressive caching, per-source budgets, concurrency limits, and backoff with jitter.</li>
                      </ul>
                    </div>
                  </section>

                  {/* Best Use Cases */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-fuchsia-500 rounded-full"></div>
                      Best Use Cases
                    </h2>
                    <div className="bg-gray-800/40 rounded-lg p-6 border border-gray-700/40">
                      <ul className="list-disc list-inside space-y-2 text-gray-300 text-sm">
                        <li>Investigative Q&A and due diligence across large, evolving corpora.</li>
                        <li>Research assistants (technical, scientific, legal) with citation-backed claims.</li>
                        <li>Enterprise knowledge assistants: support, incident/runbook guidance, compliance summaries.</li>
                        <li>Monitoring briefings: synthesize fresh signals from APIs, news, and internal data.</li>
                      </ul>
                    </div>
                  </section>

                  {/* References & Further Reading */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-orange-500 rounded-full"></div>
                      References & Further Reading
                    </h2>
                    <div className="bg-gray-800/40 rounded-lg p-6 border border-gray-700/40 space-y-4">
                      <div>
                        <h3 className="text-white font-semibold mb-2 text-sm">Academic Papers</h3>
                        <ul className="list-disc list-inside space-y-1 text-gray-300 text-sm">
                          <li><a href="https://arxiv.org/abs/2210.03629" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">ReAct: Synergizing Reasoning and Acting (2022)</a></li>
                          <li><a href="https://arxiv.org/abs/2303.11366" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">Reflexion: Language Agents with Verbal Reinforcement Learning (2023)</a></li>
                          <li><a href="https://arxiv.org/abs/2310.11511" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">Self-RAG: Learning to Retrieve, Generate, and Critique (2023)</a></li>
                          <li><a href="https://github.com/microsoft/graphrag" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">GraphRAG by Microsoft (2024, repository and docs)</a></li>
                        </ul>
                      </div>
                      <div>
                        <h3 className="text-white font-semibold mb-2 text-sm">Implementation Guides</h3>
                        <ul className="list-disc list-inside space-y-1 text-gray-300 text-sm">
                          <li><a href="https://python.langchain.com/" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">LangChain documentation: Agentic RAG patterns</a></li>
                          <li><a href="https://docs.llamaindex.ai/" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">LlamaIndex docs: Agentic RAG templates</a></li>
                          <li><a href="https://weaviate.io/blog/what-is-agentic-rag" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">Weaviate blog: What is Agentic RAG?</a></li>
                          <li><a href="https://www.moveworks.com/us/en/resources/blog/what-is-agentic-rag" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">Moveworks: A guide to Agentic RAG</a></li>
                        </ul>
                      </div>
                      <div>
                        <h3 className="text-white font-semibold mb-2 text-sm">Tools & Libraries</h3>
                        <ul className="list-disc list-inside space-y-1 text-gray-300 text-sm">
                          <li>LangChain, LlamaIndex, Microsoft GraphRAG</li>
                          <li>Rerankers (e.g., cross-encoders), hybrid search in vector DBs</li>
                          <li><a href="https://github.com/explodinggradients/ragas" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">RAGAS</a>, <a href="https://github.com/truera/trulens" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">TruLens</a>, <a href="https://github.com/Arize-ai/phoenix" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">Arize Phoenix</a> for evaluation/observability</li>
                        </ul>
                      </div>
                      <div>
                        <h3 className="text-white font-semibold mb-2 text-sm">Community & Discussions</h3>
                        <ul className="list-disc list-inside space-y-1 text-gray-300 text-sm">
                          <li>LangChain and LlamaIndex community forums and examples</li>
                          <li>Weaviate and Pinecone engineering blogs on RAG/Agentic RAG</li>
                          <li>Conference talks and tutorials on grounded generation and retrieval</li>
                        </ul>
                      </div>
                    </div>
                  </section>
                </>
              ) : selectedTechnique.id === 'multi-source-context-fusion' ? (
                <>
                  {/* Core Mechanism (short conceptual overview) */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-blue-500 rounded-full"></div>
                      Core Mechanism (short conceptual overview)
                    </h2>
                    <div className="bg-gradient-to-br from-purple-500/10 to-pink-500/10 border border-purple-500/20 rounded-xl p-6">
                      <p className="text-gray-200 text-base leading-relaxed">
                        Fuses context from multiple heterogeneous sources (indexes, APIs, databases, agents) into a unified, high-quality
                        evidence set using source-quality scoring, alignment/entity resolution, conflict resolution, and provenance‑aware
                        packing—so generation is grounded in the most relevant, timely, and authoritative information.
                      </p>
                    </div>
                  </section>

                  {/* Workflow / Steps */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-purple-500 rounded-full"></div>
                      Workflow / Steps
                    </h2>
                    <div className="bg-gradient-to-br from-purple-500/10 to-blue-500/10 border border-purple-500/20 rounded-xl p-6">
                      <ol className="list-decimal list-inside space-y-2 text-gray-200 text-sm">
                        <li>Register sources and capabilities: indexes, APIs, tools, agent endpoints; define schemas and access policies.</li>
                        <li>Retrieve/ingest per source with hybrid search or tool calls; capture metadata (recency, authority, permissions).</li>
                        <li>Normalize + canonicalize: deduplicate near‑duplicates; unify schemas; perform entity resolution and ID mapping.</li>
                        <li>Score candidates: relevance, recency, authority, consistency, and coverage; calibrate per‑source weights.</li>
                        <li>Align + reconcile: map entities/claims across sources; detect contradictions and temporal ordering.</li>
                        <li>Fuse results: use late/ensemble fusion (e.g., Reciprocal Rank Fusion) or learned aggregators with confidence weights.</li>
                        <li>Resolve conflicts: apply policies (temporal precedence, source authority, majority/consensus, abstain/defer).</li>
                        <li>Assemble context: compress and pack with citations, timestamps, and source attributions within token budgets.</li>
                        <li>Generate + verify: produce answer; check faithfulness/groundedness; iterate if confidence or coverage is low.</li>
                        <li>Log + evaluate: record per‑source contribution, costs, latency; run ablations to quantify fusion gains.</li>
                      </ol>
                    </div>
                  </section>

                  {/* Best Practices */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-green-500 rounded-full"></div>
                      Best Practices
                    </h2>
                    <div className="grid gap-3">
                      {[
                        'Use hybrid retrieval (lexical + dense) per source; apply strong reranking and late fusion (e.g., RRF).',
                        'Calibrate source weights with offline labels; incorporate dynamic signals (recency, authority, coverage).',
                        'Perform aggressive deduplication and entity resolution to avoid double‑counting repeated facts.',
                        'Enforce provenance: include citations, timestamps, and versioning; prefer authoritative, up‑to‑date sources.',
                        'Reconcile temporally: prefer fresher data unless authoritative sources dictate otherwise; encode validity windows.',
                        'Budget control: per‑source quotas (top_k), total token/cost caps, and early‑exit on high confidence.',
                        'Guardrails: drop low‑quality or policy‑violating sources; honor ACLs/tenancy and data minimization.',
                        'Evaluate by ablation: measure uplift vs best single source and vs no‑fusion baseline before production rollout.',
                      ].map((tip) => (
                        <div key={tip} className="flex items-start gap-3 p-3 bg-gray-800/40 rounded-lg">
                          <Check className="w-5 h-5 text-green-400 mt-0.5 flex-shrink-0" />
                          <span className="text-gray-300 text-sm leading-relaxed">{tip}</span>
                        </div>
                      ))}
                    </div>
                  </section>

                  {/* When NOT to Use */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-red-500 rounded-full"></div>
                      When NOT to Use
                    </h2>
                    <div className="bg-gray-800/40 rounded-lg p-6 border border-gray-700/40">
                      <ul className="list-disc list-inside space-y-2 text-gray-300 text-sm">
                        <li>A single authoritative, fresh source already satisfies quality and SLOs.</li>
                        <li>Hard real‑time paths with tight p95 latency where fusion overhead breaks budgets.</li>
                        <li>Strict compliance regimes that prohibit cross‑source mixing or external augmentation.</li>
                        <li>Sparse or highly conflicting sources without a viable resolution policy or human review.</li>
                        <li>Severe cost constraints where additional sources do not measurably improve outcomes.</li>
                      </ul>
                    </div>
                  </section>

                  {/* Common Pitfalls */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-amber-500 rounded-full"></div>
                      Common Pitfalls
                    </h2>
                    <div className="bg-gray-800/40 rounded-lg p-6 border border-gray-700/40">
                      <ul className="list-disc list-inside space-y-2 text-gray-300 text-sm">
                        <li>Near‑duplicate inflation causing biased scores and repeated context.</li>
                        <li>Over‑weighting popularity/recency signals → drift or stale claims overriding authoritative corrections.</li>
                        <li>Ignoring permissions/tenancy; leaking restricted data into fused context or logs.</li>
                        <li>No temporal reconciliation: mixing outdated and current facts without validity windows.</li>
                        <li>Unbounded context packing leading to truncation and lost citations.</li>
                      </ul>
                    </div>
                  </section>

                  {/* Key Features */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-cyan-500 rounded-full"></div>
                      Key Features
                    </h2>
                    <div className="grid grid-cols-1 md:grid-cols-2 gap-3">
                      {[
                        'Source quality weighting and dynamic scoring',
                        'Cross‑source deduplication and entity resolution',
                        'Conflict resolution policies (temporal, authority, consensus)',
                        'Temporal reasoning and freshness controls',
                        'Unified schema and provenance‑aware context packing',
                        'Per‑source contribution telemetry and confidence',
                      ].map((feat) => (
                        <div key={feat} className="p-3 bg-gray-800/40 rounded-lg text-gray-300 text-sm border border-gray-700/40">
                          {feat}
                        </div>
                      ))}
                    </div>
                  </section>

                  {/* KPIs / Success Metrics */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-emerald-500 rounded-full"></div>
                      KPIs / Success Metrics
                    </h2>
                    <div className="bg-gray-800/40 rounded-lg p-6 border border-gray-700/40">
                      <ul className="list-disc list-inside space-y-2 text-gray-300 text-sm">
                        <li>Answer faithfulness/groundedness and citation coverage; contradiction rate.</li>
                        <li>Fusion gain vs best single source and vs no‑fusion baseline (quality uplift).</li>
                        <li>Redundancy/duplication rate after dedup; entity resolution precision/recall.</li>
                        <li>Recency hit rate and freshness adherence; authority agreement rate.</li>
                        <li>Latency p50/p95 and cost per answer; tokens packed per answer.</li>
                      </ul>
                    </div>
                  </section>

                  {/* Token / Resource Usage */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-indigo-500 rounded-full"></div>
                      Token / Resource Usage
                    </h2>
                    <div className="bg-gray-800/40 rounded-lg p-6 border border-gray-700/40">
                      <ul className="list-disc list-inside space-y-2 text-gray-300 text-sm">
                        <li>Late/ensemble fusion to limit packing; prefer RRF/weighted votes over concatenating large contexts.</li>
                        <li>Per‑source top_k and dynamic budgets; compress extractively with citations; sample by marginal gain.</li>
                        <li>Cache per‑source retrieval/reranks; reuse across hops and related queries.</li>
                        <li>Use lightweight models for scoring/evaluation; reserve strongest model for final synthesis.</li>
                        <li>Stream results and early‑exit when confidence and coverage meet thresholds.</li>
                      </ul>
                    </div>
                  </section>

                  {/* Best Use Cases */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-fuchsia-500 rounded-full"></div>
                      Best Use Cases
                    </h2>
                    <div className="bg-gray-800/40 rounded-lg p-6 border border-gray-700/40">
                      <ul className="list-disc list-inside space-y-2 text-gray-300 text-sm">
                        <li>Enterprise 360° customer view: CRM + support + analytics + communications.</li>
                        <li>Compliance, finance, or risk where multiple authoritative sources must agree.</li>
                        <li>Research synthesis combining papers, structured databases, and web sources with citations.</li>
                        <li>Multi‑agent systems aggregating specialist outputs into a coherent, validated summary.</li>
                        <li>Incident response and observability: logs + metrics + traces + tickets for rapid triage.</li>
                      </ul>
                    </div>
                  </section>

                  {/* References & Further Reading */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-orange-500 rounded-full"></div>
                      References & Further Reading
                    </h2>
                    <div className="bg-gray-800/40 rounded-lg p-6 border border-gray-700/40 space-y-4">
                      <div>
                        <h3 className="text-white font-semibold mb-2 text-sm">Academic Papers</h3>
                        <ul className="list-disc list-inside space-y-1 text-gray-300 text-sm">
                          <li><a href="https://arxiv.org/abs/2007.01282" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">Fusion‑in‑Decoder (FiD): Leveraging Passage Retrieval for Open‑Domain QA (2020/2021)</a></li>
                          <li><a href="https://dl.acm.org/doi/10.1145/1571941.1572114" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">Reciprocal Rank Fusion outperforms Condorcet and individual rank learning (SIGIR 2009)</a></li>
                          <li><a href="https://arxiv.org/abs/2312.10997" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">Retrieval‑Augmented Generation for LLMs: A Survey (2023/2024)</a></li>
                        </ul>
                      </div>
                      <div>
                        <h3 className="text-white font-semibold mb-2 text-sm">Implementation Guides</h3>
                        <ul className="list-disc list-inside space-y-1 text-gray-300 text-sm">
                          <li><a href="https://python.langchain.com/docs/modules/data_connection/retrievers/ensemble_retriever/" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">LangChain: Ensemble (fusion) retriever</a></li>
                          <li><a href="https://docs.llamaindex.ai/en/stable/module_guides/querying/retrievers/query_fusion/" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">LlamaIndex: Query/Fusion retrievers</a></li>
                          <li><a href="https://docs.haystack.deepset.ai/" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">Haystack 2: Pipelines and data fusion</a></li>
                        </ul>
                      </div>
                      <div>
                        <h3 className="text-white font-semibold mb-2 text-sm">Tools & Libraries</h3>
                        <ul className="list-disc list-inside space-y-1 text-gray-300 text-sm">
                          <li><a href="https://www.elastic.co/guide/en/elasticsearch/reference/current/query-dsl-rrf-query.html" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">Elasticsearch: Reciprocal Rank Fusion query</a></li>
                          <li><a href="https://docs.vespa.ai/en/reference/rank-reciprocal-rank-fusion.html" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">Vespa: RRF support</a></li>
                          <li><a href="https://pyterrier.readthedocs.io/" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">PyTerrier: IR experimentation and fusion</a></li>
                        </ul>
                      </div>
                      <div>
                        <h3 className="text-white font-semibold mb-2 text-sm">Community & Discussions</h3>
                        <ul className="list-disc list-inside space-y-1 text-gray-300 text-sm">
                          <li><a href="https://discuss.huggingface.co/" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">Hugging Face Forums: Retrieval and RAG fusion threads</a></li>
                          <li><a href="https://www.pinecone.io/learn/advanced-rag-techniques/" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">Pinecone Learn: Advanced RAG/fusion techniques</a></li>
                        </ul>
                      </div>
                    </div>
                </section>
                </>
              ) : selectedTechnique.id === 'modular-rag' ? (
                <>
                  {/* Core Mechanism (short conceptual overview) */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-blue-500 rounded-full"></div>
                      Core Mechanism (short conceptual overview)
                    </h2>
                    <div className="bg-gradient-to-br from-blue-500/10 to-purple-500/10 border border-blue-500/20 rounded-xl p-6">
                      <p className="text-gray-200 text-base leading-relaxed">
                        Modular RAG decomposes retrieval‑augmented generation into interchangeable components—query understanding,
                        retrieval, fusion/reranking, filtering/policy, context assembly, generation, and verification—wired by an
                        orchestration layer. Each module exposes stable interfaces so teams can swap strategies (e.g., dense/sparse/hybrid
                        retrievers, different rerankers, compression strategies, or verifiers) and route dynamically based on query
                        characteristics, policies, and live telemetry.
                      </p>
                    </div>
                  </section>

                  {/* Workflow / Steps */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-purple-500 rounded-full"></div>
                      Workflow / Steps
                    </h2>
                    <div className="bg-gradient-to-br from-purple-500/10 to-blue-500/10 border border-purple-500/20 rounded-xl p-6">
                      <ol className="list-decimal list-inside space-y-2 text-gray-200 text-sm">
                        <li>Ingestion & indexing: chunking, metadata/ACLs, embeddings; build BM25/vector/hybrid indexes.</li>
                        <li>Query analysis: detect intent/domain; optionally reformulate/expand; choose route and budget.</li>
                        <li>Retrieval: run chosen retriever(s) (dense, sparse, hybrid, graph, API tools) to gather candidates.</li>
                        <li>Fusion & reranking: merge candidates (e.g., RRF) and rerank with cross‑encoder or LLM reranker.</li>
                        <li>Filtering & policy: deduplicate, enforce recency/authority/permissions and safety constraints.</li>
                        <li>Context assembly: compress/summarize; structure with citations; pack within token budget.</li>
                        <li>Generation: prompt the LLM with query + curated context; format outputs (Q&A, steps, JSON).</li>
                        <li>Verification: critique/self‑check/CoVe; citation checks; optional retrieval‑to‑generation loop.</li>
                        <li>Feedback & logging: capture traces, costs, metrics; learn routing/ranking policies over time.</li>
                      </ol>
                    </div>
                  </section>

                  {/* Best Practices */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-green-500 rounded-full"></div>
                      Best Practices
                    </h2>
                    <div className="grid gap-3">
                      {[
                        'Define clear, typed interfaces for modules (request/response schemas, metadata, provenance).',
                        'Make routing/config data‑driven (feature flags, YAML/JSON configs) and version every change.',
                        'Evaluate modules independently and end‑to‑end (retriever recall, reranker MRR/NDCG, answer faithfulness).',
                        'Adopt reranking and late‑fusion to balance recall and precision; cap k at each stage.',
                        'Compress context (map‑reduce, selective quotes, extractive spans) and always include citations.',
                        'Introduce guardrails: permissions, PII redaction, safety/brand filters, and policy‑based routing.',
                        'Budget control: per‑stage token/latency/cost guards with early‑exit and fallbacks.',
                        'Observability: structured traces per module with IDs, latency, cost, and cache hits.',
                        'Continuous evaluation with regression suites and canary A/Bs before broad rollouts.',
                      ].map((tip) => (
                        <div key={tip} className="flex items-start gap-3 p-3 bg-gray-800/40 rounded-lg">
                          <Check className="w-5 h-5 text-green-400 mt-0.5 flex-shrink-0" />
                          <span className="text-gray-300 text-sm leading-relaxed">{tip}</span>
                        </div>
                      ))}
                    </div>
                  </section>

                  {/* When NOT to Use */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-red-500 rounded-full"></div>
                      When NOT to Use
                    </h2>
                    <div className="bg-gray-800/40 rounded-lg p-6 border border-gray-700/40">
                      <ul className="list-disc list-inside space-y-2 text-gray-300 text-sm">
                        <li>Simple FAQ or narrow domains where a single, fixed RAG flow already meets quality/latency/cost.</li>
                        <li>Severe latency or cost constraints that cannot accommodate routing, reranking, and verification.</li>
                        <li>Teams without bandwidth to operate/evaluate multiple components and configurations.</li>
                      </ul>
                    </div>
                  </section>

                  {/* Common Pitfalls */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-amber-500 rounded-full"></div>
                      Common Pitfalls
                    </h2>
                    <div className="bg-gray-800/40 rounded-lg p-6 border border-gray-700/40">
                      <ul className="list-disc list-inside space-y-2 text-gray-300 text-sm">
                        <li>Interface drift and hidden coupling between modules, breaking swapability.</li>
                        <li>Unbounded k and cascading modules leading to token/latency/cost blowups.</li>
                        <li>Weak provenance or missing citations → low trust and unverifiable outputs.</li>
                        <li>Over‑engineering for simple tasks; lack of baselines and ablations.</li>
                      </ul>
                    </div>
                  </section>

                  {/* Key Features */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-cyan-500 rounded-full"></div>
                      Key Features
                    </h2>
                    <div className="grid grid-cols-1 md:grid-cols-2 gap-3">
                      {[
                        'Interchangeable retrievers (dense, sparse, hybrid, graph, tool‑augmented)',
                        'Learned or rules‑based routers and query reformulators',
                        'Cross‑encoder/LLM rerankers and fusion (e.g., RRF) for precision',
                        'Compression and packing (extractive spans, summarization, citation‑aware)',
                        'Policy and safety filters with ACLs and provenance',
                        'Config‑driven orchestration with tracing and A/B harness',
                        'Feedback‑driven adaptation and continuous evaluation',
                      ].map((feat) => (
                        <div key={feat} className="p-3 bg-gray-800/40 rounded-lg text-gray-300 text-sm border border-gray-700/40">
                          {feat}
                        </div>
                      ))}
                    </div>
                  </section>

                  {/* KPIs / Success Metrics */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-emerald-500 rounded-full"></div>
                      KPIs / Success Metrics
                    </h2>
                    <div className="bg-gray-800/40 rounded-lg p-6 border border-gray-700/40">
                      <ul className="list-disc list-inside space-y-2 text-gray-300 text-sm">
                        <li>Answer accuracy/faithfulness with citation correctness; human win‑rate vs. baseline RAG.</li>
                        <li>Retriever recall@k and reranker MRR/NDCG; context precision and duplication rate.</li>
                        <li>Latency p50/p95 and cost per query; cache hit rate; fallback rate and guardrail violations.</li>
                      </ul>
                    </div>
                  </section>

                  {/* Token / Resource Usage */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-indigo-500 rounded-full"></div>
                      Token / Resource Usage
                    </h2>
                    <div className="bg-gray-800/40 rounded-lg p-6 border border-gray-700/40">
                      <ul className="list-disc list-inside space-y-2 text-gray-300 text-sm">
                        <li>Set per‑module budgets (retrieval k, rerank depth, max packed tokens) and enforce early‑exit.</li>
                        <li>Prefer late‑fusion + reranking over massive k; cache hot queries, embeddings, and packed contexts.</li>
                        <li>Use compression (extractive quotes, map‑reduce summaries) and structured context with citations.</li>
                      </ul>
                    </div>
                  </section>

                  {/* Best Use Cases */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-fuchsia-500 rounded-full"></div>
                      Best Use Cases
                    </h2>
                    <div className="bg-gray-800/40 rounded-lg p-6 border border-gray-700/40">
                      <ul className="list-disc list-inside space-y-2 text-gray-300 text-sm">
                        <li>Enterprise knowledge assistants spanning many sources, formats, and permission models.</li>
                        <li>Platforms doing rapid A/B of retrievers/rerankers/routers and continuous improvement.</li>
                        <li>Regulated domains needing provenance, policy enforcement, and configurable guardrails.</li>
                      </ul>
                    </div>
                  </section>

                  {/* References & Further Reading */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-orange-500 rounded-full"></div>
                      References & Further Reading
                    </h2>
                    <div className="bg-gray-800/40 rounded-lg p-6 border border-gray-700/40 space-y-4">
                      <div>
                        <h3 className="text-white font-semibold mb-2 text-sm">Academic Papers</h3>
                        <ul className="list-disc list-inside space-y-1 text-gray-300 text-sm">
                          <li><a href="https://arxiv.org/abs/2407.21059" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">Modular RAG: LEGO‑like Reconfigurable RAG Frameworks (2024)</a></li>
                          <li><a href="https://arxiv.org/abs/2312.10997" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">Retrieval‑Augmented Generation for LLMs: A Survey (2023/2024)</a></li>
                          <li><a href="https://arxiv.org/abs/2405.13576" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">FlashRAG: Modular Toolkit for Efficient RAG Research (2024)</a></li>
                          <li><a href="https://arxiv.org/abs/2408.11381" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">RAGLAB: Modular Unified Framework for RAG (2024)</a></li>
                        </ul>
                      </div>
                      <div>
                        <h3 className="text-white font-semibold mb-2 text-sm">Implementation Guides</h3>
                        <ul className="list-disc list-inside space-y-1 text-gray-300 text-sm">
                          <li><a href="https://docs.haystack.deepset.ai/docs/pipelines" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">Haystack 2: Pipelines and modular RAG</a></li>
                          <li><a href="https://python.langchain.com/docs/expression_language/how_to/rag" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">LangChain: Composable RAG pipelines</a></li>
                          <li><a href="https://docs.llamaindex.ai/en/stable/understanding/rg/rag/" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">LlamaIndex: RAG architecture and modules</a></li>
                        </ul>
                      </div>
                      <div>
                        <h3 className="text-white font-semibold mb-2 text-sm">Tools & Libraries</h3>
                        <ul className="list-disc list-inside space-y-1 text-gray-300 text-sm">
                          <li><a href="https://github.com/Lightning-AI/FlashRAG" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">FlashRAG</a></li>
                          <li><a href="https://github.com/RUC-NLPIR/RAGLAB" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">RAGLAB</a></li>
                          <li><a href="https://github.com/deepset-ai/haystack" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">deepset Haystack</a></li>
                          <li><a href="https://github.com/langchain-ai/langchain" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">LangChain</a></li>
                          <li><a href="https://github.com/run-llama/llama_index" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">LlamaIndex</a></li>
                        </ul>
                      </div>
                      <div>
                        <h3 className="text-white font-semibold mb-2 text-sm">Community & Discussions</h3>
                        <ul className="list-disc list-inside space-y-1 text-gray-300 text-sm">
                          <li><a href="https://aws.amazon.com/blogs/publicsector/use-modular-architecture-for-flexible-and-extensible-rag-based-generative-ai-solutions/" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">AWS: Modular architecture for RAG solutions</a></li>
                          <li><a href="https://alawiii.github.io/Rag-book/chapter5/modular-rag.html" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">RAG Book: Modular RAG overview</a></li>
                        </ul>
                      </div>
                    </div>
                  </section>
                </>
              ) : selectedTechnique.id === 'multimodal-rag' ? (
                <>
                  {/* Core Mechanism (short conceptual overview) */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-blue-500 rounded-full"></div>
                      Core Mechanism (short conceptual overview)
                    </h2>
                    <div className="bg-gradient-to-br from-blue-500/10 to-purple-500/10 border border-blue-500/20 rounded-xl p-6">
                      <p className="text-gray-200 text-base leading-relaxed">
                        Multimodal RAG retrieves and fuses evidence across text, images, audio, video, and structured data using
                        modality-specific encoders and per-modality indexes. Retrieved candidates are aligned into a shared
                        representation and fused (late or hybrid fusion) before a vision/multimodal-capable LLM generates answers
                        grounded in cited, cross-modal evidence.
                      </p>
                    </div>
                  </section>

                  {/* Workflow / Steps */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-purple-500 rounded-full"></div>
                      Workflow / Steps
                    </h2>
                    <div className="bg-gradient-to-br from-purple-500/10 to-blue-500/10 border border-purple-500/20 rounded-xl p-6">
                      <ol className="list-decimal list-inside space-y-2 text-gray-200 text-sm">
                        <li>Ingest: text, PDFs/images, audio/video, and tables/JSON with metadata and ACLs.</li>
                        <li>Preprocess: OCR for docs, ASR for audio, frame sampling/scene cuts for video, normalization.</li>
                        <li>Index: build per-modality indexes (BM25 + vectors) with modality encoders (e.g., CLIP/BLIP‑2/LLaVA for vision; Whisper-style for audio).</li>
                        <li>Retrieve: query per modality; use reciprocal rank fusion or learned fusion to combine results.</li>
                        <li>Rerank: apply cross-encoder or multimodal rerankers; deduplicate and filter by authority/recency/policy.</li>
                        <li>Assemble context: prefer compact features/captions/crops and references over raw media; attach provenance and timestamps.</li>
                        <li>Generate: use a VLM/MLLM (e.g., GPT‑4o/Gemini/Claude) to answer with citations and modality attributions.</li>
                        <li>Verify/iterate: evaluate faithfulness/coverage; refine via query rewrite, scope expansion, or additional hops.</li>
                      </ol>
                    </div>
                  </section>

                  {/* Best Practices */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-green-500 rounded-full"></div>
                      Best Practices
                    </h2>
                    <div className="grid gap-3">
                      {[
                        'Use hybrid retrieval (lexical + per-modality vectors) and late fusion; cap top_k per modality before rerank.',
                        'Calibrate modality weights and down-weight low-quality OCR/ASR; detect and handle missing/corrupt modalities.',
                        'Adopt multimodal rerankers; deduplicate aggressively and clip to evidence spans; include bounding boxes/timecodes.',
                        'Prefer features, captions, and cropped regions in prompts over raw pixels; reference external media when possible.',
                        'Maintain temporal alignment for audio/video via timestamps and segment IDs; store modality provenance.',
                        'Cache embeddings, OCR/ASR, and captions; batch encode media; quantize encoders for throughput and cost.',
                        'Enforce safety/PII/PHI policies on images/audio; log consent and apply redaction; attach citations by default.',
                        'Evaluate on multimodal benchmarks and with human review; track hallucination and evidence-link quality.',
                      ].map((tip) => (
                        <div key={tip} className="flex items-start gap-3 p-3 bg-gray-800/40 rounded-lg">
                          <Check className="w-5 h-5 text-green-400 mt-0.5 flex-shrink-0" />
                          <span className="text-gray-300 text-sm leading-relaxed">{tip}</span>
                        </div>
                      ))}
                    </div>
                  </section>

                  {/* When NOT to Use */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-red-500 rounded-full"></div>
                      When NOT to Use
                    </h2>
                    <div className="bg-gray-800/40 rounded-lg p-6 border border-gray-700/40">
                      <ul className="list-disc list-inside space-y-2 text-gray-300 text-sm">
                        <li>Unimodal tasks already meet quality/latency/cost goals.</li>
                        <li>Strict SLAs or budgets where vision/audio inference and OCR/ASR overheads are prohibitive.</li>
                        <li>Privacy/compliance constraints that preclude processing images/audio/PHI without robust governance.</li>
                        <li>Domains lacking reliable OCR/ASR or where visual/audio signals add negligible value.</li>
                      </ul>
                    </div>
                  </section>

                  {/* Common Pitfalls */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-amber-500 rounded-full"></div>
                      Common Pitfalls
                    </h2>
                    <div className="bg-gray-800/40 rounded-lg p-6 border border-gray-700/40">
                      <ul className="list-disc list-inside space-y-2 text-gray-300 text-sm">
                        <li>Modality collapse: over-reliance on text priors while ignoring harder modalities.</li>
                        <li>Low-quality OCR/ASR contaminating retrieval and prompting → hallucinations.</li>
                        <li>Token/cost blowups by inlining raw media metadata instead of concise features/references.</li>
                        <li>Improper score fusion across modalities; mixing incomparable similarity scales without calibration.</li>
                        <li>Missing provenance, bounding boxes, or timestamps → unverifiable answers.</li>
                      </ul>
                    </div>
                  </section>

                  {/* Key Features */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-cyan-500 rounded-full"></div>
                      Key Features
                    </h2>
                    <div className="grid grid-cols-1 md:grid-cols-2 gap-3">
                      {[
                        'Cross-modal retrieval with per-modality encoders and indexes',
                        'Hybrid early/late fusion with attention and learned weights',
                        'Multimodal reranking and duplicate suppression',
                        'Temporal synchronization and modality provenance tracking',
                        'Evidence linking with citations, boxes, and timecodes',
                        'Fallbacks when modalities are missing or low-confidence',
                      ].map((feat) => (
                        <div key={feat} className="p-3 bg-gray-800/40 rounded-lg text-gray-300 text-sm border border-gray-700/40">
                          {feat}
                        </div>
                      ))}
                    </div>
                  </section>

                  {/* KPIs / Success Metrics */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-emerald-500 rounded-full"></div>
                      KPIs / Success Metrics
                    </h2>
                    <div className="bg-gray-800/40 rounded-lg p-6 border border-gray-700/40">
                      <ul className="list-disc list-inside space-y-2 text-gray-300 text-sm">
                        <li>Retrieval: recall@k, MRR/NDCG by modality; fusion precision; citation coverage and correctness.</li>
                        <li>Generation: multimodal QA accuracy (e.g., DocVQA/ChartQA/TextVQA, ScienceQA‑IM) and human win-rate.</li>
                        <li>Faithfulness/hallucination rate and evidence-link quality (LLM/judge + spot audit).</li>
                        <li>Latency p50/p95/cost per request; GPU utilization and throughput by stage.</li>
                        <li>Calibration metrics (e.g., ECE) and fallback/abstention rates.</li>
                      </ul>
                    </div>
                  </section>

                  {/* Token / Resource Usage */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-indigo-500 rounded-full"></div>
                      Token / Resource Usage
                    </h2>
                    <div className="bg-gray-800/40 rounded-lg p-6 border border-gray-700/40">
                      <ul className="list-disc list-inside space-y-2 text-gray-300 text-sm">
                        <li>Precompute/cache OCR/ASR, captions, and embeddings; batch media encoding for GPU efficiency.</li>
                        <li>Use feature references and cropped regions over raw pixels; limit attachments/resolution per request.</li>
                        <li>Maintain per-modality top_k caps and late-fuse scores; shard long videos to sampled frames.</li>
                        <li>Quantize/compile encoders (e.g., 8‑bit/FP8); track provider pricing for image/audio tokens and limits.</li>
                      </ul>
                    </div>
                  </section>

                  {/* Best Use Cases */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-fuchsia-500 rounded-full"></div>
                      Best Use Cases
                    </h2>
                    <div className="bg-gray-800/40 rounded-lg p-6 border border-gray-700/40">
                      <ul className="list-disc list-inside space-y-2 text-gray-300 text-sm">
                        <li>Document Q&A over PDFs with figures/tables, forms, and screenshots.</li>
                        <li>E‑commerce and product discovery combining image + text search and visual troubleshooting.</li>
                        <li>Support copilots: screenshots/logs + textual KBs; incident analysis with charts and images.</li>
                        <li>Meetings/education: slides + audio transcription + notes summarization.</li>
                        <li>Healthcare workflows combining imaging with clinical notes (with compliance and human oversight).</li>
                      </ul>
                    </div>
                  </section>

                  {/* References & Further Reading */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-orange-500 rounded-full"></div>
                      References & Further Reading
                    </h2>
                    <div className="bg-gray-800/40 rounded-lg p-6 border border-gray-700/40 space-y-4">
                      <div>
                        <h3 className="text-white font-semibold mb-2 text-sm">Academic Papers</h3>
                        <ul className="list-disc list-inside space-y-1 text-gray-300 text-sm">
                          <li><a href="https://arxiv.org/abs/2502.08826" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">Ask in Any Modality: A Comprehensive Survey on Multimodal Retrieval‑Augmented Generation (2025)</a></li>
                          <li><a href="https://arxiv.org/abs/2502.17297" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">Benchmarking Retrieval‑Augmented Generation in Multi‑Modal Contexts (2025)</a></li>
                          <li><a href="https://arxiv.org/abs/2103.00020" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">CLIP: Learning Transferable Visual Models From Natural Language Supervision (2021)</a></li>
                          <li><a href="https://arxiv.org/abs/2301.12597" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">BLIP‑2: Bootstrapping Language‑Image Pre‑training (2023)</a></li>
                          <li><a href="https://arxiv.org/abs/2304.08485" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">LLaVA: Large Language and Vision Assistant (2023)</a></li>
                          <li><a href="https://arxiv.org/abs/2403.04706" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">Chameleon: Mixed‑Modal Early‑Fusion Foundation Models (2024)</a></li>
                        </ul>
                      </div>
                      <div>
                        <h3 className="text-white font-semibold mb-2 text-sm">Implementation Guides</h3>
                        <ul className="list-disc list-inside space-y-1 text-gray-300 text-sm">
                          <li><a href="https://platform.openai.com/docs/guides/vision" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">OpenAI: Vision and Multimodal (GPT‑4V/4o)</a></li>
                          <li><a href="https://docs.anthropic.com/claude/docs/vision" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">Anthropic: Claude 3 Vision Docs</a></li>
                          <li><a href="https://ai.google.dev/gemini-api/docs/vision" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">Google Gemini API: Vision</a></li>
                          <li><a href="https://python.langchain.com/docs/tutorials/multimodal_rag" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">LangChain: Multimodal RAG Tutorial</a></li>
                          <li><a href="https://docs.llamaindex.ai/en/stable/examples/multi_modal/" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">LlamaIndex: Multimodal Examples</a></li>
                          <li><a href="https://huggingface.co/docs/transformers/tasks/vision_text_dual" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">Hugging Face: Vision‑Text Models</a></li>
                        </ul>
                      </div>
                      <div>
                        <h3 className="text-white font-semibold mb-2 text-sm">Tools & Libraries</h3>
                        <ul className="list-disc list-inside space-y-1 text-gray-300 text-sm">
                          <li><a href="https://github.com/openai/CLIP" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">CLIP/OpenCLIP</a>, <a href="https://github.com/facebookresearch/ImageBind" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">ImageBind</a>, BLIP‑2/LLaVA</li>
                          <li><a href="https://weaviate.io/developers/weaviate" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">Weaviate</a> / <a href="https://milvus.io/docs/overview.md" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">Milvus</a> for multimodal vectors</li>
                          <li><a href="https://github.com/facebookresearch/faiss" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">FAISS</a> and rerankers (e.g., Cohere Rerank)</li>
                        </ul>
                      </div>
                      <div>
                        <h3 className="text-white font-semibold mb-2 text-sm">Community & Discussions</h3>
                        <ul className="list-disc list-inside space-y-1 text-gray-300 text-sm">
                          <li><a href="https://paperswithcode.com/area/multimodal-learning" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">Papers with Code: Multimodal Learning</a></li>
                          <li><a href="https://discuss.huggingface.co/" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">Hugging Face Forums</a></li>
                          <li><a href="https://www.reddit.com/r/MachineLearning/" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">r/MachineLearning</a></li>
                        </ul>
                      </div>
                    </div>
                  </section>
                </>
              ) : selectedTechnique.id === 'corrective-rag' ? (
                <>
                  {/* Core Mechanism (short conceptual overview) */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-blue-500 rounded-full"></div>
                      Core Mechanism (short conceptual overview)
                    </h2>
                    <div className="bg-gradient-to-br from-orange-500/10 to-red-500/10 border border-orange-500/20 rounded-xl p-6">
                      <p className="text-gray-200 text-base leading-relaxed">
                        Corrective RAG (CRAG) augments standard RAG with an explicit retrieval quality evaluator and corrective actions. Given a query, CRAG retrieves candidate documents, scores their relevance/quality, and takes one of three actions: use-and-refine high-confidence context, discard-and-retrieve-again (often via broader/web search) for low confidence, or blend refined context with supplemental search for medium confidence. This reduces hallucinations by ensuring generation is grounded in vetted, up-to-date evidence.
                      </p>
                    </div>
                  </section>

                  {/* Workflow / Steps */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-purple-500 rounded-full"></div>
                      Workflow / Steps
                    </h2>
                    <div className="bg-gradient-to-br from-purple-500/10 to-blue-500/10 border border-purple-500/20 rounded-xl p-6">
                      <ol className="list-decimal list-inside space-y-2 text-gray-200 text-sm">
                        <li>Initial retrieval: fetch top-N candidates (dense/sparse/hybrid) and optionally rerank.</li>
                        <li>Evaluate retrieval: score relevance, timeliness, source reliability; assign confidence band (high/medium/low).</li>
                        <li>Corrective action:
                          <ul className="list-disc list-inside ml-5 space-y-1">
                            <li>High: refine with deduplication and knowledge refinement (decompose-then-recompose) and proceed.</li>
                            <li>Medium: refine and supplement via targeted web search or alternative index.</li>
                            <li>Low: discard and re-retrieve with query rewrite, filters, or broader source set.</li>
                          </ul>
                        </li>
                        <li>Grounded generation: produce answer with citations and calibrated confidence.</li>
                        <li>Optional verification: lightweight faithfulness/groundedness check; loop if thresholds unmet.</li>
                      </ol>
                    </div>
                  </section>

                  {/* Best Practices */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-green-500 rounded-full"></div>
                      Best Practices
                    </h2>
                    <div className="grid gap-3">
                      {[
                        'Use retrieval-evaluator gating with explicit thresholds; log confidence and chosen action.',
                        'Apply strong rerankers and aggressive deduplication; restrict to evidence spans to cut noise.',
                        'Constrain query rewrites with guardrails to avoid topic drift during re-retrieval.',
                        'Time-filter sources and encode freshness requirements for dynamic domains.',
                        'Require citation support for factual claims; surface provenance to users.',
                        'Cache retrieval and evaluator outputs; share across similar queries to reduce cost/latency.',
                        'Add abstention/deferral when confidence remains low after corrections.',
                      ].map((tip) => (
                        <div key={tip} className="flex items-start gap-3 p-3 bg-gray-800/40 rounded-lg">
                          <Check className="w-5 h-5 text-green-400 mt-0.5 flex-shrink-0" />
                          <span className="text-gray-300 text-sm leading-relaxed">{tip}</span>
                        </div>
                      ))}
                    </div>
                  </section>

                  {/* When NOT to Use */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-red-500 rounded-full"></div>
                      When NOT to Use
                    </h2>
                    <div className="bg-gray-800/40 rounded-lg p-6 border border-gray-700/40">
                      <ul className="list-disc list-inside space-y-2 text-gray-300 text-sm">
                        <li>Hard real-time paths with strict SLOs; evaluator and re-retrieval loops add latency.</li>
                        <li>Closed-book tasks where the base model reliably answers without external context.</li>
                        <li>Homogeneous, high-quality corpora with consistently high recall/precision already.</li>
                        <li>Environments prohibiting external/web access (compliance) without approved mirrors.</li>
                      </ul>
                    </div>
                  </section>

                  {/* Common Pitfalls */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-amber-500 rounded-full"></div>
                      Common Pitfalls
                    </h2>
                    <div className="bg-gray-800/40 rounded-lg p-6 border border-gray-700/40">
                      <ul className="list-disc list-inside space-y-2 text-gray-300 text-sm">
                        <li>Evaluator drift or miscalibration causing over/under-correction.</li>
                        <li>Query drift during rewrites; answers become off-topic.</li>
                        <li>Unbounded cost from repeated web searches and long contexts.</li>
                        <li>Combining outdated with fresh sources without temporal reconciliation.</li>
                        <li>Weak provenance—users can’t verify claims; trust erodes.</li>
                      </ul>
                    </div>
                  </section>

                  {/* Key Features */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-cyan-500 rounded-full"></div>
                      Key Features
                    </h2>
                    <div className="grid grid-cols-1 md:grid-cols-2 gap-3">
                      {[
                        'Retrieval quality evaluation with confidence bands',
                        'Corrective re-retrieval and targeted web supplementation',
                        'Knowledge refinement: decompose-then-recompose evidence',
                        'Reranking, deduplication, and noise filtering',
                        'Grounded generation with citations and confidence',
                        'Optional post-generation verification/abstention',
                      ].map((f) => (
                        <div key={f} className="p-3 bg-gray-800/40 rounded-lg border border-gray-700/40">
                          <span className="text-gray-300 text-sm">{f}</span>
                        </div>
                      ))}
                    </div>
                  </section>

                  {/* KPIs / Success Metrics */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-emerald-500 rounded-full"></div>
                      KPIs / Success Metrics
                    </h2>
                    <div className="bg-gray-800/40 rounded-lg p-6 border border-gray-700/40">
                      <ul className="list-disc list-inside space-y-2 text-gray-300 text-sm">
                        <li>Answer faithfulness/groundedness and hallucination rate (e.g., via LLM/Judge + spot-audit).</li>
                        <li>Retrieval precision/recall@k and citation support rate.</li>
                        <li>Evaluator calibration (ROC-AUC, ECE) and action distribution (use/blend/reretrieve).</li>
                        <li>Latency budget by stage (retrieve, evaluate, correct, generate).</li>
                        <li>Cost per query and token budget adherence.</li>
                      </ul>
                    </div>
                  </section>

                  {/* Token / Resource Usage */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-indigo-500 rounded-full"></div>
                      Token / Resource Usage
                    </h2>
                    <div className="bg-gray-800/40 rounded-lg p-6 border border-gray-700/40 text-sm text-gray-300 space-y-2">
                      <p>Drivers: retrieval tokens (search + rerank), evaluator tokens, web search API calls, and larger context windows from refinement/blending.</p>
                      <ul className="list-disc list-inside space-y-1">
                        <li>Control with retrieval-necessity gating, reranker-first pruning, and evidence-span clipping.</li>
                        <li>Cache retrieval/evaluator outputs; memoize query rewrites.</li>
                        <li>Use compression (summaries, embeddings) before generation.</li>
                        <li>Enforce max loops and strict timeouts for corrective steps.</li>
                      </ul>
                    </div>
                  </section>

                  {/* Best Use Cases */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-fuchsia-500 rounded-full"></div>
                      Best Use Cases
                    </h2>
                    <div className="bg-gray-800/40 rounded-lg p-6 border border-gray-700/40">
                      <ul className="list-disc list-inside space-y-2 text-gray-300 text-sm">
                        <li>Regulated Q&A (legal, medical, finance) where provenance and accuracy are critical.</li>
                        <li>Rapidly changing domains (policies, pricing, product docs, security advisories).</li>
                        <li>Noisy or heterogeneous knowledge bases; long-tail or ambiguous queries.</li>
                        <li>Research assistants requiring source blending and freshness controls.</li>
                      </ul>
                    </div>
                  </section>

                  {/* References & Further Reading */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-orange-500 rounded-full"></div>
                      References & Further Reading
                    </h2>
                    <div className="bg-gray-800/40 rounded-lg p-6 border border-gray-700/40 space-y-4">
                      <div>
                        <h3 className="text-white font-semibold mb-2 text-sm">Academic Papers</h3>
                        <ul className="list-disc list-inside space-y-1 text-gray-300 text-sm">
                          <li><a href="https://arxiv.org/abs/2401.15884" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">Corrective Retrieval‑Augmented Generation (Yan et al., 2024)</a></li>
                          <li><a href="https://arxiv.org/abs/2005.11401" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">Retrieval‑Augmented Generation (RAG) (Lewis et al., 2020)</a></li>
                          <li><a href="https://arxiv.org/abs/2310.11511" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">Self‑RAG (Shinn et al., 2023)</a></li>
                        </ul>
                      </div>
                      <div>
                        <h3 className="text-white font-semibold mb-2 text-sm">Implementation Guides</h3>
                        <ul className="list-disc list-inside space-y-1 text-gray-300 text-sm">
                          <li><a href="https://docs.llamaindex.ai/en/stable/examples/workflow/corrective_rag_pack/" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">LlamaIndex: Corrective RAG workflow</a></li>
                        </ul>
                      </div>
                      <div>
                        <h3 className="text-white font-semibold mb-2 text-sm">Tools & Libraries</h3>
                        <ul className="list-disc list-inside space-y-1 text-gray-300 text-sm">
                          <li><a href="https://docs.llamaindex.ai/" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">LlamaIndex (RAG components, evaluators, web search)</a></li>
                          <li><a href="https://python.langchain.com/" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">LangChain (retrievers, rerankers, evaluators)</a></li>
                        </ul>
                      </div>
                      <div>
                        <h3 className="text-white font-semibold mb-2 text-sm">Community & Discussions</h3>
                        <ul className="list-disc list-inside space-y-1 text-gray-300 text-sm">
                          <li><a href="https://discuss.huggingface.co/" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">Hugging Face Forums: RAG and evaluation threads</a></li>
                        </ul>
                      </div>
                    </div>
                  </section>
                </>
              ) : selectedTechnique.id === 'conversational-rag' ? (
                <>
                  {/* Core Mechanism (short conceptual overview) */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-blue-500 rounded-full"></div>
                      Core Mechanism (short conceptual overview)
                    </h2>
                    <div className="bg-gradient-to-br from-blue-500/10 to-purple-500/10 border border-blue-500/20 rounded-xl p-6">
                      <p className="text-gray-200 text-base leading-relaxed">
                        Conversational RAG fuses multi-turn dialogue understanding with retrieval. The system reformulates the
                        current user turn using conversation history, retrieves evidence from internal/external sources (hybrid
                        lexical+dense), optionally reranks and compresses, then generates a grounded response with citations—while
                        updating conversation state and memory for subsequent turns.
                      </p>
                    </div>
                  </section>

                  {/* Workflow / Steps */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-purple-500 rounded-full"></div>
                      Workflow / Steps
                    </h2>
                    <div className="bg-gradient-to-br from-purple-500/10 to-blue-500/10 border border-purple-500/20 rounded-xl p-6">
                      <ol className="list-decimal list-inside space-y-2 text-gray-200 text-sm">
                        <li>Ingestion & indexing: parse, chunk (semantic), embed; build hybrid indexes with metadata/ACLs.</li>
                        <li>Turn understanding: resolve coreference, summarize history, and classify intent/domain/freshness needs.</li>
                        <li>Query rewrite: generate focused query variants (decontextualization, expansion) with guardrails.</li>
                        <li>Retrieval: hybrid search + filters (source/time/permission); rerank with cross-encoder or LLM reranker.</li>
                        <li>Context assembly: deduplicate, compress (extractive spans/summaries), attach provenance.</li>
                        <li>Generation: instruct model to answer strictly from context; include citations and calibrated uncertainty.</li>
                        <li>Memory update: persist salient facts/preferences; decay or pin as needed for future turns.</li>
                        <li>Observation: log traces, costs, metrics; cache hot queries and packed contexts.</li>
                      </ol>
                    </div>
                  </section>

                  {/* Best Practices */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-green-500 rounded-full"></div>
                      Best Practices
                    </h2>
                    <div className="grid gap-3">
                      {[
                        'Use hybrid retrieval (BM25/keyword + embeddings) and a strong reranker; cap candidates before rerank.',
                        'Apply conversational query rewriting (CQR) with history; decontextualize to reduce ambiguity.',
                        'Require citations for factual claims; prefer extractive quotes and page anchors over long summaries.',
                        'Bound context size with compression (salient spans, answer-focused summaries) and deduplication.',
                        'Handle uncertainty explicitly: abstain or ask clarifying questions when evidence is insufficient.',
                        'Implement temporal/source filters for freshness and authority; avoid user-provided links without verification.',
                        'Cache embeddings, retrieval results, and packed contexts; leverage per-user/session caches.',
                        'Continuously evaluate by slice (domain, turn depth) and regressions; maintain ablations for each component.'
                      ].map((tip) => (
                        <div key={tip} className="flex items-start gap-3 p-3 bg-gray-800/40 rounded-lg">
                          <Check className="w-5 h-5 text-green-400 mt-0.5 flex-shrink-0" />
                          <span className="text-gray-300 text-sm leading-relaxed">{tip}</span>
                        </div>
                      ))}
                    </div>
                  </section>

                  {/* When NOT to Use */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-red-500 rounded-full"></div>
                      When NOT to Use
                    </h2>
                    <div className="bg-gray-800/40 rounded-lg p-6 border border-gray-700/40">
                      <ul className="list-disc list-inside space-y-2 text-gray-300 text-sm">
                        <li>Simple FAQs where model-only or static retrieval meets quality/latency/cost requirements.</li>
                        <li>Strict real-time constraints that cannot accommodate retrieval/reranking latency.</li>
                        <li>Domains with minimal or unreliable external knowledge; or prohibitive data governance constraints.</li>
                      </ul>
                    </div>
                  </section>

                  {/* Common Pitfalls */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-amber-500 rounded-full"></div>
                      Common Pitfalls
                    </h2>
                    <div className="bg-gray-800/40 rounded-lg p-6 border border-gray-700/40">
                      <ul className="list-disc list-inside space-y-2 text-gray-300 text-sm">
                        <li>Ignoring history in retrieval → answers miss prior constraints or preferences.</li>
                        <li>Unbounded top_k and no reranking → noisy context, lower faithfulness, token blowups.</li>
                        <li>Weak provenance: missing citations or unverifiable sources reduce trust.</li>
                        <li>Over-rewriting queries causing topic drift; lack of guardrails for reformulation.</li>
                      </ul>
                    </div>
                  </section>

                  {/* Key Features */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-cyan-500 rounded-full"></div>
                      Key Features
                    </h2>
                    <div className="grid grid-cols-1 md:grid-cols-2 gap-3">
                      {[
                        'Multi-turn context tracking and coreference resolution',
                        'Conversational query rewriting and expansion',
                        'Hybrid retrieval with reranking and deduplication',
                        'Answer-focused compression with citations and anchors',
                        'Session memory (salient facts, preferences) with decay',
                        'Configurable freshness/authority filters and safety policies'
                      ].map((feat) => (
                        <div key={feat} className="p-3 bg-gray-800/40 rounded-lg text-gray-300 text-sm border border-gray-700/40">
                          {feat}
                        </div>
                      ))}
                    </div>
                  </section>

                  {/* KPIs / Success Metrics */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-emerald-500 rounded-full"></div>
                      KPIs / Success Metrics
                    </h2>
                    <div className="bg-gray-800/40 rounded-lg p-6 border border-gray-700/40">
                      <ul className="list-disc list-inside space-y-2 text-gray-300 text-sm">
                        <li>Answer faithfulness and citation correctness; groundedness scores (e.g., RAGAS, human evals).</li>
                        <li>Retrieval recall@k and reranker MRR/NDCG; context precision and duplication rate.</li>
                        <li>Conversation quality: resolution rate, clarification rate, turn count to resolution, CSAT.</li>
                        <li>Efficiency: p50/p95 latency, tokens per answer, cost per session, cache hit rate.</li>
                      </ul>
                    </div>
                  </section>

                  {/* Token / Resource Usage */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-indigo-500 rounded-full"></div>
                      Token / Resource Usage
                    </h2>
                    <div className="bg-gray-800/40 rounded-lg p-6 border border-gray-700/40">
                      <ul className="list-disc list-inside space-y-2 text-gray-300 text-sm">
                        <li>Cap retrieval depth and rerank to small k (e.g., 50 → rerank → 5–10); prefer late fusion over large k.</li>
                        <li>Compress with extractive spans and map-reduce summaries; pack within strict budgets per turn.</li>
                        <li>Cache embeddings, retrieval results, reranks, and packed contexts; reuse across turns in session.</li>
                        <li>Separate budgets for rewrite, retrieval, and answer; monitor per-stage token and cost telemetry.</li>
                      </ul>
                    </div>
                  </section>

                  {/* Best Use Cases */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-fuchsia-500 rounded-full"></div>
                      Best Use Cases
                    </h2>
                    <div className="bg-gray-800/40 rounded-lg p-6 border border-gray-700/40">
                      <ul className="list-disc list-inside space-y-2 text-gray-300 text-sm">
                        <li>Customer support copilots that must track history, policies, and account context.</li>
                        <li>Research/tutoring assistants that progressively refine topics across turns with citations.</li>
                        <li>Enterprise knowledge assistants requiring provenance, permissions, and freshness.</li>
                      </ul>
                    </div>
                  </section>

                  {/* References & Further Reading */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-orange-500 rounded-full"></div>
                      References & Further Reading
                    </h2>
                    <div className="bg-gray-800/40 rounded-lg p-6 border border-gray-700/40 space-y-4">
                      <div>
                        <h3 className="text-white font-semibold mb-2 text-sm">Academic Papers</h3>
                        <ul className="list-disc list-inside space-y-1 text-gray-300 text-sm">
                          <li><a href="https://arxiv.org/abs/2312.10997" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">Retrieval-Augmented Generation for LLMs: A Survey (2023/2024)</a></li>
                          <li><a href="https://arxiv.org/abs/2104.07567" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">Retrieval Augmentation Reduces Hallucination in Conversation (2021)</a></li>
                          <li><a href="https://arxiv.org/abs/2310.11511" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">Self-RAG: Retrieve, Generate, Critique via Self-Reflection (2023)</a></li>
                          <li><a href="https://arxiv.org/abs/2401.05856" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">Seven Failure Points When Engineering a RAG System (2024)</a></li>
                        </ul>
                      </div>
                      <div>
                        <h3 className="text-white font-semibold mb-2 text-sm">Implementation Guides</h3>
                        <ul className="list-disc list-inside space-y-1 text-gray-300 text-sm">
                          <li><a href="https://learn.microsoft.com/azure/developer/ai/advanced-retrieval-augmented-generation" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">Microsoft Learn: Advanced RAG systems</a></li>
                          <li><a href="https://haystack.deepset.ai/cookbook/conversational_rag_using_memory" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">Haystack Cookbook: Conversational RAG using memory</a></li>
                          <li><a href="https://cookbook.openai.com/" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">OpenAI Cookbook: RAG and evaluation patterns</a></li>
                          <li><a href="https://docs.llamaindex.ai/" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">LlamaIndex Docs: Conversational RAG, rerankers, evaluators</a></li>
                          <li><a href="https://python.langchain.com/" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">LangChain Docs: Conversational retrieval chains</a></li>
                        </ul>
                      </div>
                      <div>
                        <h3 className="text-white font-semibold mb-2 text-sm">Tools & Libraries</h3>
                        <ul className="list-disc list-inside space-y-1 text-gray-300 text-sm">
                          <li><a href="https://cohere.com/rerank" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">Cohere Rerank (cross-encoder)</a></li>
                          <li><a href="https://www.pinecone.io/learn/series/rag/ragas/" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">RAGAS: RAG evaluation metrics</a></li>
                          <li><a href="https://weaviate.io/developers" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">Weaviate: Hybrid search & rerank</a></li>
                          <li><a href="https://www.elastic.co/blog/beyond-rag-basics" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">Elastic: Beyond RAG basics</a></li>
                        </ul>
                      </div>
                      <div>
                        <h3 className="text-white font-semibold mb-2 text-sm">Community & Discussions</h3>
                        <ul className="list-disc list-inside space-y-1 text-gray-300 text-sm">
                          <li><a href="https://discuss.huggingface.co/" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">Hugging Face Forums</a></li>
                          <li><a href="https://www.pinecone.io/learn/advanced-rag-techniques/" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">Pinecone: Advanced RAG techniques</a></li>
                        </ul>
                      </div>
                    </div>
                  </section>
                </>
              ) : selectedTechnique.id === 'chain-of-verification-rag' ? (
                <>
                  {/* Core Mechanism (short conceptual overview) */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-blue-500 rounded-full"></div>
                      Core Mechanism (short conceptual overview)
                    </h2>
                    <div className="bg-gradient-to-br from-teal-500/10 to-emerald-500/10 border border-teal-500/20 rounded-xl p-6">
                      <p className="text-gray-200 text-base leading-relaxed">
                        Chain-of-Verification RAG generates factual claims, then subjects them to systematic verification via
                        independent retrieval and critique loops. Each claim is fact-checked against authoritative sources,
                        contradictions flagged, and the final answer grounded only on verified statements with citations.
                      </p>
                    </div>
                  </section>

                  {/* Workflow / Steps */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-purple-500 rounded-full"></div>
                      Workflow / Steps
                    </h2>
                    <div className="bg-gradient-to-br from-purple-500/10 to-blue-500/10 border border-purple-500/20 rounded-xl p-6">
                      <ol className="list-decimal list-inside space-y-2 text-gray-200 text-sm">
                        <li>Generate initial answer: produce a response with specific, factual claims.</li>
                        <li>Extract verifiable statements: identify atomic claims (facts, numbers, dates, entities).</li>
                        <li>Independent verification: for each claim, retrieve supporting evidence via keyword/semantic search.</li>
                        <li>Cross‑reference and critique: check consistency across sources, flag contradictions or missing evidence.</li>
                        <li>Update and re‑rank: revise/remove unsupported claims; strengthen supported ones with citations.</li>
                        <li>Final synthesis: produce verified answer with confidence scores and source attributions.</li>
                      </ol>
                    </div>
                  </section>

                  {/* Best Practices */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-green-500 rounded-full"></div>
                      Best Practices
                    </h2>
                    <div className="grid gap-3">
                      {[
                        'Start with baseline question answering to identify claims that need verification.',
                        'Use claim decomposition: break complex statements into atomic, verifiable facts.',
                        'Design verification queries to be specific and keyword‑rich for precise retrieval.',
                        'Implement cross‑source consistency checks and flag conflicting evidence.',
                        'Apply confidence thresholds: only include verified claims above a certainty threshold.',
                        'Cache verification results to avoid re‑checking identical claims.',
                        'Instrument with claim‑level evaluation to measure verification accuracy and coverage.',
                        'Balance thoroughness with latency: cap verification rounds and fallback to partial answers.',
                      ].map((tip) => (
                        <div key={tip} className="flex items-start gap-3 p-3 bg-gray-800/40 rounded-lg">
                          <Check className="w-5 h-5 text-green-400 mt-0.5 flex-shrink-0" />
                          <span className="text-gray-300 text-sm leading-relaxed">{tip}</span>
                        </div>
                      ))}
                    </div>
                  </section>

                  {/* When NOT to Use */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-red-500 rounded-full"></div>
                      When NOT to Use
                    </h2>
                    <div className="bg-gray-800/40 rounded-lg p-6 border border-gray-700/40">
                      <ul className="list-disc list-inside space-y-2 text-gray-300 text-sm">
                        <li>Simple queries with mostly subjective or opinion‑based content that doesn't need fact verification.</li>
                        <li>Real‑time applications with tight latency constraints where verification loops are too expensive.</li>
                        <li>Domains with sparse/unreliable sources where fact‑checking is impractical.</li>
                        <li>High‑trust scenarios where the base model's accuracy is already sufficient and verified.</li>
                      </ul>
                    </div>
                  </section>

                  {/* Common Pitfalls */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-amber-500 rounded-full"></div>
                      Common Pitfalls
                    </h2>
                    <div className="bg-gray-800/40 rounded-lg p-6 border border-gray-700/40">
                      <ul className="list-disc list-inside space-y-2 text-gray-300 text-sm">
                        <li>Over‑verification: checking obvious or low‑risk claims where verification overhead isn't justified.</li>
                        <li>Claim extraction errors: missing subtle but important factual assertions.</li>
                        <li>Inconsistent verification criteria leading to false positives/negatives.</li>
                        <li>Citation gaps: verified claims without proper source attribution for auditability.</li>
                        <li>Loop infinities: endless verification cycles without convergence criteria.</li>
                      </ul>
                    </div>
                  </section>

                  {/* Key Features */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-cyan-500 rounded-full"></div>
                      Key Features
                    </h2>
                    <div className="grid grid-cols-1 md:grid-cols-2 gap-3">
                      {[
                        'Retrieval necessity prediction (gating)',
                        'Critique tokens for faithfulness and sufficiency scoring',
                        'Conditional re-retrieval and query refinement',
                        'Citation enforcement and evidence attribution',
                        'Confidence calibration and abstention fallback',
                        'Hybrid retrieval with reranking and compression',
                      ].map((feat) => (
                        <div key={feat} className="p-3 bg-gray-800/40 rounded-lg text-gray-300 text-sm border border-gray-700/40">
                          {feat}
                        </div>
                      ))}
                    </div>
                  </section>

                  {/* KPIs / Success Metrics */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-emerald-500 rounded-full"></div>
                      KPIs / Success Metrics
                    </h2>
                    <div className="bg-gray-800/40 rounded-lg p-6 border border-gray-700/40">
                      <ul className="list-disc list-inside space-y-2 text-gray-300 text-sm">
                        <li>Faithfulness and answer relevancy (e.g., RAGAS) and citation coverage.</li>
                        <li>Context precision/recall after reranking; hallucination rate.</li>
                        <li>Latency p50/p95 and cost per answer; reflection cycle counts.</li>
                        <li>Abstention/deferral rate when confidence is low.</li>
                        <li>Correction rate: proportion of answers improved after critique.</li>
                      </ul>
                    </div>
                  </section>

                  {/* Token / Resource Usage */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-indigo-500 rounded-full"></div>
                      Token / Resource Usage
                    </h2>
                    <div className="bg-gray-800/40 rounded-lg p-6 border border-gray-700/40">
                      <ul className="list-disc list-inside space-y-2 text-gray-300 text-sm">
                        <li>Extra tokens from retrieved passages, critique prompts, and potential re-generation.</li>
                        <li>Mitigate with retrieval gating, aggressive reranking/compression, semantic caching.</li>
                        <li>Cap reflection iterations; early-exit on high confidence.</li>
                        <li>Monitor per-request token budgets and apply dynamic k for retrieval.</li>
                      </ul>
                    </div>
                  </section>

                  {/* Best Use Cases */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-pink-500 rounded-full"></div>
                      Best Use Cases
                    </h2>
                    <div className="bg-gray-800/40 rounded-lg p-6 border border-gray-700/40">
                      <ul className="list-disc list-inside space-y-2 text-gray-300 text-sm">
                        <li>High-accuracy QA and fact verification with citations.</li>
                        <li>Regulated domains (medical, legal, finance) needing grounded outputs.</li>
                        <li>Research assistants that cross-reference and self-check claims.</li>
                        <li>Enterprise knowledge assistants over evolving corpora.</li>
                      </ul>
                    </div>
                  </section>

                  {/* References & Further Reading */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-orange-500 rounded-full"></div>
                      References & Further Reading
                    </h2>
                    <div className="bg-gray-800/40 rounded-lg p-6 border border-gray-700/40 space-y-4">
                      <div>
                        <h3 className="text-white font-semibold mb-2 text-sm">Academic Papers</h3>
                        <ul className="list-disc list-inside space-y-1 text-gray-300 text-sm">
                          <li><a href="https://arxiv.org/abs/2310.11511" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">Self-RAG: Learning to Retrieve, Generate, and Critique through Self-Reflection (Asai et al., 2023)</a></li>
                          <li><a href="https://arxiv.org/abs/2312.10997" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">Retrieval-Augmented Generation for Large Language Models: A Survey (2023)</a></li>
                          <li><a href="https://arxiv.org/abs/2401.05856" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">Seven Failure Points When Engineering a RAG System (2024)</a></li>
                        </ul>
                      </div>
                      <div>
                        <h3 className="text-white font-semibold mb-2 text-sm">Implementation Guides</h3>
                        <ul className="list-disc list-inside space-y-1 text-gray-300 text-sm">
                          <li><a href="https://cookbook.openai.com/" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">OpenAI Cookbook: RAG and evaluation patterns</a></li>
                          <li><a href="https://docs.llamaindex.ai/" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">LlamaIndex: RAG pipelines, rerankers, evaluators</a></li>
                          <li><a href="https://python.langchain.com/" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">LangChain: Retrieval, reranking, evaluation</a></li>
                        </ul>
                      </div>
                      <div>
                        <h3 className="text-white font-semibold mb-2 text-sm">Tools & Libraries</h3>
                        <ul className="list-disc list-inside space-y-1 text-gray-300 text-sm">
                          <li><a href="https://www.pinecone.io/learn/series/rag/ragas/" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">RAGAS: Faithfulness/relevancy metrics</a></li>
                          <li><a href="https://cohere.com/rerank" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">Cohere Rerank / other cross-encoders</a></li>
                          <li><a href="https://www.trychroma.com/" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">Chroma / pgvector / FAISS for vector search</a></li>
                          <li><a href="https://haystack.deepset.ai/" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">Haystack</a></li>
                        </ul>
                      </div>
                      <div>
                        <h3 className="text-white font-semibold mb-2 text-sm">Community & Discussions</h3>
                        <ul className="list-disc list-inside space-y-1 text-gray-300 text-sm">
                          <li><a href="https://thenewstack.io/a-blueprint-for-implementing-rag-at-scale/" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">Blueprints for RAG at scale</a></li>
                          <li><a href="https://github.com/olegovsyannikov/rag-patterns" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">RAG Patterns (curated)</a></li>
                        </ul>
                      </div>
                    </div>
                  </section>
                </>
              ) : selectedTechnique.id === 'chain-of-verification-rag' ? (
                <>
                  {/* Core Mechanism (short conceptual overview) */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-blue-500 rounded-full"></div>
                      Core Mechanism (short conceptual overview)
                    </h2>
                    <div className="bg-gradient-to-br from-blue-500/10 to-purple-500/10 border border-blue-500/20 rounded-xl p-6">
                      <p className="text-gray-200 text-base leading-relaxed">
                        Chain-of-Verification RAG (CoV‑RAG) augments standard retrieval‑augmented generation with an explicit
                        verification loop. The model decomposes claims, asks targeted verification questions, independently retrieves
                        and cross‑checks evidence, detects contradictions, and revises answers until claims are sufficiently
                        supported, returning citations and calibrated confidence.
                      </p>
                    </div>
                  </section>

                  {/* Workflow / Steps */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-purple-500 rounded-full"></div>
                      Workflow / Steps
                    </h2>
                    <div className="bg-gradient-to-br from-purple-500/10 to-blue-500/10 border border-purple-500/20 rounded-xl p-6">
                      <ol className="list-decimal list-inside space-y-2 text-gray-200 text-sm">
                        <li>Initial retrieval and draft: retrieve top‑k candidates; generate an initial answer with citations.</li>
                        <li>Claim decomposition: split the answer into atomic verifiable statements.</li>
                        <li>Verification questioning: form verification questions per claim (who/what/when/source/quantity).</li>
                        <li>Independent evidence gathering: re‑retrieve and/or web/API search focused on each verification question.</li>
                        <li>Cross‑reference and scoring: check consistency across sources; score support, contradiction, or insufficiency.</li>
                        <li>Revision: update or retract claims; add caveats; adjust citations; optionally iterate until thresholds met.</li>
                        <li>Finalization: produce the verified answer with sources, per‑claim confidence, and unresolved gaps if any.</li>
                      </ol>
                    </div>
                  </section>

                  {/* Best Practices */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-green-500 rounded-full"></div>
                      Best Practices
                    </h2>
                    <div className="grid gap-3">
                      {[ 
                        'Decompose to minimal claims and verify independently; avoid verifying summaries of summaries.',
                        'Use strong rerankers and authority/recency filters; prefer primary sources and consensus across outlets.',
                        'Require explicit citations for every factual claim; surface provenance and quote spans when possible.',
                        'Calibrate verification thresholds and add abstain/deferral when evidence is insufficient or conflicting.',
                        'Isolate verification prompts from generation prompts; keep them short, specific, and source‑seeking.',
                        'Instrument with per‑stage tracing (retrieval → verification → revision) including cost/latency/recall.',
                        'Cache verified facts and sources with TTL; deduplicate repeated verification across similar queries.'
                      ].map((tip) => (
                        <div key={tip} className="flex items-start gap-3 p-3 bg-gray-800/40 rounded-lg">
                          <Check className="w-5 h-5 text-green-400 mt-0.5 flex-shrink-0" />
                          <span className="text-gray-300 text-sm leading-relaxed">{tip}</span>
                        </div>
                      ))}
                    </div>
                  </section>

                  {/* When NOT to Use */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-red-500 rounded-full"></div>
                      When NOT to Use
                    </h2>
                    <div className="bg-gray-800/40 rounded-lg p-6 border border-gray-700/40">
                      <ul className="list-disc list-inside space-y-2 text-gray-300 text-sm">
                        <li>Hard real‑time paths with strict p95 latency; verification loops add variable overhead.</li>
                        <li>Tasks that are opinionated/creative where factual verification adds little value.</li>
                        <li>Environments without access to reliable external sources or where citations cannot be surfaced.</li>
                        <li>Ultra‑constrained budgets where 1.5–3× token/call overhead is unacceptable.</li>
                      </ul>
                    </div>
                  </section>

                  {/* Common Pitfalls */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-amber-500 rounded-full"></div>
                      Common Pitfalls
                    </h2>
                    <div className="bg-gray-800/40 rounded-lg p-6 border border-gray-700/40">
                      <ul className="list-disc list-inside space-y-2 text-gray-300 text-sm">
                        <li>Verifying with the same sources used to draft the claim (confirmation bias); use independent retrieval.</li>
                        <li>Over‑broad verification prompts that invite summarization instead of checking specific facts.</li>
                        <li>Unbounded iterations causing cost spikes; set max loops and early‑exit on high confidence.</li>
                        <li>Weak provenance (missing URLs, dates, or quotes) reducing trust and auditability.</li>
                      </ul>
                    </div>
                  </section>

                  {/* Key Features */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-cyan-500 rounded-full"></div>
                      Key Features
                    </h2>
                    <div className="grid grid-cols-1 md:grid-cols-2 gap-3">
                      {[ 
                        'Claim decomposition and per‑claim verification',
                        'Independent retrieval and evidence triangulation',
                        'Contradiction detection and confidence scoring',
                        'Answer revision with explicit caveats and citations',
                        'Policy‑driven thresholds for acceptance/abstention',
                        'Traceability with per‑claim provenance'
                      ].map((feat) => (
                        <div key={feat} className="p-3 bg-gray-800/40 rounded-lg text-gray-300 text-sm border border-gray-700/40">
                          {feat}
                        </div>
                      ))}
                    </div>
                  </section>

                  {/* KPIs / Success Metrics */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-emerald-500 rounded-full"></div>
                      KPIs / Success Metrics
                    </h2>
                    <div className="bg-gray-800/40 rounded-lg p-6 border border-gray-700/40">
                      <ul className="list-disc list-inside space-y-2 text-gray-300 text-sm">
                        <li>Answer faithfulness and citation correctness; human win‑rate vs. baseline RAG.</li>
                        <li>Per‑claim support rate, contradiction rate, and abstention rate.</li>
                        <li>Retriever recall@k for verification queries; reranker MRR/NDCG.</li>
                        <li>Latency p50/p95 and cost per verified answer; iterations per answer.</li>
                      </ul>
                    </div>
                  </section>

                  {/* Token / Resource Usage */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-indigo-500 rounded-full"></div>
                      Token / Resource Usage
                    </h2>
                    <div className="bg-gray-800/40 rounded-lg p-6 border border-gray-700/40">
                      <ul className="list-disc list-inside space-y-2 text-gray-300 text-sm">
                        <li>Expect 1.5–3× tokens vs. single‑shot RAG due to verification prompts and extra retrieval.</li>
                        <li>Bound iterations and top‑k; cache verification results; reuse packed contexts where safe.</li>
                        <li>Prefer extractive quotes over long summaries to reduce context size while preserving grounding.</li>
                      </ul>
                    </div>
                  </section>

                  {/* Best Use Cases */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-fuchsia-500 rounded-full"></div>
                      Best Use Cases
                    </h2>
                    <div className="bg-gray-800/40 rounded-lg p-6 border border-gray-700/40">
                      <ul className="list-disc list-inside space-y-2 text-gray-300 text-sm">
                        <li>Fact‑checking and news/research verification with multi‑source corroboration.</li>
                        <li>High‑stakes domains (medical, legal, finance, security) demanding provenance and confidence.</li>
                        <li>Enterprise knowledge assistants where trust and audit trails are required.</li>
                      </ul>
                    </div>
                  </section>

                  {/* References & Further Reading */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-orange-500 rounded-full"></div>
                      References & Further Reading
                    </h2>
                    <div className="bg-gray-800/40 rounded-lg p-6 border border-gray-700/40 space-y-4">
                      <div>
                        <h3 className="text-white font-semibold mb-2 text-sm">Academic Papers</h3>
                        <ul className="list-disc list-inside space-y-1 text-gray-300 text-sm">
                          <li><a href="https://arxiv.org/abs/2309.11495" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">Chain‑of‑Verification Reduces Hallucination in Large Language Models (2023)</a></li>
                          <li><a href="https://arxiv.org/abs/2410.05801" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">Retrieving, Rethinking and Revising: The Chain‑of‑Verification Can Improve RAG (2024)</a></li>
                          <li><a href="https://arxiv.org/abs/2310.11511" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">Self‑RAG: Learning to Retrieve, Generate, and Critique through Self‑Reflection (2023)</a></li>
                        </ul>
                      </div>
                      <div>
                        <h3 className="text-white font-semibold mb-2 text-sm">Implementation Guides</h3>
                        <ul className="list-disc list-inside space-y-1 text-gray-300 text-sm">
                          <li><a href="https://learn.microsoft.com/en-us/azure/developer/ai/advanced-retrieval-augmented-generation" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">Microsoft Learn: Advanced RAG systems</a></li>
                          <li><a href="https://cookbook.openai.com/" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">OpenAI Cookbook: RAG and evaluation patterns</a></li>
                          <li><a href="https://docs.llamaindex.ai/en/stable/module_guides/evaluating/" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">LlamaIndex: Evaluators for faithfulness and citations</a></li>
                          <li><a href="https://python.langchain.com/docs/guides/evaluation/types/qa_generation/" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">LangChain: Evaluation guides for RAG/QA</a></li>
                        </ul>
                      </div>
                      <div>
                        <h3 className="text-white font-semibold mb-2 text-sm">Tools & Libraries</h3>
                        <ul className="list-disc list-inside space-y-1 text-gray-300 text-sm">
                          <li><a href="https://www.trulens.org/" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">TruLens: Faithfulness/groundedness evaluation</a></li>
                          <li><a href="https://github.com/explodinggradients/ragas" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">Ragas: RAG evaluation metrics</a></li>
                          <li><a href="https://github.com/langchain-ai/langchain" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">LangChain: RAG pipelines and evaluators</a></li>
                          <li><a href="https://github.com/run-llama/llama_index" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">LlamaIndex: Retrieval and evaluators</a></li>
                        </ul>
                      </div>
                      <div>
                        <h3 className="text-white font-semibold mb-2 text-sm">Community & Discussions</h3>
                        <ul className="list-disc list-inside space-y-1 text-gray-300 text-sm">
                          <li><a href="https://discuss.huggingface.co/" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">Hugging Face Forums</a></li>
                          <li><a href="https://www.rohan-paul.com/p/chain-of-verification-in-llm-evaluations" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">Chain‑of‑Verification in LLM Evaluations (overview)</a></li>
                        </ul>
                      </div>
                    </div>
                  </section>
                </>
              ) : selectedTechnique.id === 'event-driven-market-based' ? (
                <>
                  {/* Core Mechanism (short conceptual overview) */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-blue-500 rounded-full"></div>
                      Core Mechanism (short conceptual overview)
                    </h2>
                    <div className="bg-gradient-to-br from-pink-500/10 to-red-500/10 border border-pink-500/20 rounded-xl p-6">
                      <p className="text-gray-200 text-base leading-relaxed">
                        Event‑Driven Market‑Based orchestration allocates tasks via a marketplace on an event bus. Clients publish
                        task requests; autonomous agents evaluate and submit bids containing capability fit, price, latency, and
                        confidence. A market maker matches bids to asks using auction rules and policy constraints, optionally
                        escrows payment, dispatches work to the winner, and settles on completion while updating reputation.
                        Price signals and reputation provide decentralized coordination, load balancing, and quality incentives.
                      </p>
                    </div>
                  </section>

                  {/* Workflow / Steps */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-purple-500 rounded-full"></div>
                      Workflow / Steps
                    </h2>
                    <div className="bg-gradient-to-br from-purple-500/10 to-blue-500/10 border border-purple-500/20 rounded-xl p-6">
                      <ol className="list-decimal list-inside space-y-2 text-gray-200 text-sm">
                        <li>Publish task: normalized schema with requirements, SLA, budget, constraints, privacy flags.</li>
                        <li>Announce: fan‑out on marketplace topics; optional prefiltering by tags/capabilities.</li>
                        <li>Evaluate: agents score fit locally (capability vectors, reputation, historical win‑rate).</li>
                        <li>Bid: submit sealed or continuous bids with price, latency window, confidence, validity TTL.</li>
                        <li>Match: market maker scores bids with reputation and constraints; run auction/clearing rule.</li>
                        <li>Commit: notify winner(s); optional escrow/hold; emit work contract and acceptance tests.</li>
                        <li>Execute: agent performs work; streams progress and partial results as events.</li>
                        <li>Deliver: submit result; auto‑run acceptance checks; handle disputes via policy.</li>
                        <li>Settle: release payment; update reputations (bonus/penalty, slashing on SLA breach/fraud).</li>
                        <li>Audit/learn: append to immutable event log; update metrics and adaptive pricing policies.</li>
                      </ol>
                    </div>
                  </section>

                  {/* Best Practices */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-green-500 rounded-full"></div>
                      Best Practices
                    </h2>
                    <div className="grid gap-3">
                      {[ 
                        'Standardize event schemas (task, bid, match, contract, delivery, settlement); include ids, TTLs, and causal links.',
                        'Make all handlers idempotent; use exactly‑once or transactional outbox/inbox for bid/match/settlement.',
                        'Choose auction rules to fit goals: sealed‑bid second‑price (truthful), first‑price with shading, or double auction.',
                        'Incorporate reputation and SLA history into scoring; decay over time; guard against sybil/whitewashing.',
                        'Enforce anti‑collusion policies: sealed bids, randomized close, caps on market share, anomaly detection.',
                        'Apply QoS: per‑tenant rate limits, fair queueing, backpressure; partition marketplaces by domain.',
                        'Use acceptance tests and escrow to align incentives; define dispute windows and automated remediation.',
                        'Prefer privacy‑preserving announcements (capability tags) and sealed bids for sensitive tasks.',
                        'Instrument full tracing across events; monitor match time, clearance rate, bid latency, cancellations.',
                        'Provide fallback paths: default provider, re‑auction on timeout, or decompose tasks for partial fills.'
                      ].map((tip) => (
                        <div key={tip} className="flex items-start gap-3 p-3 bg-gray-800/40 rounded-lg">
                          <Check className="w-5 h-5 text-green-400 mt-0.5 flex-shrink-0" />
                          <span className="text-gray-300 text-sm leading-relaxed">{tip}</span>
                        </div>
                      ))}
                    </div>
                  </section>

                  {/* When NOT to Use */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-red-500 rounded-full"></div>
                      When NOT to Use
                    </h2>
                    <div className="bg-gray-800/40 rounded-lg p-6 border border-gray-700/40">
                      <ul className="list-disc list-inside space-y-2 text-gray-300 text-sm">
                        <li>Small, stable teams with fixed roles where a simple router/orchestrator is sufficient.</li>
                        <li>Hard real‑time or safety‑critical paths requiring deterministic latency without auction overhead.</li>
                        <li>Strict compliance regimes that forbid broad task broadcast or cross‑tenant bidding.</li>
                        <li>Environments with too few agents to create competition or with highly interdependent subtasks.</li>
                        <li>Tasks with near‑zero variance in difficulty/cost where pricing and bidding add no value.</li>
                      </ul>
                    </div>
                  </section>

                  {/* Common Pitfalls */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-amber-500 rounded-full"></div>
                      Common Pitfalls
                    </h2>
                    <div className="bg-gray-800/40 rounded-lg p-6 border border-gray-700/40">
                      <ul className="list-disc list-inside space-y-2 text-gray-300 text-sm">
                        <li>Bid sniping or collusion; lack of sealed bids or randomized close encourages manipulation.</li>
                        <li>Sybil attacks and reputation whitewashing without identity, staking, or decay mechanisms.</li>
                        <li>Unbounded bidding storms under high fan‑out; missing rate limits/backpressure.</li>
                        <li>Scoring solely on price; ignoring capability fit, latency risk, or historical quality.</li>
                        <li>Weak acceptance tests; subjective acceptance leads to disputes and perverse incentives.</li>
                        <li>No idempotency/transactionality; duplicate matches or lost settlements on failures.</li>
                        <li>Market concentration: a few winners dominate; monitor and cap market share if needed.</li>
                        <li>Leaky announcements exposing sensitive details; lack of privacy‑preserving task tags.</li>
                      </ul>
                    </div>
                  </section>

                  {/* Key Features */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-cyan-500 rounded-full"></div>
                      Key Features
                    </h2>
                    <div className="grid grid-cols-1 md:grid-cols-2 gap-3">
                      {[ 
                        'Sealed‑bid and continuous auction modes (first‑price, Vickrey/second‑price, or double auction)',
                        'Reputation‑weighted scoring with decay and domain‑specific reputations',
                        'Escrow/hold and automated settlement based on acceptance tests',
                        'Partial fulfillment and re‑auction for residual demand',
                        'Policy constraints: budget caps, latency SLOs, compliance tags, locality',
                        'Replayable event log and deterministic reprocessing for audits',
                        'Privacy‑preserving announcements and sealed bids',
                        'Timeouts, cancellations, and dispute resolution windows'
                      ].map((feat) => (
                        <div key={feat} className="p-3 bg-gray-800/40 rounded-lg text-gray-300 text-sm border border-gray-700/40">
                          {feat}
                        </div>
                      ))}
                    </div>
                  </section>

                  {/* KPIs / Success Metrics */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-emerald-500 rounded-full"></div>
                      KPIs / Success Metrics
                    </h2>
                    <div className="bg-gray-800/40 rounded-lg p-6 border border-gray-700/40">
                      <ul className="list-disc list-inside space-y-2 text-gray-300 text-sm">
                        <li>Bid latency p50/p95 and time‑to‑match; clearance rate per market.</li>
                        <li>Market depth (bids per task), effective competition, and win‑rate concentration (Gini/HHI).</li>
                        <li>Task success and acceptance rate; SLA breach rate; dispute/cancel rate.</li>
                        <li>Cost per task and price efficiency vs. baseline; utilization/load balance across agents.</li>
                        <li>Reputation drift and stability; fraud/anomaly flags; re‑auction frequency.</li>
                      </ul>
                    </div>
                  </section>

                  {/* Token / Resource Usage */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-indigo-500 rounded-full"></div>
                      Token / Resource Usage
                    </h2>
                    <div className="bg-gray-800/40 rounded-lg p-6 border border-gray-700/40">
                      <ul className="list-disc list-inside space-y-2 text-gray-300 text-sm">
                        <li>Overhead scales with number of bidding agents: evaluation + bid‑composition prompts per task.</li>
                        <li>Use compact bid schemas and capability vectors; cap bids/agent/time; sample or prefilter candidates.</li>
                        <li>Compress announcements; prefer embeddings/capability tags over full task text where possible.</li>
                        <li>Cache evaluation results for repeated tasks; reuse acceptance tests and contract templates.</li>
                        <li>Track cost per matched task inclusive of failed bids and re‑auctions.</li>
                      </ul>
                    </div>
                  </section>

                  {/* Best Use Cases */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-fuchsia-500 rounded-full"></div>
                      Best Use Cases
                    </h2>
                    <div className="bg-gray-800/40 rounded-lg p-6 border border-gray-700/40">
                      <ul className="list-disc list-inside space-y-2 text-gray-300 text-sm">
                        <li>Large, heterogeneous agent pools where specialization varies and demand is bursty.</li>
                        <li>Federated marketplaces across teams or organizations with different cost/latency/quality trade‑offs.</li>
                        <li>Resource allocation and load balancing with dynamic pricing (e.g., API providers, tool invocations).</li>
                        <li>Competitive bidding for complex tasks (analysis, data labeling, code fixes) with acceptance tests.</li>
                        <li>Multi‑robot/fleet coordination where tasks can be auctioned to the best‑fit executor.</li>
                      </ul>
                    </div>
                  </section>

                  {/* References & Further Reading */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-orange-500 rounded-full"></div>
                      References & Further Reading
                    </h2>
                    <div className="bg-gray-800/40 rounded-lg p-6 border border-gray-700/40 space-y-4">
                      <div>
                        <h3 className="text-white font-semibold mb-2 text-sm">Academic Papers</h3>
                        <ul className="list-disc list-inside space-y-1 text-gray-300 text-sm">
                          <li><a href="https://www.ri.cmu.edu/pub_files/pub4/dias_michael_2006_3/dias_michael_2006_3.pdf" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">Dias et al. (2006): Market‑Based Multirobot Coordination</a></li>
                          <li><a href="https://web.mit.edu/dimitrib/www/auction.txt" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">Bertsekas (1988): The Auction Algorithm</a></li>
                          <li><a href="https://dl.acm.org/doi/10.1145/159544.159617" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">Wellman (1993): Market‑Oriented Programming</a></li>
                          <li><a href="https://ilpubs.stanford.edu:8090/562/1/2002-56.pdf" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">EigenTrust (2004): Reputation Management in P2P Networks</a></li>
                          <li><a href="https://ieeexplore.ieee.org/document/4308385" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">Smith (1980): The Contract Net Protocol</a></li>
                        </ul>
                      </div>
                      <div>
                        <h3 className="text-white font-semibold mb-2 text-sm">Implementation Guides</h3>
                        <ul className="list-disc list-inside space-y-1 text-gray-300 text-sm">
                          <li><a href="https://martinfowler.com/articles/201701-event-driven.html" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">Martin Fowler: Event‑Driven Architecture</a></li>
                          <li><a href="https://kafka.apache.org/documentation/" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">Apache Kafka Documentation</a></li>
                          <li><a href="https://docs.nats.io/" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">NATS & JetStream Docs</a></li>
                          <li><a href="https://www.confluent.io/learn/event-driven-architecture/" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">Confluent: Event‑Driven Architecture Patterns</a></li>
                          <li><a href="https://temporal.io/blog/saga-pattern" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">Temporal: Saga Pattern and Compensation</a></li>
                        </ul>
                      </div>
                      <div>
                        <h3 className="text-white font-semibold mb-2 text-sm">Tools & Libraries</h3>
                        <ul className="list-disc list-inside space-y-1 text-gray-300 text-sm">
                          <li><a href="https://kafka.apache.org/" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">Apache Kafka / Kafka Streams</a></li>
                          <li><a href="https://redpanda.com/" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">Redpanda</a></li>
                          <li><a href="https://nats.io/" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">NATS</a></li>
                          <li><a href="https://www.rabbitmq.com/" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">RabbitMQ</a></li>
                          <li><a href="https://temporal.io/" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">Temporal</a></li>
                          <li><a href="https://langchain-ai.github.io/langgraph/" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">LangGraph (agent workflows)</a></li>
                          <li><a href="https://www.ray.io/" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">Ray</a></li>
                        </ul>
                      </div>
                      <div>
                        <h3 className="text-white font-semibold mb-2 text-sm">Community & Discussions</h3>
                        <ul className="list-disc list-inside space-y-1 text-gray-300 text-sm">
                          <li><a href="https://www.aamas-conference.org/" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">AAMAS: International Conference on Autonomous Agents and Multiagent Systems</a></li>
                          <li><a href="https://community.temporal.io/" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">Temporal Community</a></li>
                          <li><a href="https://slack.kafka.apache.org/" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">Kafka Community Slack</a></li>
                          <li><a href="https://discuss.nats.io/" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">NATS Discuss</a></li>
                        </ul>
                      </div>
                    </div>
                  </section>
                </>
              ) : selectedTechnique.id === 'circuit-breaker' ? (
                <>
                  {/* Core Mechanism (short conceptual overview) */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-blue-500 rounded-full"></div>
                      Core Mechanism (short conceptual overview)
                    </h2>
                    <div className="bg-gradient-to-br from-red-500/10 to-orange-500/10 border border-red-500/20 rounded-xl p-6">
                      <p className="text-gray-200 text-base leading-relaxed">
                        Circuit Breaker protects callers from repeatedly invoking an unhealthy dependency by short‑circuiting calls when
                        failure rates or timeouts exceed thresholds. It runs as a lightweight state machine with Closed → Open → Half‑Open
                        transitions based on rolling error/timeout windows and probe results, returning fast failures or fallbacks until
                        recovery is verified.
                      </p>
                    </div>
                  </section>

                  {/* Workflow / Steps */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-purple-500 rounded-full"></div>
                      Workflow / Steps
                    </h2>
                    <div className="bg-gradient-to-br from-purple-500/10 to-blue-500/10 border border-purple-500/20 rounded-xl p-6">
                      <ol className="list-decimal list-inside space-y-2 text-gray-200 text-sm">
                        <li>Observe outcomes in a rolling window (timeouts, connection errors, HTTP 5xx, retriable errors).</li>
                        <li>Evaluate trip conditions (e.g., error rate ≥ threshold with minimum calls, or consecutive failures count).</li>
                        <li>Transition to Open and short‑circuit further calls; immediately return error or fallback.</li>
                        <li>After a cool‑down, enter Half‑Open and allow limited concurrent probes with timeouts.</li>
                        <li>If probes meet success criteria, Close and reset counters; on failure, return to Open.</li>
                        <li>Emit metrics and events on every transition for monitoring and alerting.</li>
                      </ol>
                    </div>
                  </section>

                  {/* Best Practices */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-green-500 rounded-full"></div>
                      Best Practices
                    </h2>
                    <div className="grid gap-3">
                      {[ 
                        'Always set timeouts before adding retries or breakers; no timeout → thread/connection pool exhaustion.',
                        'Use sliding windows with minimum number of calls to avoid tripping on low traffic.',
                        'Tune thresholds from SLOs and baselines (separate read vs write, per endpoint/tenant).',
                        'Cap Half‑Open probes and use jittered backoff to prevent stampedes.',
                        'Provide meaningful fallbacks (cached/stale data, alternate provider, graceful degradation).',
                        'Combine with Bulkhead isolation and bounded concurrency per dependency.',
                        'Differentiate error classes (timeouts vs 5xx vs 4xx) and exclude caller cancellations.',
                        'Make breaker state observable: metrics, logs, traces, and alert on flapping or prolonged Open.',
                        'Prefer library/mesh support (Resilience4j/Polly/Envoy/Istio) for consistency and operability.',
                      ].map((tip) => (
                        <div key={tip} className="flex items-start gap-3 p-3 bg-gray-800/40 rounded-lg">
                          <Check className="w-5 h-5 text-green-400 mt-0.5 flex-shrink-0" />
                          <span className="text-gray-300 text-sm leading-relaxed">{tip}</span>
                        </div>
                      ))}
                    </div>
                  </section>

                  {/* When NOT to Use */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-red-500 rounded-full"></div>
                      When NOT to Use
                    </h2>
                    <div className="bg-gray-800/40 rounded-lg p-6 border border-gray-700/40">
                      <ul className="list-disc list-inside space-y-2 text-gray-300 text-sm">
                        <li>Local, in‑process operations where latency is microseconds and failures are not remote‑dependency related.</li>
                        <li>Idempotent, low‑cost operations where a simple retry with backoff suffices.</li>
                        <li>Hard real‑time paths where added checks would violate strict latency budgets.</li>
                        <li>Critical actions that must always attempt (no safe fallback) and where Open would be worse than trying once.</li>
                      </ul>
                    </div>
                  </section>

                  {/* Common Pitfalls */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-amber-500 rounded-full"></div>
                      Common Pitfalls
                    </h2>
                    <div className="bg-gray-800/40 rounded-lg p-6 border border-gray-700/40">
                      <ul className="list-disc list-inside space-y-2 text-gray-300 text-sm">
                        <li>No timeout or shared unbounded pools → resource exhaustion despite breaker.</li>
                        <li>Treating all errors equally; tripping on caller cancellations or expected 4xx.</li>
                        <li>Low traffic without a minimum‑calls guard → noisy trips and flapping.</li>
                        <li>Half‑Open allowing full traffic instead of limited probes.</li>
                        <li>Breaker state not exposed to ops → silent failures, no alerts.</li>
                        <li>Global/shared state across instances without coordination, causing inconsistent behavior.</li>
                        <li>Retry storms combined with Open state due to upstream retries not disabled on short‑circuits.</li>
                      </ul>
                    </div>
                  </section>

                  {/* Key Features */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-cyan-500 rounded-full"></div>
                      Key Features
                    </h2>
                    <div className="grid grid-cols-1 md:grid-cols-2 gap-3">
                      {[
                        'Rolling metrics window with minimum call count',
                        'Open/Closed/Half‑Open state machine',
                        'Short‑circuiting with fast failure or fallback',
                        'Probe policy in Half‑Open with capped concurrency',
                        'Per‑endpoint configuration and tagging',
                        'Metrics, logs, and tracing hooks for observability',
                        'Integration with retries, timeouts, bulkheads, and backpressure',
                        'Support via libraries and service meshes/API gateways',
                      ].map((feat) => (
                        <div key={feat} className="p-3 bg-gray-800/40 rounded-lg text-gray-300 text-sm border border-gray-700/40">
                          {feat}
                        </div>
                      ))}
                    </div>
                  </section>

                  {/* KPIs / Success Metrics */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-emerald-500 rounded-full"></div>
                      KPIs / Success Metrics
                    </h2>
                    <div className="bg-gray-800/40 rounded-lg p-6 border border-gray-700/40">
                      <ul className="list-disc list-inside space-y-2 text-gray-300 text-sm">
                        <li>Trip rate (Open events) and time spent Open; flapping frequency.</li>
                        <li>Short‑circuited requests vs prevented downstream calls; fallback hit rate.</li>
                        <li>Probe success ratio and time to recovery (Open → Closed).</li>
                        <li>Downstream p95/p99 latency and error rate vs baseline.</li>
                        <li>Caller pool utilization, queue depth, and shed/drop rate under stress.</li>
                      </ul>
                    </div>
                  </section>

                  {/* Token / Resource Usage */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-indigo-500 rounded-full"></div>
                      Token / Resource Usage
                    </h2>
                    <div className="bg-gray-800/40 rounded-lg p-6 border border-gray-700/40">
                      <ul className="list-disc list-inside space-y-2 text-gray-300 text-sm">
                        <li>Token usage: Not applicable (no LLM calls). Keep prompts separate from breaker logic if used by callers.</li>
                        <li>CPU/memory: O(1) per call; small rolling window buffers/counters. Prefer ring buffers to limit memory.</li>
                        <li>Latency overhead: Microseconds to low milliseconds for checks; ensure non‑blocking metrics I/O.</li>
                        <li>Cardinality: Keep label dimensions (per endpoint/tenant) bounded to avoid metrics blowup.</li>
                      </ul>
                    </div>
                  </section>

                  {/* Best Use Cases */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-fuchsia-500 rounded-full"></div>
                      Best Use Cases
                    </h2>
                    <div className="bg-gray-800/40 rounded-lg p-6 border border-gray-700/40">
                      <ul className="list-disc list-inside space-y-2 text-gray-300 text-sm">
                        <li>Microservices calling unreliable downstreams (DB replicas, search, payment, email/SMS, third‑party APIs).</li>
                        <li>Edge/API gateways protecting upstreams from dependency outages.</li>
                        <li>Aggregator services with fan‑out where a single failing branch would otherwise block the whole request.</li>
                        <li>Service mesh/gateway level protection with outlier detection and ejection.</li>
                      </ul>
                    </div>
                  </section>

                  {/* References & Further Reading */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-orange-500 rounded-full"></div>
                      References & Further Reading
                    </h2>
                    <div className="bg-gray-800/40 rounded-lg p-6 border border-gray-700/40 space-y-4">
                      <div>
                        <h3 className="text-white font-semibold mb-2 text-sm">Academic Papers</h3>
                        <ul className="list-disc list-inside space-y-1 text-gray-300 text-sm">
                          <li>Release It! (2nd ed.) – Michael Nygard</li>
                          <li>Tail at Scale – Dean and Barroso</li>
                        </ul>
                      </div>
                      <div>
                        <h3 className="text-white font-semibold mb-2 text-sm">Implementation Guides</h3>
                        <ul className="list-disc list-inside space-y-1 text-gray-300 text-sm">
                          <li>Azure Architecture Center – Circuit Breaker</li>
                          <li>AWS Prescriptive Guidance – Circuit Breaker</li>
                          <li>Microsoft Cloud Design Patterns – Circuit Breaker</li>
                        </ul>
                      </div>
                      <div>
                        <h3 className="text-white font-semibold mb-2 text-sm">Tools & Libraries</h3>
                        <ul className="list-disc list-inside space-y-1 text-gray-300 text-sm">
                          <li>Resilience4j (Java)</li>
                          <li>Polly ( .NET )</li>
                          <li>Envoy/Istio outlier detection (service mesh)</li>
                          <li>Opossum (Node.js), gobreaker (Go), pybreaker (Python)</li>
                        </ul>
                      </div>
                      <div>
                        <h3 className="text-white font-semibold mb-2 text-sm">Community & Discussions</h3>
                        <ul className="list-disc list-inside space-y-1 text-gray-300 text-sm">
                          <li>Martin Fowler – Circuit Breaker bliki</li>
                          <li>Netflix Hystrix (archived) and deprecation notes; Resilience4j migration guides</li>
                          <li>Conference talks and SRE blogs on resilience patterns</li>
                        </ul>
                      </div>
                    </div>
                </section>
                </>
              ) : selectedTechnique.id === 'retry-backoff' ? (
                <>
                  {/* Core Mechanism (short conceptual overview) */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-blue-500 rounded-full"></div>
                      Core Mechanism (short conceptual overview)
                    </h2>
                    <div className="bg-gradient-to-br from-orange-500/10 to-yellow-500/10 border border-orange-500/20 rounded-xl p-6">
                      <p className="text-gray-200 text-base leading-relaxed">
                        Intelligent Retry with Backoff handles transient faults by retrying failed operations with increasing, jittered delays.
                        Use exponential backoff with full jitter, classify errors as retryable vs permanent, respect server hints (e.g., Retry-After),
                        and enforce budgets (max attempts/total time). Always set timeouts first and ensure operations are idempotent or protected by
                        idempotency keys.
                      </p>
                    </div>
                  </section>

                  {/* Workflow / Steps */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-purple-500 rounded-full"></div>
                      Workflow / Steps
                    </h2>
                    <div className="bg-gradient-to-br from-purple-500/10 to-blue-500/10 border border-purple-500/20 rounded-xl p-6">
                      <ol className="list-decimal list-inside space-y-2 text-gray-200 text-sm">
                        <li>Execute with a strict timeout and cancellation support.</li>
                        <li>On failure, classify the error (e.g., network timeout, 5xx, 429 with Retry-After, vs permanent 4xx).</li>
                        <li>Decide retry eligibility based on error class, HTTP method/idempotency, and policy.</li>
                        <li>Compute delay: exponential backoff with cap (e.g., base × 2^attempt up to max), apply full jitter; if present, obey Retry-After.</li>
                        <li>Enforce budgets: max attempts and max total elapsed time; apply per-tenant/endpoint concurrency limits.</li>
                        <li>Retry; on success, reset state. On exhaustion, escalate: fallback, DLQ, or user-visible error.</li>
                      </ol>
                    </div>
                  </section>

                  {/* Best Practices */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-green-500 rounded-full"></div>
                      Best Practices
                    </h2>
                    <div className="grid gap-3">
                      {[
                        'Set timeouts before retries; no timeout → pool/thread exhaustion.',
                        'Use exponential backoff with full jitter to avoid synchronized retry storms.',
                        'Respect server guidance (e.g., Retry-After, rate-limit headers); propagate backoff hints end‑to‑end.',
                        'Retry only idempotent operations by default (HTTP GET/HEAD/PUT/DELETE) or use idempotency keys for writes.',
                        'Classify errors: retry 408/425/429/5xx and network timeouts; avoid retrying 400/401/403/404 unless policy says otherwise.',
                        'Bound retries: cap attempts and total time; implement a global retry budget to prevent amplification.',
                        'Combine with circuit breakers, bulkheads, and bounded concurrency; disable nested retries across layers.',
                        'Emit metrics, traces, and structured logs for attempts, delays, outcomes, and headers (e.g., Retry-After).',
                        'Provide fallbacks (cached/stale, alternate provider) and dead-letter queues for exhausted retries.',
                      ].map((tip) => (
                        <div key={tip} className="flex items-start gap-3 p-3 bg-gray-800/40 rounded-lg">
                          <Check className="w-5 h-5 text-green-400 mt-0.5 flex-shrink-0" />
                          <span className="text-gray-300 text-sm leading-relaxed">{tip}</span>
                        </div>
                      ))}
                    </div>
                  </section>

                  {/* When NOT to Use */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-red-500 rounded-full"></div>
                      When NOT to Use
                    </h2>
                    <div className="bg-gray-800/40 rounded-lg p-6 border border-gray-700/40">
                      <ul className="list-disc list-inside space-y-2 text-gray-300 text-sm">
                        <li>Non-idempotent operations without idempotency protection (e.g., charges without idempotency keys).</li>
                        <li>Permanent failures (e.g., 400 validation, 401/403 auth) where retrying cannot succeed without change.</li>
                        <li>Hard real-time UX where additional delay budgets are unacceptable; prefer fast failure or alternate flow.</li>
                        <li>Deeply layered systems already performing retries (client, gateway, SDK) → disable at one layer to avoid storms.</li>
                      </ul>
                    </div>
                  </section>

                  {/* Common Pitfalls */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-amber-500 rounded-full"></div>
                      Common Pitfalls
                    </h2>
                    <div className="bg-gray-800/40 rounded-lg p-6 border border-gray-700/40">
                      <ul className="list-disc list-inside space-y-2 text-gray-300 text-sm">
                        <li>No jitter → synchronized retries and thundering herd under outages.</li>
                        <li>Ignoring Retry-After or provider backoff headers; treating 429 like generic 5xx.</li>
                        <li>Retrying non-idempotent POSTs without idempotency keys → duplicates and side effects.</li>
                        <li>Infinite or unbounded retries; no cap on attempts or total time.</li>
                        <li>Layered retries (SDK + proxy + app) amplifying traffic during incidents.</li>
                        <li>Retrying client-side cancellations/timeouts caused by user aborts.</li>
                      </ul>
                    </div>
                  </section>

                  {/* Key Features */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-cyan-500 rounded-full"></div>
                      Key Features
                    </h2>
                    <div className="grid grid-cols-1 md:grid-cols-2 gap-3">
                      {[
                        'Configurable base delay, multiplier, cap, max attempts, and total duration.',
                        'Jitter strategies (full, equal, decorrelated) to desynchronize clients.',
                        'Error classification and policy per endpoint/method/tenant.',
                        'Header-aware behavior (Retry-After, rate-limit headers).',
                        'Idempotency support (keys, dedupe windows) for safe writes.',
                        'Global retry budgets and per-dependency concurrency caps.',
                        'Observability hooks: metrics, tracing spans, structured logs.',
                        'Integration with circuit breakers, bulkheads, queues, and DLQs.',
                      ].map((feat) => (
                        <div key={feat} className="p-3 bg-gray-800/40 rounded-lg text-gray-300 text-sm border border-gray-700/40">
                          {feat}
                        </div>
                      ))}
                    </div>
                  </section>

                  {/* KPIs / Success Metrics */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-emerald-500 rounded-full"></div>
                      KPIs / Success Metrics
                    </h2>
                    <div className="bg-gray-800/40 rounded-lg p-6 border border-gray-700/40">
                      <ul className="list-disc list-inside space-y-2 text-gray-300 text-sm">
                        <li>Retry success rate and average attempts-to-success.</li>
                        <li>Total time-to-success vs baseline; p95/p99 latency impact.</li>
                        <li>Error-rate reduction (429/5xx) and fallback/DLQ rates.</li>
                        <li>Duplicate suppression rate for idempotent writes; replay incidents avoided.</li>
                        <li>Retry amplification factor under incidents; adherence to global retry budget.</li>
                      </ul>
                    </div>
                  </section>

                  {/* Token / Resource Usage */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-indigo-500 rounded-full"></div>
                      Token / Resource Usage
                    </h2>
                    <div className="bg-gray-800/40 rounded-lg p-6 border border-gray-700/40">
                      <ul className="list-disc list-inside space-y-2 text-gray-300 text-sm">
                        <li>LLM/API cost: each retry replays prompt + completion tokens; cap attempts and use caching to reduce spend.</li>
                        <li>CPU/memory: timers and state are O(1) per call; prefer async I/O to avoid thread blocking.</li>
                        <li>Connections: bound concurrent in-flight retries; avoid retrying long bodies/uploads.</li>
                        <li>Network/egress: retries add traffic; enforce backoff caps and exponential spacing under outages.</li>
                      </ul>
                    </div>
                  </section>

                  {/* Best Use Cases */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-fuchsia-500 rounded-full"></div>
                      Best Use Cases
                    </h2>
                    <div className="bg-gray-800/40 rounded-lg p-6 border border-gray-700/40">
                      <ul className="list-disc list-inside space-y-2 text-gray-300 text-sm">
                        <li>Third‑party APIs that emit 429/5xx with Retry‑After (payments, email/SMS, LLM providers).</li>
                        <li>Mobile/edge clients on unreliable networks (lossy or high‑latency links).</li>
                        <li>Event processing with at‑least‑once semantics; transactional deadlocks and transient DB timeouts.</li>
                        <li>Fan‑out aggregators where individual branch failures are often transient.</li>
                      </ul>
                    </div>
                  </section>

                  {/* References & Further Reading */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-orange-500 rounded-full"></div>
                      References & Further Reading
                    </h2>
                    <div className="bg-gray-800/40 rounded-lg p-6 border border-gray-700/40 space-y-4">
                      <div>
                        <h3 className="text-white font-semibold mb-2 text-sm">Academic Papers</h3>
                        <ul className="list-disc list-inside space-y-1 text-gray-300 text-sm">
                          <li><a href="https://arxiv.org/abs/1402.5207" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">Bender et al. (2014): How to Scale Exponential Backoff</a></li>
                          <li><a href="https://sre.google/sre-book/handling-overload/" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">Google SRE: Handling Overload (client-side throttling, backoff, jitter)</a></li>
                        </ul>
                      </div>
                      <div>
                        <h3 className="text-white font-semibold mb-2 text-sm">Implementation Guides</h3>
                        <ul className="list-disc list-inside space-y-1 text-gray-300 text-sm">
                          <li><a href="https://docs.aws.amazon.com/prescriptive-guidance/latest/cloud-design-patterns/retry-backoff.html" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">AWS Prescriptive Guidance: Retry with Backoff</a></li>
                          <li><a href="https://learn.microsoft.com/en-us/azure/architecture/patterns/retry" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">Azure Architecture Center: Retry pattern</a></li>
                          <li><a href="https://cloud.google.com/storage/docs/retry-strategy" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">Google Cloud: Retry strategy (exponential backoff with jitter)</a></li>
                          <li><a href="https://www.rfc-editor.org/rfc/rfc9110.html#name-retry-after" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">RFC 9110: Retry-After header</a></li>
                          <li><a href="https://grpc.io/docs/guides/retry/" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">gRPC: Retry policy</a></li>
                          <li><a href="https://stripe.com/docs/idempotency" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">Stripe: Idempotency keys</a></li>
                        </ul>
                      </div>
                      <div>
                        <h3 className="text-white font-semibold mb-2 text-sm">Tools & Libraries</h3>
                        <ul className="list-disc list-inside space-y-1 text-gray-300 text-sm">
                          <li><a href="https://resilience4j.readme.io/docs/retry" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">Resilience4j (Java): Retry</a></li>
                          <li><a href="https://github.com/App-vNext/Polly" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">Polly (.NET)</a></li>
                          <li><a href="https://tenacity.readthedocs.io/" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">Tenacity (Python)</a></li>
                          <li><a href="https://github.com/litl/backoff" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">backoff (Python)</a></li>
                          <li><a href="https://github.com/hashicorp/go-retryablehttp" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">go-retryablehttp (Go)</a></li>
                          <li><a href="https://github.com/softonic/axios-retry" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">axios-retry (JavaScript)</a></li>
                        </ul>
                      </div>
                      <div>
                        <h3 className="text-white font-semibold mb-2 text-sm">Community & Discussions</h3>
                        <ul className="list-disc list-inside space-y-1 text-gray-300 text-sm">
                          <li><a href="https://aws.amazon.com/blogs/architecture/exponential-backoff-and-jitter/" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">AWS Architecture Blog: Exponential Backoff and Jitter (Marc Brooker)</a></li>
                          <li><a href="https://medium.com/yandex/good-retry-bad-retry-an-incident-story-648072d3cee6" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">Good Retry, Bad Retry: An Incident Story (Yandex)</a></li>
                        </ul>
                      </div>
                    </div>
                </section>
                </>
              ) : selectedTechnique.id === 'graceful-degradation' ? (
                <>
                  {/* Core Mechanism (short conceptual overview) */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-blue-500 rounded-full"></div>
                      Core Mechanism (short conceptual overview)
                    </h2>
                    <div className="bg-gradient-to-br from-yellow-500/10 to-green-500/10 border border-yellow-500/20 rounded-xl p-6">
                      <p className="text-gray-200 text-base leading-relaxed">
                        Maintain core user journeys when the system faces failures or overload by proactively reducing service
                        quality, disabling non-critical features, and reallocating resources to essentials. Prefer partial,
                        predictable functionality over total outage; combine with load shedding, throttling, circuit breaking,
                        caching, and feature flags.
                      </p>
                    </div>
                  </section>

                  {/* Workflow / Steps */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-purple-500 rounded-full"></div>
                      Workflow / Steps
                    </h2>
                    <div className="bg-gradient-to-br from-purple-500/10 to-blue-500/10 border border-purple-500/20 rounded-xl p-6">
                      <ol className="list-decimal list-inside space-y-2 text-gray-200 text-sm">
                        <li>Classify features: critical, important, nice-to-have; map to business SLAs/SLOs.</li>
                        <li>Define degradation levels (L1/L2/L3) with triggers (SLO errors, p95/p99 latency, queue depth, saturation).</li>
                        <li>Implement controls: feature flags, QoS tiers, graceful timeouts, fallbacks, cached defaults, alternate providers.</li>
                        <li>Detect stress/failure via observability; activate level-specific actions automatically at ingress and service tiers.</li>
                        <li>Communicate status to users and ops; provide alternative flows and clear messaging.</li>
                        <li>Recover gradually; verify metrics at each step; rollback on regressions; complete post-incident review.</li>
                      </ol>
                    </div>
                  </section>

                  {/* Best Practices */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-green-500 rounded-full"></div>
                      Best Practices
                    </h2>
                    <div className="grid gap-3">
                      {[
                        'Kill-switches and feature flags per capability; exercise them in game days.',
                        'Serve stale/cached results over errors; precompute fallbacks for hot paths and critical pages.',
                        'Ingress load shedding and prioritization by tenant/QoS; enforce rate limits and request budgets.',
                        'Isolate with bulkheads and bounded pools; apply backpressure to prevent cascading failures.',
                        'Make degradation observable: events, metrics, traces, SLO-aware alerts, and runbooks.',
                        'Design a clean degraded UX: subtle messaging, alternative flows, and user-initiated retries.',
                        'Layer with circuit breakers, retries, autoscaling, and CDN strategies for resilience.',
                      ].map((tip) => (
                        <div key={tip} className="flex items-start gap-3 p-3 bg-gray-800/40 rounded-lg">
                          <Check className="w-5 h-5 text-green-400 mt-0.5 flex-shrink-0" />
                          <span className="text-gray-300 text-sm leading-relaxed">{tip}</span>
                        </div>
                      ))}
                    </div>
                  </section>

                  {/* When NOT to Use */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-red-500 rounded-full"></div>
                      When NOT to Use
                    </h2>
                    <div className="bg-gray-800/40 rounded-lg p-6 border border-gray-700/40">
                      <ul className="list-disc list-inside space-y-2 text-gray-300 text-sm">
                        <li>Safety-critical flows where any reduction is unacceptable; design for fault tolerance instead.</li>
                        <li>Regulated behaviors that must remain fully available or consistent under all conditions.</li>
                        <li>Low-impact internal tools where added complexity outweighs resilience benefits.</li>
                      </ul>
                    </div>
                  </section>

                  {/* Common Pitfalls */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-amber-500 rounded-full"></div>
                      Common Pitfalls
                    </h2>
                    <div className="bg-gray-800/40 rounded-lg p-6 border border-gray-700/40">
                      <ul className="list-disc list-inside space-y-2 text-gray-300 text-sm">
                        <li>Untested kill-switches that fail during incidents; lack of recovery criteria leading to flapping.</li>
                        <li>Global toggles without tenant/priority specificity; equal impact on critical customers.</li>
                        <li>Hidden coupling across services causing cascading degradations and unexpected side effects.</li>
                        <li>Confusing UX under degradation (cryptic errors, no alternatives, silent failures).</li>
                      </ul>
                    </div>
                  </section>

                  {/* Key Features */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-cyan-500 rounded-full"></div>
                      Key Features
                    </h2>
                    <div className="grid grid-cols-1 md:grid-cols-2 gap-3">
                      {[
                        'Feature flags and scoped kill-switches',
                        'Ingress load shedding, priority queues, and rate limiting',
                        'Fallbacks: stale cache, static content, alternate providers',
                        'Quality knobs: reduce model/context size, sampling, or fidelity',
                        'Isolation: bulkheads, bounded pools, and backpressure',
                        'Observability: degradation events, dashboards, and SLO alerts',
                      ].map((feat) => (
                        <div key={feat} className="p-3 bg-gray-800/40 rounded-lg text-gray-300 text-sm border border-gray-700/40">
                          {feat}
                        </div>
                      ))}
                    </div>
                  </section>

                  {/* KPIs / Success Metrics */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-emerald-500 rounded-full"></div>
                      KPIs / Success Metrics
                    </h2>
                    <div className="bg-gray-800/40 rounded-lg p-6 border border-gray-700/40">
                      <ul className="list-disc list-inside space-y-2 text-gray-300 text-sm">
                        <li>Core journey availability during incidents (auth, add-to-cart, checkout success rates).</li>
                        <li>p95/p99 latency and error rate in degraded vs normal modes by route/service.</li>
                        <li>Load shed percentage; protected capacity for priority traffic; rate-limit hit rate.</li>
                        <li>Time in degraded states; flapping frequency; mean time to recovery to normal.</li>
                        <li>User satisfaction/CSAT and revenue preserved during incidents.</li>
                      </ul>
                    </div>
                  </section>

                  {/* Token / Resource Usage */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-indigo-500 rounded-full"></div>
                      Token / Resource Usage
                    </h2>
                    <div className="bg-gray-800/40 rounded-lg p-6 border border-gray-700/40">
                      <ul className="list-disc list-inside space-y-2 text-gray-300 text-sm">
                        <li>LLM paths: shorten context, reduce tool calls, prefer cached retrieval; cap iterations and depth.</li>
                        <li>Compute: cap concurrency; shrink pool sizes per dependency; enforce request budgets.</li>
                        <li>Network/storage: serve from CDN/caches; pre-render critical pages; defer non-essential writes.</li>
                        <li>Cost: track cost-per-success during incidents; disable expensive enhancements first.</li>
                      </ul>
                    </div>
                  </section>

                  {/* Best Use Cases */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-fuchsia-500 rounded-full"></div>
                      Best Use Cases
                    </h2>
                    <div className="bg-gray-800/40 rounded-lg p-6 border border-gray-700/40">
                      <ul className="list-disc list-inside space-y-2 text-gray-300 text-sm">
                        <li>High-traffic events (launches, sales) where optional features can be scaled down.</li>
                        <li>Third-party dependency outages where alternates or cached data sustain core flows.</li>
                        <li>Agentic systems with external tools—preserve essential actions; pause enhancements.</li>
                        <li>Multi-tenant SaaS with tiered QoS and customer-specific prioritization.</li>
                      </ul>
                    </div>
                  </section>

                  {/* References & Further Reading */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-orange-500 rounded-full"></div>
                      References & Further Reading
                    </h2>
                    <div className="bg-gray-800/40 rounded-lg p-6 border border-gray-700/40 space-y-4">
                      <div>
                        <h3 className="text-white font-semibold mb-2 text-sm">Academic Papers</h3>
                        <ul className="list-disc list-inside space-y-1 text-gray-300 text-sm">
                          <li><a href="https://dl.acm.org/doi/10.1145/1993744.1993752" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">Dean & Barroso – The Tail at Scale</a></li>
                          <li><a href="https://arxiv.org/abs/2103.03956" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">Quartermaster: Modeling and Simulating System Degradation</a></li>
                        </ul>
                      </div>
                      <div>
                        <h3 className="text-white font-semibold mb-2 text-sm">Implementation Guides</h3>
                        <ul className="list-disc list-inside space-y-1 text-gray-300 text-sm">
                          <li><a href="https://sre.google/sre-book/handling-overload/" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">Google SRE Book: Handling Overload</a></li>
                          <li><a href="https://docs.aws.amazon.com/wellarchitected/latest/reliability-pillar/rel_design_principles.html" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">AWS Well-Architected: Reliability Design Principles</a></li>
                          <li><a href="https://learn.microsoft.com/azure/architecture/patterns/throttling" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">Azure Architecture Center: Throttling Pattern</a></li>
                          <li><a href="https://learn.microsoft.com/azure/architecture/patterns/bulkhead" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">Azure Architecture Center: Bulkhead Pattern</a></li>
                          <li><a href="https://learn.microsoft.com/azure/architecture/patterns/circuit-breaker" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">Azure Architecture Center: Circuit Breaker Pattern</a></li>
                        </ul>
                      </div>
                      <div>
                        <h3 className="text-white font-semibold mb-2 text-sm">Tools & Libraries</h3>
                        <ul className="list-disc list-inside space-y-1 text-gray-300 text-sm">
                          <li>Resilience libraries: <a href="https://resilience4j.readme.io/" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">Resilience4j</a>, <a href="https://github.com/App-vNext/Polly" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">Polly</a></li>
                          <li>Traffic control: <a href="https://www.envoyproxy.io/docs/envoy/latest/intro/what_is_envoy" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">Envoy</a> outlier detection, <a href="https://istio.io/latest/docs/tasks/traffic-management/" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">Istio</a> traffic policies, NGINX rate limiting</li>
                          <li>Feature flags: <a href="https://www.getunleash.io/" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">Unleash</a>, LaunchDarkly</li>
                          <li>Caching/CDN: Cloudflare, Fastly, CDN-backed static fallbacks</li>
                        </ul>
                      </div>
                      <div>
                        <h3 className="text-white font-semibold mb-2 text-sm">Community & Discussions</h3>
                        <ul className="list-disc list-inside space-y-1 text-gray-300 text-sm">
                          <li><a href="https://blog.cloudflare.com/" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">Cloudflare Engineering Blog: Load Shedding and Overload</a></li>
                          <li>Netflix Engineering posts on resilience and fallback strategies; incident write-ups</li>
                        </ul>
                      </div>
                    </div>
                  </section>
                </>
              ) : selectedTechnique.id === 'health-monitoring' ? (
                <>
                  {/* Core Mechanism (short conceptual overview) */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-blue-500 rounded-full"></div>
                      Core Mechanism (short conceptual overview)
                    </h2>
                    <div className="bg-gradient-to-br from-green-500/10 to-blue-500/10 border border-green-500/20 rounded-xl p-6">
                      <p className="text-gray-200 text-base leading-relaxed">
                        Multi-layered observability that continuously measures service, infrastructure, and model quality SLIs,
                        combines Golden Signals with model-centric metrics, performs anomaly/predictive analysis, and drives
                        automated remediation via runbooks and escalation policies.
                      </p>
                    </div>
                  </section>

                  {/* Workflow / Steps */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-purple-500 rounded-full"></div>
                      Workflow / Steps
                    </h2>
                    <div className="bg-gradient-to-br from-purple-500/10 to-blue-500/10 border border-purple-500/20 rounded-xl p-6">
                      <ol className="list-decimal list-inside space-y-2 text-gray-200 text-sm">
                        <li>Define SLIs and SLOs: latency, errors, saturation, traffic; plus model quality, safety, drift.</li>
                        <li>Instrument code and infra: OpenTelemetry traces/metrics/logs; Prometheus exporters; K8s probes.</li>
                        <li>Collect and store: metrics TSDB, logs, trace backends; control label/cardinality and retention.</li>
                        <li>Baseline and detect: thresholds, statistical anomaly detection, canary analysis, dependency health.</li>
                        <li>Alert and route: low-churn alert rules bound to SLOs with on-call, paging, and silencing windows.</li>
                        <li>Auto-remediate: safe actions (restart, scale, route failover, cache flush) via runbooks; verify recovery.</li>
                        <li>Review and improve: incident postmortems, update dashboards/runbooks, refine SLOs and automation.</li>
                      </ol>
                    </div>
                  </section>

                  {/* Best Practices */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-green-500 rounded-full"></div>
                      Best Practices
                    </h2>
                    <div className="grid gap-3">
                      {[
                        'Start from user journeys → define SLIs, set SLOs, then derive alerting; avoid raw CPU-based alerts.',
                        'Use the Golden Signals (latency, traffic, errors, saturation) and complement with RED/USE methods.',
                        'Correlate traces, metrics, and logs via consistent IDs; adopt OpenTelemetry semantic conventions.',
                        'Combine whitebox (internals) with blackbox/synthetic probes; monitor dependencies explicitly.',
                        'Manage metrics cardinality (labels) and retention; budget for storage and query performance.',
                        'Codify runbooks and safe automation; gate risky actions with safeguards and verifications.',
                        'Use canary/blue-green with automated analysis before full rollouts; rollback criteria pre-defined.',
                        'Track model KPIs (quality, drift, safety) alongside system KPIs; sample evaluations on a budget.',
                        'Practice incident response (game days/chaos) and keep dashboards/runbooks version-controlled.',
                      ].map((tip) => (
                        <div key={tip} className="flex items-start gap-3 p-3 bg-gray-800/40 rounded-lg">
                          <Check className="w-5 h-5 text-green-400 mt-0.5 flex-shrink-0" />
                          <span className="text-gray-300 text-sm leading-relaxed">{tip}</span>
                        </div>
                      ))}
                    </div>
                  </section>

                  {/* When NOT to Use */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-red-500 rounded-full"></div>
                      When NOT to Use
                    </h2>
                    <div className="bg-gray-800/40 rounded-lg p-6 border border-gray-700/40">
                      <ul className="list-disc list-inside space-y-2 text-gray-300 text-sm">
                        <li>Throwaway prototypes without uptime requirements or on-call ownership.</li>
                        <li>Single-user/offline tools where local logs suffice and paging is inappropriate.</li>
                        <li>Environments without basic instrumentation or where metrics storage cannot be supported.</li>
                      </ul>
                    </div>
                  </section>

                  {/* Common Pitfalls */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-amber-500 rounded-full"></div>
                      Common Pitfalls
                    </h2>
                    <div className="bg-gray-800/40 rounded-lg p-6 border border-gray-700/40">
                      <ul className="list-disc list-inside space-y-2 text-gray-300 text-sm">
                        <li>Alert fatigue: too many threshold alerts not tied to SLOs; missing silence windows and deduping.</li>
                        <li>Ignoring saturation and p95/p99 latency; relying on averages and host-level CPU alone.</li>
                        <li>Unbounded label cardinality causing cost/runaway time series and slow queries.</li>
                        <li>Missing readiness/startup probes; only liveness → crash loops and cold start flapping.</li>
                        <li>No runbooks or unsafe automation; remediation actions without verification or rollback.</li>
                        <li>Tracking model metrics without drift/safety monitors; no human-in-the-loop for critical paths.</li>
                      </ul>
                    </div>
                  </section>

                  {/* Key Features */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-cyan-500 rounded-full"></div>
                      Key Features
                    </h2>
                    <div className="grid grid-cols-1 md:grid-cols-2 gap-3">
                      {[
                        'Unified health score across service, infra, and model dimensions',
                        'Golden Signals + RED/USE dashboards and dependency maps',
                        'Anomaly detection and predictive failure analysis',
                        'Synthetic probes and blackbox checks for critical journeys',
                        'Trace-based health and distributed causality graphs',
                        'Automated alerting with on-call routing and escalation',
                        'Auto-remediation hooks with verification and rollback',
                        'Canary/blue-green analysis and SLO error budget policies',
                      ].map((feat) => (
                        <div key={feat} className="p-3 bg-gray-800/40 rounded-lg text-gray-300 text-sm border border-gray-700/40">
                          {feat}
                        </div>
                      ))}
                    </div>
                  </section>

                  {/* KPIs / Success Metrics */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-emerald-500 rounded-full"></div>
                      KPIs / Success Metrics
                    </h2>
                    <div className="bg-gray-800/40 rounded-lg p-6 border border-gray-700/40">
                      <ul className="list-disc list-inside space-y-2 text-gray-300 text-sm">
                        <li>Time to detect (TTD) and mean time to resolve (MTTR) incidents.</li>
                        <li>Incident rate and SLO compliance; error budget burn rate.</li>
                        <li>Alert precision/recall; pages per week per on-call and false-positive rate.</li>
                        <li>p95/p99 latency, error rate, and saturation vs baseline by service/route.</li>
                        <li>Model quality uptime (e.g., accuracy/Sx metrics above threshold) and drift rate.</li>
                      </ul>
                    </div>
                  </section>

                  {/* Token / Resource Usage */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-indigo-500 rounded-full"></div>
                      Token / Resource Usage
                    </h2>
                    <div className="bg-gray-800/40 rounded-lg p-6 border border-gray-700/40">
                      <ul className="list-disc list-inside space-y-2 text-gray-300 text-sm">
                        <li>Telemetry cost: control metrics label cardinality; set retention and downsampling policies.</li>
                        <li>Tracing overhead: sample rates and tail-based sampling; cap spans per request.</li>
                        <li>LLM evals: budget tokens for periodic canaries and spot checks; log minimal samples with redaction.</li>
                        <li>Compute: anomaly detectors/canary analysis run on batch windows; isolate from hot path.</li>
                      </ul>
                    </div>
                  </section>

                  {/* Best Use Cases */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-fuchsia-500 rounded-full"></div>
                      Best Use Cases
                    </h2>
                    <div className="bg-gray-800/40 rounded-lg p-6 border border-gray-700/40">
                      <ul className="list-disc list-inside space-y-2 text-gray-300 text-sm">
                        <li>Production model serving and agentic systems with external dependencies/tools.</li>
                        <li>Multi-tenant SaaS APIs and mission-critical customer-facing services.</li>
                        <li>Data/feature pipelines and retrieval layers backing RAG or personalization.</li>
                        <li>Progressive delivery (canary/blue-green) and high-change-rate teams.</li>
                      </ul>
                    </div>
                  </section>

                  {/* References & Further Reading */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-orange-500 rounded-full"></div>
                      References & Further Reading
                    </h2>
                    <div className="bg-gray-800/40 rounded-lg p-6 border border-gray-700/40 space-y-4">
                      <div>
                        <h3 className="text-white font-semibold mb-2 text-sm">Academic Papers</h3>
                        <ul className="list-disc list-inside space-y-1 text-gray-300 text-sm">
                          <li>Dean & Barroso – The Tail at Scale</li>
                          <li>Brendan Gregg – USE method; Tom Wilkie – RED method</li>
                        </ul>
                      </div>
                      <div>
                        <h3 className="text-white font-semibold mb-2 text-sm">Implementation Guides</h3>
                        <ul className="list-disc list-inside space-y-1 text-gray-300 text-sm">
                          <li>Google SRE Book – SLIs/SLOs, Golden Signals</li>
                          <li>Kubernetes – Liveness/Readiness/Startup Probes</li>
                          <li>OpenTelemetry – Traces, Metrics, Logs and semantic conventions</li>
                          <li>Prometheus – Alerting/Recording rules and label cardinality guidance</li>
                          <li>Argo Rollouts – Automated canary analysis</li>
                        </ul>
                      </div>
                      <div>
                        <h3 className="text-white font-semibold mb-2 text-sm">Tools & Libraries</h3>
                        <ul className="list-disc list-inside space-y-1 text-gray-300 text-sm">
                          <li>Prometheus, Alertmanager, Grafana (Loki/Tempo for logs/traces)</li>
                          <li>OpenTelemetry SDK/Collector; Jaeger/Tempo; OTLP exporters</li>
                          <li>PagerDuty/Opsgenie for on-call and incident response</li>
                          <li>Langfuse/Evidently/Arize Phoenix for LLM monitoring and evals</li>
                        </ul>
                      </div>
                      <div>
                        <h3 className="text-white font-semibold mb-2 text-sm">Community & Discussions</h3>
                        <ul className="list-disc list-inside space-y-1 text-gray-300 text-sm">
                          <li>SRE community posts and production incident write-ups</li>
                          <li>OpenTelemetry and Prometheus community docs/discussions</li>
                          <li>Kubernetes SIGs on reliability/observability</li>
                        </ul>
                      </div>
                    </div>
                  </section>
                </>
              ) : selectedTechnique.id === 'hierarchical-planning' ? (
                <>
                  {/* Core Mechanism (short conceptual overview) */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-blue-500 rounded-full"></div>
                      Core Mechanism (short conceptual overview)
                    </h2>
                    <div className="bg-gradient-to-br from-blue-500/10 to-purple-500/10 border border-blue-500/20 rounded-xl p-6">
                      <p className="text-gray-200 text-base leading-relaxed">
                        Hierarchical Planning structures a goal into a hierarchy of tasks and sub-tasks using domain-specific
                        decomposition methods. In Hierarchical Task Network (HTN) planning, abstract tasks are recursively
                        refined into primitive actions via methods, producing an executable plan that respects orderings,
                        causal preconditions, and resource constraints. In agent systems, this enables multi-level strategy →
                        tactics → actions, and can be augmented with LLMs for hypothesis generation while a symbolic planner
                        validates feasibility and constraints.
                      </p>
                    </div>
                  </section>

                  {/* Workflow / Steps */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-purple-500 rounded-full"></div>
                      Workflow / Steps
                    </h2>
                    <div className="bg-gradient-to-br from-purple-500/10 to-blue-500/10 border border-purple-500/20 rounded-xl p-6">
                      <ol className="list-decimal list-inside space-y-2 text-gray-200 text-sm">
                        <li>Define initial state, goal(s), and domain model: operators/actions, methods, resources, constraints.</li>
                        <li>Top-down decomposition: select an abstract task; choose a method; introduce ordered/partial sub-tasks.</li>
                        <li>Constraint propagation: maintain preconditions, effects, causal links, and temporal/resource bounds.</li>
                        <li>Refine until leaves are primitive actions; insert ordering edges and resolve dependencies.</li>
                        <li>Scheduling and resource assignment: allocate agents/resources; detect conflicts; adjust ordering.</li>
                        <li>Execute leaves; monitor outcomes and state; log provenance and metrics.</li>
                        <li>Replan/repair on failure or exogenous changes (method re-selection, plan repair, or partial rollback).</li>
                        <li>Iterate with feedback: update domain knowledge/methods; tighten constraints and heuristics.</li>
                      </ol>
                    </div>
                  </section>

                  {/* Best Practices */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-green-500 rounded-full"></div>
                      Best Practices
                    </h2>
                    <div className="grid gap-3">
                      {[
                        'Model domain knowledge explicitly: operators with precise preconditions/effects; methods with guard conditions.',
                        'Keep methods small, composable, and alternatives-rich; use heuristics to guide method choice.',
                        'Use partial-order planning when possible to enable safe parallelism and flexible scheduling.',
                        'Instrument constraint checking early; propagate resources/time windows to detect conflicts sooner.',
                        'Adopt plan repair policies (retry, method swap, skip, or rollback) and log failure traces.',
                        'Separate LLM creativity (hypothesis/method suggestion) from symbolic validation and execution.',
                        'Version domain models; run regression tests on canonical tasks; track plan optimality and stability.',
                        'Bound search depth/branching; cache subplans; reuse templates for recurring subtrees.',
                      ].map((tip) => (
                        <div key={tip} className="flex items-start gap-3 p-3 bg-gray-800/40 rounded-lg">
                          <Check className="w-5 h-5 text-green-400 mt-0.5 flex-shrink-0" />
                          <span className="text-gray-300 text-sm leading-relaxed">{tip}</span>
                        </div>
                      ))}
                    </div>
                  </section>

                  {/* When NOT to Use */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-red-500 rounded-full"></div>
                      When NOT to Use
                    </h2>
                    <div className="bg-gray-800/40 rounded-lg p-6 border border-gray-700/40">
                      <ul className="list-disc list-inside space-y-2 text-gray-300 text-sm">
                        <li>Trivial/single-step tasks where planning overhead adds latency with no quality gain.</li>
                        <li>Highly stochastic, adversarial, or poorly modeled domains where methods cannot encode reliable priors.</li>
                        <li>Hard real-time control loops with microsecond budgets; prefer reactive policies/behaviors.</li>
                        <li>Noisy LLM-only plans without downstream validation for safety/feasibility.</li>
                      </ul>
                    </div>
                  </section>

                  {/* Common Pitfalls */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-amber-500 rounded-full"></div>
                      Common Pitfalls
                    </h2>
                    <div className="bg-gray-800/40 rounded-lg p-6 border border-gray-700/40">
                      <ul className="list-disc list-inside space-y-2 text-gray-300 text-sm">
                        <li>Overly deep hierarchies with exploding branching factor and token/cost blowups.</li>
                        <li>Inconsistent state updates or missing preconditions/effects causing plan invalidation downstream.</li>
                        <li>Rigid total-order plans where partial orders would allow parallelism and robustness.</li>
                        <li>Letting LLM outputs bypass constraint checks, leading to unsafe or impossible actions.</li>
                      </ul>
                    </div>
                  </section>

                  {/* Key Features */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-cyan-500 rounded-full"></div>
                      Key Features
                    </h2>
                    <div className="grid grid-cols-1 md:grid-cols-2 gap-3">
                      {[
                        'Hierarchical Task Networks (HTN) with abstract → primitive refinement',
                        'Method libraries with guards and alternatives',
                        'Partial-order planning and safe parallel execution',
                        'Constraint, resource, and temporal reasoning',
                        'Plan repair and replanning under uncertainty',
                        'LLM-augmented method suggestion with symbolic validation',
                      ].map((feat) => (
                        <div key={feat} className="p-3 bg-gray-800/40 rounded-lg text-gray-300 text-sm border border-gray-700/40">
                          {feat}
                        </div>
                      ))}
                    </div>
                  </section>

                  {/* KPIs / Success Metrics */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-emerald-500 rounded-full"></div>
                      KPIs / Success Metrics
                    </h2>
                    <div className="bg-gray-800/40 rounded-lg p-6 border border-gray-700/40">
                      <ul className="list-disc list-inside space-y-2 text-gray-300 text-sm">
                        <li>Plan success rate; replan/repair rate; failure recovery time.</li>
                        <li>Plan cost/optimality (time, distance, energy) and makespan; resource utilization.</li>
                        <li>Branching factor and average decomposition depth; search time.</li>
                        <li>For LLM-augmented planning: tokens per plan, cost per successful execution, latency p50/p95.</li>
                      </ul>
                    </div>
                  </section>

                  {/* Token / Resource Usage */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-indigo-500 rounded-full"></div>
                      Token / Resource Usage
                    </h2>
                    <div className="bg-gray-800/40 rounded-lg p-6 border border-gray-700/40">
                      <ul className="list-disc list-inside space-y-2 text-gray-300 text-sm">
                        <li>Token budget scales with depth × breadth of decomposition; cache reusable subplans/templates.</li>
                        <li>Prefer structured prompts and short method names; avoid inlining large state—pass references.</li>
                        <li>Use symbolic planner for validation to avoid repeated LLM calls; cap turns per node and prune early.</li>
                        <li>Batch-check constraints; log traces compactly; stream execution results to reduce memory.</li>
                      </ul>
                    </div>
                  </section>

                  {/* Best Use Cases */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-fuchsia-500 rounded-full"></div>
                      Best Use Cases
                    </h2>
                    <div className="bg-gray-800/40 rounded-lg p-6 border border-gray-700/40">
                      <ul className="list-disc list-inside space-y-2 text-gray-300 text-sm">
                        <li>Complex project/program management with interdependent workstreams.</li>
                        <li>Robotics and embodied agents requiring long-horizon task decomposition (e.g., household or warehouse tasks).</li>
                        <li>Workflow orchestration and multi-agent coordination with resource/temporal constraints.</li>
                        <li>Product design, research roadmaps, and enterprise process automation.</li>
                      </ul>
                    </div>
                  </section>

                  {/* References & Further Reading */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-orange-500 rounded-full"></div>
                      References & Further Reading
                    </h2>
                    <div className="bg-gray-800/40 rounded-lg p-6 border border-gray-700/40 space-y-4">
                      <div>
                        <h3 className="text-white font-semibold mb-2 text-sm">Academic Papers</h3>
                        <ul className="list-disc list-inside space-y-1 text-gray-300 text-sm">
                          <li><a href="https://arxiv.org/abs/1403.7426" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">Georgievski & Aiello (2014): An Overview of Hierarchical Task Network Planning</a></li>
                          <li><a href="https://arxiv.org/abs/1911.05499" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">Höller et al. (2020): HDDL — A Language to Describe Hierarchical Planning Problems</a></li>
                          <li><a href="https://jair.org/index.php/jair/article/view/10309" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">Nau et al. (2003): SHOP2: An HTN Planning System (JAIR)</a></li>
                          <li><a href="https://arxiv.org/abs/2204.01691" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">SayCan (2022): Grounding language in robotic affordances</a></li>
                          <li><a href="https://arxiv.org/abs/2305.10601" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">Tree of Thoughts (2023): Deliberate problem solving with search</a></li>
                          <li><a href="https://arxiv.org/abs/2307.03893" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">A Survey on Planning with Large Language Models (2023/2024)</a></li>
                        </ul>
                      </div>
                      <div>
                        <h3 className="text-white font-semibold mb-2 text-sm">Implementation Guides</h3>
                        <ul className="list-disc list-inside space-y-1 text-gray-300 text-sm">
                          <li><a href="https://panda-hddl.github.io/" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">PANDA HTN Planner: Documentation</a></li>
                          <li><a href="https://github.com/pyhop/pyhop" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">PyHOP (Python HTN): Tutorial & Examples</a></li>
                          <li><a href="https://www.cs.umd.edu/projects/shop/" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">SHOP/SHOP2 Resources</a></li>
                          <li><a href="https://arxiv.org/abs/1911.05499" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">HDDL specification (problem/domain modeling)</a></li>
                        </ul>
                      </div>
                      <div>
                        <h3 className="text-white font-semibold mb-2 text-sm">Tools & Libraries</h3>
                        <ul className="list-disc list-inside space-y-1 text-gray-300 text-sm">
                          <li>PANDA (HTN Planner), SHOP2/JSHOP2, PyHOP</li>
                          <li>HDDL tooling and parsers; domain/model validators</li>
                          <li>Agent orchestration: <a href="https://langchain-ai.github.io/langgraph/" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">LangGraph</a> for planner–executor loops</li>
                        </ul>
                      </div>
                      <div>
                        <h3 className="text-white font-semibold mb-2 text-sm">Community & Discussions</h3>
                        <ul className="list-disc list-inside space-y-1 text-gray-300 text-sm">
                          <li><a href="https://icaps-conference.org/" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">ICAPS: International Conference on Automated Planning and Scheduling</a></li>
                          <li><a href="https://aaai.org/" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">AAAI planning tracks and workshops</a></li>
                          <li><a href="https://discuss.huggingface.co/" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">Hugging Face Forums</a> and <a href="https://www.reddit.com/r/MachineLearning/" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">r/MachineLearning</a></li>
                        </ul>
                      </div>
                    </div>
                  </section>
                </>
              ) : selectedTechnique.id === 'constraint-satisfaction' ? (
                <>
                  {/* Core Mechanism (short conceptual overview) */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-blue-500 rounded-full"></div>
                      Core Mechanism (short conceptual overview)
                    </h2>
                    <div className="bg-gradient-to-br from-blue-500/10 to-purple-500/10 border border-blue-500/20 rounded-xl p-6">
                      <p className="text-gray-200 text-base leading-relaxed">
                        Formalize the problem as variables with finite domains and constraints over them. Apply constraint
                        propagation (e.g., arc/path consistency) to prune domains, then search with heuristics such as
                        minimum-remaining-values and least-constraining-value with backtracking/forward checking. For
                        optimization, use CP-SAT/MILP/SMT encodings to optimize an objective under hard constraints while
                        scoring soft preferences.
                      </p>
                    </div>
                  </section>

                  {/* Workflow / Steps */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-purple-500 rounded-full"></div>
                      Workflow / Steps
                    </h2>
                    <div className="bg-gradient-to-br from-purple-500/10 to-blue-500/10 border border-purple-500/20 rounded-xl p-6">
                      <ol className="list-decimal list-inside space-y-2 text-gray-200 text-sm">
                        <li>Model: define variables, finite domains, hard vs soft constraints, objective (if any).</li>
                        <li>Preprocess: normalize units; add implied and symmetry-breaking constraints.</li>
                        <li>Propagate: enforce consistency (e.g., AC-3/MAC); reduce domains before search.</li>
                        <li>Search: backtracking with forward checking; MRV/degree for variable order; LCV for values.</li>
                        <li>Optimize: branch-and-bound or CP-SAT; warm starts; time/optimality-gap limits.</li>
                        <li>Validate/Explain: verify feasibility; inspect conflicts; export solutions.</li>
                        <li>Iterate: adjust weights, add constraints; incremental re-solve on changes.</li>
                      </ol>
                    </div>
                  </section>

                  {/* Best Practices */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-green-500 rounded-full"></div>
                      Best Practices
                    </h2>
                    <div className="grid gap-3">
                      {[
                        'Separate hard vs soft constraints with explicit weights/priorities.',
                        'Use strong global constraints (all-different, cumulative) and symmetry breaking.',
                        'Enable MAC/forward checking; MRV/degree and LCV ordering to reduce branching.',
                        'Prefer CP-SAT for large discrete problems; MILP for linear numeric; SMT for logical/bitvector.',
                        'Use time limits and optimality gaps; persist best-feasible solutions and solver logs.',
                        'Warm-start from historical solutions; use incremental solving when inputs change slightly.',
                        'Attach IDs/explanations to constraints for debuggability and user-facing justifications.',
                      ].map((tip) => (
                        <div key={tip} className="flex items-start gap-3 p-3 bg-gray-800/40 rounded-lg">
                          <Check className="w-5 h-5 text-green-400 mt-0.5 flex-shrink-0" />
                          <span className="text-gray-300 text-sm leading-relaxed">{tip}</span>
                        </div>
                      ))}
                    </div>
                  </section>

                  {/* When NOT to Use */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-red-500 rounded-full"></div>
                      When NOT to Use
                    </h2>
                    <div className="bg-gray-800/40 rounded-lg p-6 border border-gray-700/40">
                      <ul className="list-disc list-inside space-y-2 text-gray-300 text-sm">
                        <li>Purely creative generation where feasibility cannot be verified.</li>
                        <li>Rapidly changing/undefined constraints relative to solver turnaround.</li>
                        <li>Hard real-time microsecond control loops.</li>
                        <li>Strongly non-linear continuous dynamics without tractable encodings.</li>
                      </ul>
                    </div>
                  </section>

                  {/* Common Pitfalls */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-amber-500 rounded-full"></div>
                      Common Pitfalls
                    </h2>
                    <div className="bg-gray-800/40 rounded-lg p-6 border border-gray-700/40">
                      <ul className="list-disc list-inside space-y-2 text-gray-300 text-sm">
                        <li>Over-constraining (infeasible) without relaxations or soft penalties.</li>
                        <li>Missing key limits (capacity, temporal windows) yielding invalid solutions.</li>
                        <li>No heuristics/propagation → exponential search and timeouts.</li>
                        <li>Omitting symmetry breaking; bloated equivalent search spaces.</li>
                      </ul>
                    </div>
                  </section>

                  {/* Key Features */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-cyan-500 rounded-full"></div>
                      Key Features
                    </h2>
                    <div className="grid grid-cols-1 md:grid-cols-2 gap-3">
                      {[
                        'Finite-domain variables; global constraints (all-different, cumulative, table).',
                        'Propagation: arc/path consistency, MAC, forward checking.',
                        'Heuristics: MRV/degree and LCV; restarts, nogoods, backjumping.',
                        'Optimization: weighted soft constraints; branch-and-bound; CP-SAT.',
                        'Explanations/conflict sets for diagnoses and user guidance.',
                      ].map((feat) => (
                        <div key={feat} className="p-3 bg-gray-800/40 rounded-lg text-gray-300 text-sm border border-gray-700/40">
                          {feat}
                        </div>
                      ))}
                    </div>
                  </section>

                  {/* KPIs / Success Metrics */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-emerald-500 rounded-full"></div>
                      KPIs / Success Metrics
                    </h2>
                    <div className="bg-gray-800/40 rounded-lg p-6 border border-gray-700/40">
                      <ul className="list-disc list-inside space-y-2 text-gray-300 text-sm">
                        <li>Feasibility rate; hard-violation count (target 0); soft-violation score.</li>
                        <li>Objective value or optimality gap vs baseline; time-to-first-feasible; total solve time.</li>
                        <li>Nodes/backtracks; propagation efficiency; SLA adherence; resource utilization.</li>
                      </ul>
                    </div>
                  </section>

                  {/* Token / Resource Usage */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-indigo-500 rounded-full"></div>
                      Token / Resource Usage
                    </h2>
                    <div className="bg-gray-800/40 rounded-lg p-6 border border-gray-700/40">
                      <ul className="list-disc list-inside space-y-2 text-gray-300 text-sm">
                        <li>Tokens: modeling/explanations if using LLM; solving cost is CPU/RAM-heavy.</li>
                        <li>Set time limits/gaps; cache models; reuse warm starts and incremental states.</li>
                        <li>Track peak memory, conflicts, and propagation stats from solver logs.</li>
                      </ul>
                    </div>
                  </section>

                  {/* Best Use Cases */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-fuchsia-500 rounded-full"></div>
                      Best Use Cases
                    </h2>
                    <div className="bg-gray-800/40 rounded-lg p-6 border border-gray-700/40">
                      <ul className="list-disc list-inside space-y-2 text-gray-300 text-sm">
                        <li>Scheduling/rostering; resource and fleet routing; deployment planning.</li>
                        <li>Product/cloud/network configuration with compatibility/capacity rules.</li>
                        <li>Multi-agent coordination under compliance, locality, or safety constraints.</li>
                      </ul>
                    </div>
                  </section>

                  {/* References & Further Reading */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-orange-500 rounded-full"></div>
                      References & Further Reading
                    </h2>
                    <div className="bg-gray-800/40 rounded-lg p-6 border border-gray-700/40 space-y-4">
                      <div>
                        <h3 className="text-white font-semibold mb-2 text-sm">Academic Papers</h3>
                        <ul className="list-disc list-inside space-y-1 text-gray-300 text-sm">
                          <li>Dechter, R. Constraint Processing. Morgan Kaufmann. <a href="https://www.elsevier.com/books/constraint-processing/dechter/978-1-55860-890-0" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">Publisher</a></li>
                          <li>Rossi, van Beek, Walsh. Handbook of Constraint Programming. <a href="https://www.elsevier.com/books/handbook-of-constraint-programming/rossi/978-0-444-52726-4" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">Publisher</a></li>
                          <li>Mackworth, A.K. Arc consistency foundations. <a href="https://en.wikipedia.org/wiki/Arc_consistency" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">Overview</a></li>
                          <li>Minton, S. et al. Min-Conflicts heuristic for CSPs.</li>
                        </ul>
                      </div>
                      <div>
                        <h3 className="text-white font-semibold mb-2 text-sm">Implementation Guides</h3>
                        <ul className="list-disc list-inside space-y-1 text-gray-300 text-sm">
                          <li><a href="https://developers.google.com/optimization" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">Google OR-Tools CP-SAT guides</a></li>
                          <li><a href="https://www.minizinc.org/doc-latest/en/" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">MiniZinc Tutorial</a> and <a href="https://sofdem.github.io/gccat/" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">Global Constraint Catalogue</a></li>
                          <li><a href="https://choco-solver.org/" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">Choco-solver docs</a>, <a href="https://www.gecode.org/" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">Gecode</a></li>
                          <li><a href="https://github.com/Z3Prover/z3" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">Z3 SMT solver</a></li>
                        </ul>
                      </div>
                      <div>
                        <h3 className="text-white font-semibold mb-2 text-sm">Tools & Libraries</h3>
                        <ul className="list-disc list-inside space-y-1 text-gray-300 text-sm">
                          <li>OR-Tools (CP-SAT), MiniZinc, Choco, Gecode, OptaPlanner, python-constraint.</li>
                        </ul>
                      </div>
                      <div>
                        <h3 className="text-white font-semibold mb-2 text-sm">Community & Discussions</h3>
                        <ul className="list-disc list-inside space-y-1 text-gray-300 text-sm">
                          <li><a href="https://cp-conference.org/" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">Principles and Practice of Constraint Programming (CP)</a></li>
                          <li><a href="https://stackoverflow.com/questions/tagged/constraint-programming" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">Stack Overflow: constraint-programming</a> and <a href="https://groups.google.com/g/or-tools-discuss" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">OR-Tools Discuss</a></li>
                        </ul>
                      </div>
                    </div>
                  </section>
                </>
              ) : selectedTechnique.id === 'goal-decomposition' ? (
                <>
                  {/* Core Mechanism (short conceptual overview) */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-blue-500 rounded-full"></div>
                      Core Mechanism (short conceptual overview)
                    </h2>
                    <div className="bg-gradient-to-br from-blue-500/10 to-purple-500/10 border border-blue-500/20 rounded-xl p-6">
                      <p className="text-gray-200 text-base leading-relaxed">
                        Goal Decomposition turns an ambitious objective into SMART sub-goals and executable tasks, maps
                        dependencies as a DAG, prioritizes via impact/urgency, and executes iteratively with feedback.
                        In agent systems, LLMs propose sub-goals while symbolic schedulers/validators ensure feasibility,
                        safety, and resource alignment.
                      </p>
                    </div>
                  </section>

                  {/* Workflow / Steps */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-purple-500 rounded-full"></div>
                      Workflow / Steps
                    </h2>
                    <div className="bg-gradient-to-br from-purple-500/10 to-blue-500/10 border border-purple-500/20 rounded-xl p-6">
                      <ol className="list-decimal list-inside space-y-2 text-gray-200 text-sm">
                        <li>Define goal, scope, constraints, and success criteria (SMART, guardrails, deadlines).</li>
                        <li>Generate candidate sub-goals; cluster and deduplicate; validate coverage vs. goal.</li>
                        <li>Break sub-goals into tasks with owners, estimates, acceptance criteria, and risks.</li>
                        <li>Construct a dependency graph (DAG); identify critical path and parallelizable work.</li>
                        <li>Prioritize (impact × urgency × risk); stage into milestones with buffers.</li>
                        <li>Allocate resources; set SLOs; define stop conditions and rollback/repair policies.</li>
                        <li>Execute–measure–learn loop: monitor metrics; replan on deviations; retire or merge tasks.</li>
                        <li>Finalize and retrospect: compare outcomes to goals; capture templates for reuse.</li>
                      </ol>
                    </div>
                  </section>

                  {/* Best Practices */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-green-500 rounded-full"></div>
                      Best Practices
                    </h2>
                    <div className="grid gap-3">
                      {[
                        'Write goals as SMART with explicit out-of-scope items; keep decomposition tree shallow but complete.',
                        'Model dependencies explicitly; prefer partial orders to unlock safe parallelism.',
                        'Define acceptance criteria per task; add quality gates and automated checks where possible.',
                        'Bound recursion depth and branching factor; cap iterations and enforce stop criteria.',
                        'Use evidence-driven reprioritization (metrics, risks, blockers) at a fixed cadence.',
                        'Separate LLM ideation from symbolic validation/scheduling; log provenance and decisions.',
                        'Version goal trees; reuse proven subtrees/templates; cache recurring prompts/results.',
                        'Track risks/assumptions; maintain mitigation tasks on the same board as delivery tasks.',
                      ].map((tip) => (
                        <div key={tip} className="flex items-start gap-3 p-3 bg-gray-800/40 rounded-lg">
                          <Check className="w-5 h-5 text-green-400 mt-0.5 flex-shrink-0" />
                          <span className="text-gray-300 text-sm leading-relaxed">{tip}</span>
                        </div>
                      ))}
                    </div>
                  </section>

                  {/* When NOT to Use */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-red-500 rounded-full"></div>
                      When NOT to Use
                    </h2>
                    <div className="bg-gray-800/40 rounded-lg p-6 border border-gray-700/40">
                      <ul className="list-disc list-inside space-y-2 text-gray-300 text-sm">
                        <li>Trivial or one-step tasks where planning overhead adds latency without benefit.</li>
                        <li>Ill-posed or shifting goals without stakeholder alignment and measurable outcomes.</li>
                        <li>Hard real-time paths with microsecond budgets; use reactive policies instead.</li>
                        <li>Safety-critical actions without human review or formal verification.</li>
                      </ul>
                    </div>
                  </section>

                  {/* Common Pitfalls */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-amber-500 rounded-full"></div>
                      Common Pitfalls
                    </h2>
                    <div className="bg-gray-800/40 rounded-lg p-6 border border-gray-700/40">
                      <ul className="list-disc list-inside space-y-2 text-gray-300 text-sm">
                        <li>Over-decomposition causing cost/latency blowups with little quality gain.</li>
                        <li>Missing prerequisites or hidden coupling leading to plan invalidation downstream.</li>
                        <li>Unbounded iteration or lack of stop criteria; goal drift and scope creep.</li>
                        <li>Metrics misalignment (activity vs. outcome) obscuring true progress.</li>
                      </ul>
                    </div>
                  </section>

                  {/* Key Features */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-cyan-500 rounded-full"></div>
                      Key Features
                    </h2>
                    <div className="grid grid-cols-1 md:grid-cols-2 gap-3">
                      {[
                        'SMART sub-goals with owners and acceptance criteria',
                        'Dependency graph (DAG) with critical-path analysis',
                        'Parallelizable task groups and milestone staging',
                        'Risk register, buffers, and plan-repair policies',
                        'Progress tracking with status roll-ups and audits',
                        'LLM-assisted ideation + symbolic validation/scheduling',
                      ].map((feat) => (
                        <div key={feat} className="p-3 bg-gray-800/40 rounded-lg text-gray-300 text-sm border border-gray-700/40">
                          {feat}
                        </div>
                      ))}
                    </div>
                  </section>

                  {/* KPIs / Success Metrics */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-emerald-500 rounded-full"></div>
                      KPIs / Success Metrics
                    </h2>
                    <div className="bg-gray-800/40 rounded-lg p-6 border border-gray-700/40">
                      <ul className="list-disc list-inside space-y-2 text-gray-300 text-sm">
                        <li>Goal attainment rate; variance to target (time, cost, quality).</li>
                        <li>Critical-path length and on-time milestone rate; replan/repair frequency.</li>
                        <li>Sub-goal coverage and decomposition quality (rubric/peer review).</li>
                        <li>Throughput and lead time; blocked-time percentage.</li>
                        <li>For LLM-augmented planning: tokens per plan, cost per successful execution, latency p50/p95.</li>
                      </ul>
                    </div>
                  </section>

                  {/* Token / Resource Usage */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-indigo-500 rounded-full"></div>
                      Token / Resource Usage
                    </h2>
                    <div className="bg-gray-800/40 rounded-lg p-6 border border-gray-700/40">
                      <ul className="list-disc list-inside space-y-2 text-gray-300 text-sm">
                        <li>Token budget grows with depth × breadth; prune and cache reusable subtrees/templates.</li>
                        <li>Prefer concise structured prompts; pass state by reference; cap turns per node.</li>
                        <li>Batch validations; stream progress updates; use retrieval instead of re-sending large context.</li>
                      </ul>
                    </div>
                  </section>

                  {/* Best Use Cases */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-fuchsia-500 rounded-full"></div>
                      Best Use Cases
                    </h2>
                    <div className="bg-gray-800/40 rounded-lg p-6 border border-gray-700/40">
                      <ul className="list-disc list-inside space-y-2 text-gray-300 text-sm">
                        <li>Product launches, research roadmaps, and multi-workstream programs.</li>
                        <li>Incident response and reliability engineering with parallel tasking.</li>
                        <li>Operational excellence: process improvements with measurable targets.</li>
                        <li>Education/personal productivity: study plans, career plans, habit systems.</li>
                      </ul>
                    </div>
                  </section>

                  {/* References & Further Reading */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-orange-500 rounded-full"></div>
                      References & Further Reading
                    </h2>
                    <div className="bg-gray-800/40 rounded-lg p-6 border border-gray-700/40 space-y-4">
                      <div>
                        <h3 className="text-white font-semibold mb-2 text-sm">Academic Papers</h3>
                        <ul className="list-disc list-inside space-y-1 text-gray-300 text-sm">
                          <li><a href="https://arxiv.org/abs/1403.7426" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">HTN Planning Overview (2014)</a></li>
                          <li><a href="https://arxiv.org/abs/1911.05499" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">HDDL: Language for Hierarchical Planning (2020)</a></li>
                          <li><a href="https://arxiv.org/abs/2305.10601" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">Tree of Thoughts (2023)</a></li>
                          <li><a href="https://arxiv.org/abs/2212.14052" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">Chain-of-Thought &amp; Self-Consistency (2023)</a></li>
                          <li><a href="https://jair.org/index.php/jair/article/view/10309" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">SHOP2 HTN Planner (2003)</a></li>
                          <li><a href="https://www.jair.org/index.php/jair/article/view/1037" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">Options Framework for HRL (1999)</a></li>
                          <li><a href="https://arxiv.org/abs/2307.03893" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">Survey: Planning with LLMs (2023/2024)</a></li>
                        </ul>
                      </div>
                      <div>
                        <h3 className="text-white font-semibold mb-2 text-sm">Implementation Guides</h3>
                        <ul className="list-disc list-inside space-y-1 text-gray-300 text-sm">
                          <li><a href="https://langchain-ai.github.io/langgraph/" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">LangGraph: Planner–Executor Patterns</a></li>
                          <li><a href="https://docs.prefect.io/" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">Prefect: DAG-based Orchestration</a></li>
                          <li><a href="https://airflow.apache.org/docs/" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">Apache Airflow: DAG Scheduling</a></li>
                          <li><a href="https://panda-hddl.github.io/" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">PANDA HTN Planner</a></li>
                        </ul>
                      </div>
                      <div>
                        <h3 className="text-white font-semibold mb-2 text-sm">Tools &amp; Libraries</h3>
                        <ul className="list-disc list-inside space-y-1 text-gray-300 text-sm">
                          <li>LangChain, LlamaIndex, <a href="https://dspy.ai/" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">DSPy</a></li>
                          <li><a href="https://networkx.org/" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">NetworkX</a> for dependency DAGs; graph UIs (Mermaid, React Flow)</li>
                          <li>Planning toolkits: PANDA, SHOP2/JSHOP2, PyHOP</li>
                        </ul>
                      </div>
                      <div>
                        <h3 className="text-white font-semibold mb-2 text-sm">Community &amp; Discussions</h3>
                        <ul className="list-disc list-inside space-y-1 text-gray-300 text-sm">
                          <li><a href="https://icaps-conference.org/" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">ICAPS</a> and <a href="https://aaai.org/" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">AAAI</a> planning tracks</li>
                          <li><a href="https://discuss.huggingface.co/" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">Hugging Face Forums</a> and <a href="https://www.reddit.com/r/MachineLearning/" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">r/MachineLearning</a></li>
                          <li>Engineering blogs on program management, DAG orchestration, and LLM planning</li>
                        </ul>
                      </div>
                    </div>
                  </section>
                </>
              ) : selectedTechnique.id === 'scenario-planning' ? (
                <>
                  {/* Core Mechanism (short conceptual overview) */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-blue-500 rounded-full"></div>
                      Core Mechanism (short conceptual overview)
                    </h2>
                    <div className="bg-gradient-to-br from-blue-500/10 to-purple-500/10 border border-blue-500/20 rounded-xl p-6">
                      <p className="text-gray-200 text-base leading-relaxed">
                        Scenario Planning develops robust strategies for agentic AI systems by exploring multiple plausible futures under uncertainty. 
                        Teams identify key drivers and critical uncertainties, construct a small set of contrasting yet plausible scenarios, 
                        stress-test plans against each scenario, and define early-warning indicators and decision triggers for timely adaptation.
                      </p>
                    </div>
                  </section>

                  {/* Workflow / Steps */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-purple-500 rounded-full"></div>
                      Workflow / Steps
                    </h2>
                    <div className="bg-gradient-to-br from-purple-500/10 to-blue-500/10 border border-purple-500/20 rounded-xl p-6">
                      <ol className="list-decimal list-inside space-y-2 text-gray-200 text-sm">
                        <li>Frame the decision: clarify scope, planning horizon, stakeholders, constraints, and success criteria.</li>
                        <li>Environmental scanning: collect signals and trends; identify key drivers and critical uncertainties.</li>
                        <li>Scenario construction: craft 3–4 plausible, internally consistent scenarios covering the uncertainty space.</li>
                        <li>Implications analysis: derive risks, opportunities, and operational constraints for each scenario.</li>
                        <li>Strategy design: specify core strategies that work across scenarios and options specific to each.</li>
                        <li>Decision triggers: define leading indicators, thresholds, and playbooks for scenario shifts.</li>
                        <li>Pilot and portfolio: stage investments, build optionality, and run controlled experiments.</li>
                        <li>Monitoring and refresh: track indicators, review quarterly/biannually, and update scenarios/strategies.</li>
                      </ol>
                    </div>
                  </section>

                  {/* Best Practices */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-green-500 rounded-full"></div>
                      Best Practices
                    </h2>
                    <div className="grid gap-3">
                      {[
                        'Limit to 3–4 contrasting, plausible scenarios; avoid probability debates early; ensure internal consistency.',
                        'Represent heterogeneous perspectives (product, safety, legal, ops, finance, user research) to reduce bias.',
                        'Make scenarios decision-useful: quantify ranges, surface constraints, and tie to concrete actions.',
                        'Define a robust core strategy plus option-specific hedges; pre-approve playbooks for fast pivots.',
                        'Instrument early-warning indicators and automate ingestion where possible (dashboards, alerts).',
                        'Rehearse transitions with tabletop exercises; maintain a living scenario log and postmortems.',
                        'Integrate with AI risk frameworks (NIST AI RMF, ISO/IEC 23894) and regulatory watch (e.g., EU AI Act).',
                      ].map((tip) => (
                        <div key={tip} className="flex items-start gap-3 p-3 bg-gray-800/40 rounded-lg">
                          <Check className="w-5 h-5 text-green-400 mt-0.5 flex-shrink-0" />
                          <span className="text-gray-300 text-sm leading-relaxed">{tip}</span>
                        </div>
                      ))}
                    </div>
                  </section>

                  {/* When NOT to Use */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-red-500 rounded-full"></div>
                      When NOT to Use
                    </h2>
                    <div className="bg-gray-800/40 rounded-lg p-6 border border-gray-700/40">
                      <ul className="list-disc list-inside space-y-2 text-gray-300 text-sm">
                        <li>Immediate, tactical decisions with tight real-time SLOs where foresight workshops add latency.</li>
                        <li>Domains with low uncertainty and stable, well-understood dynamics where standard forecasting suffices.</li>
                        <li>Situations lacking the organizational will to act on outcomes (no appetite for portfolio options).</li>
                      </ul>
                    </div>
                  </section>

                  {/* Common Pitfalls */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-amber-500 rounded-full"></div>
                      Common Pitfalls
                    </h2>
                    <div className="bg-gray-800/40 rounded-lg p-6 border border-gray-700/40">
                      <ul className="list-disc list-inside space-y-2 text-gray-300 text-sm">
                        <li>Over-indexing on a “most likely” scenario and underinvesting in hedges and leading indicators.</li>
                        <li>Producing narrative-only scenarios without quantitative bounds, triggers, or executable playbooks.</li>
                        <li>Too many scenarios causing analysis paralysis; or scenarios that are not mutually distinct.</li>
                        <li>Failure to refresh scenarios as the environment and model capabilities change.</li>
                      </ul>
                    </div>
                  </section>

                  {/* Key Features */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-cyan-500 rounded-full"></div>
                      Key Features
                    </h2>
                    <div className="grid grid-cols-1 md:grid-cols-2 gap-3">
                      {[
                        'Plausible, internally consistent futures (3–4)',
                        'Explicit critical uncertainties and key drivers',
                        'Core strategy + scenario-specific options',
                        'Leading indicators and decision triggers',
                        'Playbooks for fast transitions',
                        'Portfolio and staged investments',
                      ].map((feat) => (
                        <div key={feat} className="p-3 bg-gray-800/40 rounded-lg text-gray-300 text-sm border border-gray-700/40">
                          {feat}
                        </div>
                      ))}
                    </div>
                  </section>

                  {/* KPIs / Success Metrics */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-emerald-500 rounded-full"></div>
                      KPIs / Success Metrics
                    </h2>
                    <div className="bg-gray-800/40 rounded-lg p-6 border border-gray-700/40">
                      <ul className="list-disc list-inside space-y-2 text-gray-300 text-sm">
                        <li>Decision readiness: coverage of critical uncertainties; playbook completeness and time-to-pivot.</li>
                        <li>Adaptation speed: detection-to-action latency when indicators cross thresholds.</li>
                        <li>Outcome resilience: performance variance across scenarios (cost, safety, compliance, quality).</li>
                        <li>Review cadence adherence and scenario refresh rate.</li>
                      </ul>
                    </div>
                  </section>

                  {/* Token / Resource Usage */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-indigo-500 rounded-full"></div>
                      Token / Resource Usage
                    </h2>
                    <div className="bg-gray-800/40 rounded-lg p-6 border border-gray-700/40">
                      <ul className="list-disc list-inside space-y-2 text-gray-300 text-sm">
                        <li>LLM budgeting: 3–4 scenarios × (drivers + uncertainties + narrative + implications + strategy) tokens.</li>
                        <li>Prefer structured prompts and tables; summarize background (10–20%) and reference sources by link/id.</li>
                        <li>Automate indicator monitoring to reduce manual analysis; cache canonical scenario templates.</li>
                        <li>Estimate cost per review cycle; cap depth of exploration per session and batch long reports.</li>
                      </ul>
                    </div>
                  </section>

                  {/* Best Use Cases */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-fuchsia-500 rounded-full"></div>
                      Best Use Cases
                    </h2>
                    <div className="bg-gray-800/40 rounded-lg p-6 border border-gray-700/40">
                      <ul className="list-disc list-inside space-y-2 text-gray-300 text-sm">
                        <li>AI product roadmaps under regulatory and capability uncertainty (e.g., EU AI Act timelines, model advances).</li>
                        <li>Risk management for safety-critical deployments (healthcare, finance, autonomous systems).</li>
                        <li>Go-to-market and pricing under macro uncertainty; data residency/compliance strategies.</li>
                        <li>Org capability building and investment portfolio planning for agentic platforms.</li>
                      </ul>
                    </div>
                  </section>

                  {/* References & Further Reading */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-orange-500 rounded-full"></div>
                      References & Further Reading
                    </h2>
                    <div className="bg-gray-800/40 rounded-lg p-6 border border-gray-700/40 space-y-4">
                      <div>
                        <h3 className="text-white font-semibold mb-2 text-sm">Academic Papers</h3>
                        <ul className="list-disc list-inside space-y-1 text-gray-300 text-sm">
                          <li><a href="https://sloanreview.mit.edu/article/scenario-planning-a-tool-for-strategic-thinking/" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">Schoemaker (1995): Scenario Planning — A Tool for Strategic Thinking</a></li>
                          <li><a href="https://hbr.org/1985/09/scenarios-uncharted-waters-ahead" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">Wack (1985): Scenarios — Uncharted Waters Ahead</a></li>
                          <li><a href="https://link.springer.com/article/10.1007/s00146-020-00982-1" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">Bradfield et al.: Evolution of scenario planning (review)</a></li>
                        </ul>
                      </div>
                      <div>
                        <h3 className="text-white font-semibold mb-2 text-sm">Implementation Guides</h3>
                        <ul className="list-disc list-inside space-y-1 text-gray-300 text-sm">
                          <li><a href="https://www.shell.com/energy-and-innovation/the-energy-future/scenarios.html" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">Shell Scenarios: Practitioner materials</a></li>
                          <li><a href="https://www.sbs.ox.ac.uk/research/oxford-scenario-planning-approach" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">Oxford Scenario Planning Approach</a></li>
                          <li><a href="https://www.nist.gov/itl/ai-risk-management-framework" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">NIST AI Risk Management Framework</a></li>
                          <li><a href="https://www.iso.org/standard/77304.html" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">ISO/IEC 23894:2023 — AI Risk Management</a></li>
                        </ul>
                      </div>
                      <div>
                        <h3 className="text-white font-semibold mb-2 text-sm">Tools & Libraries</h3>
                        <ul className="list-disc list-inside space-y-1 text-gray-300 text-sm">
                          <li><a href="https://emaworkbench.readthedocs.io/" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">EMA Workbench (Exploratory Modeling & Analysis)</a></li>
                          <li><a href="https://salib.readthedocs.io/" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">SALib (Sensitivity Analysis)</a> / <a href="https://mesa.readthedocs.io/" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">Mesa (Agent‑Based Modeling)</a></li>
                          <li><a href="https://vensim.com/" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">Vensim / System Dynamics</a> and <a href="https://www.anylogic.com/" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">AnyLogic</a> for simulation</li>
                          <li><a href="https://langchain-ai.github.io/langgraph/" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">LangGraph</a> and orchestration frameworks for planner–executor loops</li>
                        </ul>
                      </div>
                      <div>
                        <h3 className="text-white font-semibold mb-2 text-sm">Community & Discussions</h3>
                        <ul className="list-disc list-inside space-y-1 text-gray-300 text-sm">
                          <li><a href="https://www.apf.org/" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">Association of Professional Futurists (APF)</a> and <a href="https://www.oecd.ai/en" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">OECD.AI</a></li>
                          <li><a href="https://www.weforum.org/centre-for-the-fourth-industrial-revolution/" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">WEF C4IR</a> policy/foresight resources</li>
                          <li><a href="https://discuss.huggingface.co/" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">Hugging Face Forums</a> (AI governance and deployment threads)</li>
                        </ul>
                      </div>
                    </div>
                  </section>
                </>
              ) : selectedTechnique.id === 'memory-consolidation' ? (
                <>
                  {/* Core Mechanism (short conceptual overview) */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-blue-500 rounded-full"></div>
                      Core Mechanism (short conceptual overview)
                    </h2>
                    <div className="bg-gradient-to-br from-blue-500/10 to-purple-500/10 border border-blue-500/20 rounded-xl p-6">
                      <p className="text-gray-200 text-base leading-relaxed">
                        Consolidates episodic interaction logs into compact, structured long‑term memory via semantic pattern extraction, redundancy removal, importance
                        weighting, schema/graph formation, and integration with provenance. Optionally uses scheduled replay to reinforce salient knowledge while controlling
                        drift and token/cost budgets.
                      </p>
                    </div>
                  </section>

                  {/* Workflow / Steps */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-purple-500 rounded-full"></div>
                      Workflow / Steps
                    </h2>
                    <div className="bg-gradient-to-br from-purple-500/10 to-blue-500/10 border border-purple-500/20 rounded-xl p-6">
                      <ol className="list-decimal list-inside space-y-2 text-gray-200 text-sm">
                        <li>Collect raw memories (events, messages, metadata) with timestamps and sources.</li>
                        <li>Pattern extraction: cluster by semantic similarity; detect topics/tasks/entities.</li>
                        <li>Redundancy removal: merge near‑duplicates and roll up repetitive details.</li>
                        <li>Importance weighting: score by recency, frequency, utility, user pinning, and impact.</li>
                        <li>Schema formation: summarize into facts, FAQs, graphs, or notebooks with citations.</li>
                        <li>Integration: index into vector/graph stores with retrieval hints and access policies.</li>
                        <li>Validation & feedback: evaluate retrieval quality, drift, and safety; schedule re‑consolidation.</li>
                      </ol>
                    </div>
                  </section>

                  {/* Best Practices */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-green-500 rounded-full"></div>
                      Best Practices
                    </h2>
                    <div className="grid gap-3">
                      {[
                        'Batch on a cadence (e.g., hourly/nightly) with strict token/cost budgets and backoff.',
                        'Combine abstractive summaries with a small set of representative exemplars per theme.',
                        'Deduplicate with semantic similarity thresholds (e.g., cosine ≥ 0.85) plus MinHash/SimHash for robustness.',
                        'Preserve provenance: timestamps, authors, source ids, and links; never drop citations in summaries.',
                        'Version consolidated artifacts; keep reversible edits and a quarantine for risky merges.',
                        'Guardrails: PII/PHI redaction, compliance tags, and access controls on read/write paths.',
                        'Continuously evaluate: retrieval precision/recall and citation correctness on a fixed benchmark.',
                        'Mitigate embedding drift with periodic re‑embedding windows and stable model/version pinning.',
                      ].map((tip) => (
                        <div key={tip} className="flex items-start gap-3 p-3 bg-gray-800/40 rounded-lg">
                          <Check className="w-5 h-5 text-green-400 mt-0.5 flex-shrink-0" />
                          <span className="text-gray-300 text-sm leading-relaxed">{tip}</span>
                        </div>
                      ))}
                    </div>
                  </section>

                  {/* When NOT to Use */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-red-500 rounded-full"></div>
                      When NOT to Use
                    </h2>
                    <div className="bg-gray-800/40 rounded-lg p-6 border border-gray-700/40">
                      <ul className="list-disc list-inside space-y-2 text-gray-300 text-sm">
                        <li>Short‑lived tasks where session context suffices and long‑term storage adds cost/risk.</li>
                        <li>Highly volatile data where aggressive summarization risks staleness or harmful drift.</li>
                        <li>Strict compliance regimes that forbid retention beyond session without explicit consent.</li>
                        <li>Tight latency budgets that cannot absorb consolidation/retrieval overhead.</li>
                      </ul>
                    </div>
                  </section>

                  {/* Common Pitfalls */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-amber-500 rounded-full"></div>
                      Common Pitfalls
                    </h2>
                    <div className="bg-gray-800/40 rounded-lg p-6 border border-gray-700/40">
                      <ul className="list-disc list-inside space-y-2 text-gray-300 text-sm">
                        <li>Over‑compression that discards edge cases and decision rationales (catastrophic forgetting).</li>
                        <li>Feedback loops: model summarizes its own prior summaries, compounding bias.</li>
                        <li>Embedding/model drift causing retrieval mismatches across time.</li>
                        <li>Unbounded growth of stores → rising cost, slower retrieval, and token blow‑ups.</li>
                        <li>Missing provenance and access control → unverifiable claims or data leaks.</li>
                      </ul>
                    </div>
                  </section>

                  {/* Key Features */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-cyan-500 rounded-full"></div>
                      Key Features
                    </h2>
                    <div className="grid grid-cols-1 md:grid-cols-2 gap-3">
                      {[
                        'Semantic clustering and topic detection',
                        'Deduplication and merge with conflict handling',
                        'Importance scoring (recency/frequency/utility/user pins)',
                        'Schema/graph formation with citations and provenance',
                        'Replay scheduling and freshness management',
                        'Policy & safety filters (PII redaction, retention windows)',
                        'Versioning, rollback, and audit trails',
                        'Hybrid retrieval over vectors + symbols/graphs',
                      ].map((feat) => (
                        <div key={feat} className="p-3 bg-gray-800/40 rounded-lg text-gray-300 text-sm border border-gray-700/40">
                          {feat}
                        </div>
                      ))}
                    </div>
                  </section>

                  {/* KPIs / Success Metrics */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-emerald-500 rounded-full"></div>
                      KPIs / Success Metrics
                    </h2>
                    <div className="bg-gray-800/40 rounded-lg p-6 border border-gray-700/40">
                      <ul className="list-disc list-inside space-y-2 text-gray-300 text-sm">
                        <li>Compression ratio vs. baseline corpus; storage growth rate.</li>
                        <li>Retrieval precision/recall and citation correctness on a fixed benchmark.</li>
                        <li>Answer quality uplift and hallucination reduction vs. no‑memory baseline.</li>
                        <li>Freshness lag (time from event → consolidated availability).</li>
                        <li>Latency p50/p95 for retrieval‑augmented answers; cost per consolidated token.</li>
                      </ul>
                    </div>
                  </section>

                  {/* Token / Resource Usage */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-indigo-500 rounded-full"></div>
                      Token / Resource Usage
                    </h2>
                    <div className="bg-gray-800/40 rounded-lg p-6 border border-gray-700/40">
                      <ul className="list-disc list-inside space-y-2 text-gray-300 text-sm">
                        <li>Summarization passes: prompt + chunk tokens × batches; prefer map‑reduce and cache partials.</li>
                        <li>Embeddings: cost per item × re‑embed cadence; batch requests and pin model/version.</li>
                        <li>Storage: vector/graph DB footprint + metadata; enforce TTLs and retention classes.</li>
                        <li>Scheduling: run during off‑peak; cap concurrent jobs to protect SLOs.</li>
                      </ul>
                    </div>
                  </section>

                  {/* Best Use Cases */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-fuchsia-500 rounded-full"></div>
                      Best Use Cases
                    </h2>
                    <div className="bg-gray-800/40 rounded-lg p-6 border border-gray-700/40">
                      <ul className="list-disc list-inside space-y-2 text-gray-300 text-sm">
                        <li>Personal/enterprise assistants that build durable knowledge over weeks to months.</li>
                        <li>Customer support, CRM, and success teams accumulating case wisdom and SOPs.</li>
                        <li>Research and analyst workspaces consolidating literature notes and findings.</li>
                        <li>Education/tutoring systems tracking learner progress, misconceptions, and goals.</li>
                      </ul>
                    </div>
                  </section>

                  {/* References & Further Reading */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-orange-500 rounded-full"></div>
                      References & Further Reading
                    </h2>
                    <div className="bg-gray-800/40 rounded-lg p-6 border border-gray-700/40 space-y-4">
                      <div>
                        <h3 className="text-white font-semibold mb-2 text-sm">Academic Papers</h3>
                        <ul className="list-disc list-inside space-y-1 text-gray-300 text-sm">
                          <li><a href="https://www.nature.com/articles/nrn1607" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">Frankland & Bontempi. The organization of recent and remote memories (2005)</a></li>
                          <li><a href="https://www.nature.com/articles/nrn2762" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">Diekelmann & Born. The memory function of sleep (2010)</a></li>
                          <li><a href="https://arxiv.org/abs/2310.08580" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">MemGPT: Towards LLMs with Long‑Term Memory (2023)</a></li>
                          <li><a href="https://pmc.ncbi.nlm.nih.gov/articles/PMC6972576/" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">Systems consolidation and cortico‑hippocampal interactions (review)</a></li>
                        </ul>
                      </div>
                      <div>
                        <h3 className="text-white font-semibold mb-2 text-sm">Implementation Guides</h3>
                        <ul className="list-disc list-inside space-y-1 text-gray-300 text-sm">
                          <li><a href="https://python.langchain.com/docs/modules/memory/" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">LangChain: Memory Modules</a></li>
                          <li><a href="https://langchain-ai.github.io/langgraph/" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">LangGraph: Stateful Agents & Memory</a></li>
                          <li><a href="https://docs.llamaindex.ai/en/stable/examples/agent/agent_memory/" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">LlamaIndex: Agent Memory</a></li>
                          <li><a href="https://platform.openai.com/docs/guides/embeddings" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">Embeddings: Retrieval Foundations</a></li>
                        </ul>
                      </div>
                      <div>
                        <h3 className="text-white font-semibold mb-2 text-sm">Tools & Libraries</h3>
                        <ul className="list-disc list-inside space-y-1 text-gray-300 text-sm">
                          <li><a href="https://weaviate.io/developers/weaviate" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">Weaviate</a> / <a href="https://milvus.io/docs/overview.md" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">Milvus</a> / <a href="https://www.pinecone.io/" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">Pinecone</a> (vector stores)</li>
                          <li><a href="https://neo4j.com/docs/" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">Neo4j</a> (knowledge graphs) and <a href="https://qdrant.tech/documentation/" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">Qdrant</a></li>
                          <li>Similarity tooling: MinHash/SimHash libraries; semantic clustering utilities</li>
                        </ul>
                      </div>
                      <div>
                        <h3 className="text-white font-semibold mb-2 text-sm">Community & Discussions</h3>
                        <ul className="list-disc list-inside space-y-1 text-gray-300 text-sm">
                          <li><a href="https://github.com/cpacker/MemGPT" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">MemGPT (GitHub)</a></li>
                          <li><a href="https://discuss.huggingface.co/" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">Hugging Face Forums</a></li>
                          <li><a href="https://www.reddit.com/r/MachineLearning/" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">r/MachineLearning</a></li>
                        </ul>
                      </div>
                    </div>
                </section>
                </>
              ) : selectedTechnique.id === 'working-memory-patterns' ? (
                <>
                  {/* Core Mechanism (short conceptual overview) */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-blue-500 rounded-full"></div>
                      Core Mechanism (short conceptual overview)
                    </h2>
                    <div className="bg-gradient-to-br from-amber-500/10 to-orange-500/10 border border-amber-500/20 rounded-xl p-6">
                      <p className="text-gray-200 text-base leading-relaxed">
                        Short-term, limited-capacity active memory for ongoing cognition. Information is selectively attended, admitted under a strict capacity cap (≈4±1 items per Cowan; historically 7±2), actively maintained via attention/rehearsal, protected from interference, and rapidly updated or replaced as task goals evolve. Canonical components include a central executive with modality-specific stores (phonological loop, visuospatial sketchpad) and an episodic buffer for multimodal binding.
                      </p>
                    </div>
                  </section>

                  {/* Workflow / Steps */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-purple-500 rounded-full"></div>
                      Workflow / Steps
                    </h2>
                    <div className="bg-gradient-to-br from-purple-500/10 to-blue-500/10 border border-purple-500/20 rounded-xl p-6">
                      <ol className="list-decimal list-inside space-y-2 text-gray-200 text-sm">
                        <li>Attend & encode: filter inputs; extract task-relevant items.</li>
                        <li>Admit under capacity: apply priority scoring and a strict cap.</li>
                        <li>Maintain: rehearsal/refresh cycles; bind items to context pointers.</li>
                        <li>Update/replace: evict via policy (priority, recency, utility) when new items arrive.</li>
                        <li>Protect: suppress interference; separate modalities to reduce cross-talk.</li>
                        <li>Offload: compress or consolidate to long-term memory/external store when appropriate.</li>
                        <li>Monitor: track load, decay risk, and task progress; adapt cadence and policies.</li>
                      </ol>
                    </div>
                  </section>

                  {/* Best Practices */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-green-500 rounded-full"></div>
                      Best Practices
                    </h2>
                    <div className="grid gap-3">
                      {[
                        'Enforce a small, explicit capacity (default 4–7 items) with deterministic eviction.',
                        'Prioritize by goal relevance, temporal recency, and uncertainty; store pointers not payloads when possible.',
                        'Use chunking to aggregate related facts into a single unit to save slots.',
                        'Schedule refresh/rehearsal for critical items; decay or demote stale items.',
                        'Isolate modalities (verbal vs. visuospatial) and namespaces to limit interference.',
                        'Continuously summarize/offload scratch state to durable memory to prevent window bloat.',
                        'Instrument load, churn, and hit rates; adjust policies per task phase.',
                      ].map((tip) => (
                        <div key={tip} className="flex items-start gap-3 p-3 bg-gray-800/40 rounded-lg">
                          <Check className="w-5 h-5 text-green-400 mt-0.5 flex-shrink-0" />
                          <span className="text-gray-300 text-sm leading-relaxed">{tip}</span>
                        </div>
                      ))}
                    </div>
                  </section>

                  {/* When NOT to Use */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-red-500 rounded-full"></div>
                      When NOT to Use
                    </h2>
                    <div className="bg-gray-800/40 rounded-lg p-6 border border-gray-700/40">
                      <ul className="list-disc list-inside space-y-2 text-gray-300 text-sm">
                        <li>Long-term retention or exact archival; use long-term memory or retrieval systems instead.</li>
                        <li>Contexts that exceed capacity where lossy compression would harm correctness.</li>
                        <li>High-throughput pipelines where constant refreshing adds unacceptable latency/cost.</li>
                      </ul>
                    </div>
                  </section>

                  {/* Common Pitfalls */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-amber-500 rounded-full"></div>
                      Common Pitfalls
                    </h2>
                    <div className="bg-gray-800/40 rounded-lg p-6 border border-gray-700/40">
                      <ul className="list-disc list-inside space-y-2 text-gray-300 text-sm">
                        <li>Overfilling the window without an eviction policy → thrash and interference.</li>
                        <li>Not chunking related items; wasting slots on granular facts.</li>
                        <li>Mixing modalities in one buffer causing cross-modal interference.</li>
                        <li>Failing to offload; excessive token bloat and degraded reasoning focus.</li>
                      </ul>
                    </div>
                  </section>

                  {/* Key Features */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-cyan-500 rounded-full"></div>
                      Key Features
                    </h2>
                    <div className="grid grid-cols-1 md:grid-cols-2 gap-3">
                      {[
                        'Limited capacity with explicit cap',
                        'Active maintenance via attention/rehearsal',
                        'Priority- and goal-driven retention',
                        'Rapid context updating and replacement',
                        'Interference suppression and separation',
                        'Context binding (episodic buffer) across modalities',
                      ].map((feat) => (
                        <div key={feat} className="p-3 bg-gray-800/40 rounded-lg text-gray-300 text-sm border border-gray-700/40">
                          {feat}
                        </div>
                      ))}
                    </div>
                  </section>

                  {/* KPIs / Success Metrics */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-emerald-500 rounded-full"></div>
                      KPIs / Success Metrics
                    </h2>
                    <div className="bg-gray-800/40 rounded-lg p-6 border border-gray-700/40">
                      <ul className="list-disc list-inside space-y-2 text-gray-300 text-sm">
                        <li>Working-memory hit rate (needed items present when referenced).</li>
                        <li>Churn/eviction rate and average residency time per item.</li>
                        <li>Task accuracy/quality under multitask or context-switch load.</li>
                        <li>Latency overhead from refresh/updating; cost per turn.</li>
                      </ul>
                    </div>
                  </section>

                  {/* Token / Resource Usage */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-indigo-500 rounded-full"></div>
                      Token / Resource Usage
                    </h2>
                    <div className="bg-gray-800/40 rounded-lg p-6 border border-gray-700/40">
                      <ul className="list-disc list-inside space-y-2 text-gray-300 text-sm">
                        <li>Prompt tokens: slots consumed by active items and scratch state.</li>
                        <li>Compression: summarization ratio and information retention when offloading.</li>
                        <li>Refresh/update cadence vs. latency/cost trade-offs; cap turns per step.</li>
                        <li>External memory I/O (vector store or DB) when offloading pointers.</li>
                      </ul>
                    </div>
                  </section>

                  {/* Best Use Cases */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-fuchsia-500 rounded-full"></div>
                      Best Use Cases
                    </h2>
                    <div className="bg-gray-800/40 rounded-lg p-6 border border-gray-700/40">
                      <ul className="list-disc list-inside space-y-2 text-gray-300 text-sm">
                        <li>Multi-step reasoning and planning with evolving sub-goals.</li>
                        <li>Real-time assistants that must track short-lived facts and instructions.</li>
                        <li>Context switching and juggling small sets of task-relevant items.</li>
                        <li>Interactive UIs with transient state and focus-of-attention control.</li>
                      </ul>
                    </div>
                  </section>

                  {/* References & Further Reading */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-orange-500 rounded-full"></div>
                      References & Further Reading
                    </h2>
                    <div className="bg-gray-800/40 rounded-lg p-6 border border-gray-700/40 space-y-4">
                      <div>
                        <h3 className="text-white font-semibold mb-2 text-sm">Academic Papers</h3>
                        <ul className="list-disc list-inside space-y-1 text-gray-300 text-sm">
                          <li><a href="https://www.ncbi.nlm.nih.gov/pmc/articles/PMC9832367/" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">Working Memory Is Complex and Dynamic, Like Your Thoughts (2023)</a></li>
                          <li><a href="https://www.ncbi.nlm.nih.gov/pmc/articles/PMC8112390/" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">Working Memory 2.0 (2021)</a></li>
                          <li><a href="https://pubmed.ncbi.nlm.nih.gov/11058819/" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">Baddeley (2000): The episodic buffer in working memory</a></li>
                          <li><a href="https://www.cambridge.org/core/journals/behavioral-and-brain-sciences/article/magical-number-4-in-shortterm-memory/" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">Cowan (2001): The magical number 4 in short-term memory</a></li>
                        </ul>
                      </div>
                      <div>
                        <h3 className="text-white font-semibold mb-2 text-sm">Implementation Guides</h3>
                        <ul className="list-disc list-inside space-y-1 text-gray-300 text-sm">
                          <li><a href="https://www.w3.org/WAI/WCAG2/supplemental/patterns/o6p05-low-cognition/" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">W3C: Do not rely on users’ memorizing information</a></li>
                          <li><a href="https://cookbook.openai.com/examples/how_to_handle_conversation_history" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">OpenAI Cookbook: Conversation memory patterns</a></li>
                          <li><a href="https://python.langchain.com/docs/modules/memory/" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">LangChain: Memory modules</a></li>
                          <li><a href="https://docs.llamaindex.ai/en/stable/examples/agent/memory/" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">LlamaIndex: Agent memory</a></li>
                        </ul>
                      </div>
                      <div>
                        <h3 className="text-white font-semibold mb-2 text-sm">Tools & Libraries</h3>
                        <ul className="list-disc list-inside space-y-1 text-gray-300 text-sm">
                          <li>LangChain ConversationalBufferMemory / SummaryMemory</li>
                          <li>LlamaIndex conversation memory and state management</li>
                          <li>Vector stores for offloading pointers (FAISS, Milvus, PGVector)</li>
                        </ul>
                      </div>
                      <div>
                        <h3 className="text-white font-semibold mb-2 text-sm">Community & Discussions</h3>
                        <ul className="list-disc list-inside space-y-1 text-gray-300 text-sm">
                          <li><a href="https://www.nimh.nih.gov/research/research-funded-by-nimh/rdoc/working-memory-workshop-proceedings" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">NIMH: Working Memory Workshop Proceedings</a></li>
                        </ul>
                      </div>
                    </div>
                  </section>
                </>
              ) : selectedTechnique.id === 'multi-modal-cognition' ? (
                <>
                  {/* Core Mechanism (short conceptual overview) */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-blue-500 rounded-full"></div>
                      Core Mechanism (short conceptual overview)
                    </h2>
                    <div className="bg-gradient-to-br from-blue-500/10 to-purple-500/10 border border-blue-500/20 rounded-xl p-6">
                      <p className="text-gray-200 text-base leading-relaxed">
                        Process text, images, audio, video, and structured data with modality-specific encoders, align them in a
                        shared semantic space, and fuse using cross-modal attention and uncertainty-aware weighting. A multimodal
                        LLM/VLM performs reasoning and generation grounded in fused evidence with provenance and modality
                        attributions.
                      </p>
                    </div>
                  </section>

                  {/* Workflow / Steps */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-purple-500 rounded-full"></div>
                      Workflow / Steps
                    </h2>
                    <div className="bg-gradient-to-br from-purple-500/10 to-blue-500/10 border border-purple-500/20 rounded-xl p-6">
                      <ol className="list-decimal list-inside space-y-2 text-gray-200 text-sm">
                        <li>Ingest: collect multimodal inputs with metadata (timestamps, source, ACLs).</li>
                        <li>Preprocess: OCR for docs, ASR for audio, frame sampling/scene cuts for video, normalization.</li>
                        <li>Encode: modality-specific encoders (e.g., ViT/CLIP/LLaVA for vision; Whisper-style for audio; text/token encoders; tabular encoders).</li>
                        <li>Align: project into a shared embedding space; synchronize temporally via timestamps and segment IDs.</li>
                        <li>Fuse: early/late/hybrid fusion with cross-modal attention; weight by quality/uncertainty.</li>
                        <li>Reason/Act: use a multimodal LLM/VLM to analyze, retrieve, tool-call, and generate grounded outputs.</li>
                        <li>Verify: run lightweight faithfulness/groundedness checks; attach citations, boxes, and timecodes.</li>
                        <li>Monitor: track accuracy, hallucinations, latency, and cost; trigger fallbacks or human review.</li>
                      </ol>
                    </div>
                  </section>

                  {/* Best Practices */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-green-500 rounded-full"></div>
                      Best Practices
                    </h2>
                    <div className="grid gap-3">
                      {[
                        'Use hybrid retrieval (lexical + per‑modality vectors) with late fusion; cap top_k per modality before rerank.',
                        'Calibrate modality weights; down‑weight low‑quality OCR/ASR and detect missing/corrupted modalities.',
                        'Prefer compact features, captions, and cropped regions over raw pixels in prompts; include provenance.',
                        'Maintain temporal alignment for audio/video via timestamps; store modality confidence and uncertainty.',
                        'Cache embeddings, OCR/ASR, and captions; batch media encoding; quantize encoders to control latency/cost.',
                        'Enforce safety/PII/PHI policies for images/audio; log consent and redaction; cite sources by default.',
                        'Evaluate on multimodal benchmarks and with human review; track hallucination and evidence‑link quality.'
                      ].map((tip) => (
                        <div key={tip} className="flex items-start gap-3 p-3 bg-gray-800/40 rounded-lg">
                          <Check className="w-5 h-5 text-green-400 mt-0.5 flex-shrink-0" />
                          <span className="text-gray-300 text-sm leading-relaxed">{tip}</span>
                        </div>
                      ))}
                    </div>
                  </section>

                  {/* When NOT to Use */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-red-500 rounded-full"></div>
                      When NOT to Use
                    </h2>
                    <div className="bg-gray-800/40 rounded-lg p-6 border border-gray-700/40">
                      <ul className="list-disc list-inside space-y-2 text-gray-300 text-sm">
                        <li>Unimodal tasks already meet quality/latency/cost targets.</li>
                        <li>Strict SLAs or budgets where vision/audio inference and preprocessing are prohibitive.</li>
                        <li>Privacy/compliance regimes that preclude media processing without robust governance and oversight.</li>
                        <li>Domains with unreliable OCR/ASR or negligible value from secondary modalities.</li>
                      </ul>
                    </div>
                  </section>

                  {/* Common Pitfalls */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-amber-500 rounded-full"></div>
                      Common Pitfalls
                    </h2>
                    <div className="bg-gray-800/40 rounded-lg p-6 border border-gray-700/40">
                      <ul className="list-disc list-inside space-y-2 text-gray-300 text-sm">
                        <li>Modality collapse: model relies on text priors and ignores harder modalities.</li>
                        <li>Temporal misalignment between audio/video and text causes incorrect grounding.</li>
                        <li>Low-quality OCR/ASR contaminates retrieval and prompts → hallucinations.</li>
                        <li>Token/cost blowups from inlining raw media metadata instead of concise features/references.</li>
                        <li>Improper score fusion across modalities without calibration and de-duplication.</li>
                      </ul>
                    </div>
                  </section>

                  {/* Key Features */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-cyan-500 rounded-full"></div>
                      Key Features
                    </h2>
                    <div className="grid grid-cols-1 md:grid-cols-2 gap-3">
                      {[
                        'Cross‑modal alignment in a shared representation space',
                        'Hybrid early/late fusion with attention and learned weights',
                        'Temporal synchronization and modality provenance tracking',
                        'Uncertainty‑aware reasoning and calibrated score fusion',
                        'Evidence linking with citations, bounding boxes, and timecodes',
                        'Fallbacks/abstentions when modalities are missing or low‑confidence'
                      ].map((feat) => (
                        <div key={feat} className="p-3 bg-gray-800/40 rounded-lg text-gray-300 text-sm border border-gray-700/40">
                          {feat}
                        </div>
                      ))}
                    </div>
                  </section>

                  {/* KPIs / Success Metrics */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-emerald-500 rounded-full"></div>
                      KPIs / Success Metrics
                    </h2>
                    <div className="bg-gray-800/40 rounded-lg p-6 border border-gray-700/40">
                      <ul className="list-disc list-inside space-y-2 text-gray-300 text-sm">
                        <li>Task accuracy on multimodal benchmarks (e.g., VQA/TextVQA, ChartQA, DocVQA, ScienceQA‑IM, MMMU).</li>
                        <li>Retrieval precision/recall by modality; citation coverage and correctness.</li>
                        <li>Faithfulness/hallucination rate and evidence‑link quality (LLM/judge + human spot audits).</li>
                        <li>Latency p50/p95 and cost per request; GPU utilization and throughput by stage.</li>
                        <li>Calibration metrics (e.g., ECE) and fallback/abstention rates.</li>
                      </ul>
                    </div>
                  </section>

                  {/* Token / Resource Usage */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-indigo-500 rounded-full"></div>
                      Token / Resource Usage
                    </h2>
                    <div className="bg-gray-800/40 rounded-lg p-6 border border-gray-700/40">
                      <ul className="list-disc list-inside space-y-2 text-gray-300 text-sm">
                        <li>Precompute/cache OCR/ASR, captions, and embeddings; batch media encoding for GPU efficiency.</li>
                        <li>Prefer feature references and cropped regions in prompts; cap attachments and resolution.</li>
                        <li>Use per‑modality indexes and late‑fuse scores; shard long videos to sampled frames.</li>
                        <li>Quantize/compile encoders (e.g., 8‑bit/FP8); track image/audio token pricing and limits per provider.</li>
                      </ul>
                    </div>
                  </section>

                  {/* Best Use Cases */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-fuchsia-500 rounded-full"></div>
                      Best Use Cases
                    </h2>
                    <div className="bg-gray-800/40 rounded-lg p-6 border border-gray-700/40">
                      <ul className="list-disc list-inside space-y-2 text-gray-300 text-sm">
                        <li>Document understanding over PDFs with figures/tables, forms, and screenshots.</li>
                        <li>Support copilots: screenshots/logs + textual KBs; incident analysis with charts and images.</li>
                        <li>Meetings/education: slides + audio transcription + notes summarization.</li>
                        <li>Robotics/AR: perception + language grounding for task execution.</li>
                        <li>Healthcare workflows combining imaging with clinical notes (with compliance and human oversight).</li>
                      </ul>
                    </div>
                  </section>

                  {/* References & Further Reading */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-orange-500 rounded-full"></div>
                      References & Further Reading
                    </h2>
                    <div className="bg-gray-800/40 rounded-lg p-6 border border-gray-700/40 space-y-4">
                      <div>
                        <h3 className="text-white font-semibold mb-2 text-sm">Academic Papers</h3>
                        <ul className="list-disc list-inside space-y-1 text-gray-300 text-sm">
                          <li><a href="https://arxiv.org/abs/1705.09406" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">Multimodal Machine Learning: A Survey and Taxonomy (Baltrušaitis et al., 2017)</a></li>
                          <li><a href="https://arxiv.org/abs/2403.04706" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">Chameleon: Mixed‑Modal Early‑Fusion Foundation Models (2024)</a></li>
                          <li><a href="https://arxiv.org/abs/2305.09801" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">ImageBind: One Embedding Space to Bind Them All (Meta, 2023)</a></li>
                          <li><a href="https://arxiv.org/abs/2103.00020" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">CLIP: Learning Transferable Visual Models From Natural Language Supervision (2021)</a></li>
                          <li><a href="https://arxiv.org/abs/2304.08485" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">LLaVA: Large Language and Vision Assistant (2023)</a></li>
                        </ul>
                      </div>
                      <div>
                        <h3 className="text-white font-semibold mb-2 text-sm">Implementation Guides</h3>
                        <ul className="list-disc list-inside space-y-1 text-gray-300 text-sm">
                          <li><a href="https://platform.openai.com/docs/guides/vision" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">OpenAI: Vision and Multimodal (GPT‑4V/4o)</a></li>
                          <li><a href="https://docs.anthropic.com/claude/docs/vision" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">Anthropic: Claude 3 Vision Docs</a></li>
                          <li><a href="https://ai.google.dev/gemini-api/docs/vision" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">Google Gemini API: Vision</a></li>
                          <li><a href="https://huggingface.co/docs/transformers/tasks/vision_text_dual" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">Hugging Face: Vision‑Text Models</a></li>
                          <li><a href="https://python.langchain.com/docs/tutorials/multimodal_rag" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">LangChain: Multimodal Guide</a></li>
                          <li><a href="https://docs.llamaindex.ai/en/stable/examples/multi_modal/" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">LlamaIndex: Multimodal Examples</a></li>
                        </ul>
                      </div>
                      <div>
                        <h3 className="text-white font-semibold mb-2 text-sm">Tools & Libraries</h3>
                        <ul className="list-disc list-inside space-y-1 text-gray-300 text-sm">
                          <li>PyTorch / TensorFlow; <a href="https://huggingface.co/models?pipeline_tag=visual-question-answering" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">Hugging Face Transformers</a></li>
                          <li><a href="https://github.com/openai/CLIP" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">OpenCLIP/CLIP</a>, <a href="https://github.com/facebookresearch/ImageBind" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">ImageBind</a>, BLIP‑2/LLaVA</li>
                          <li><a href="https://weaviate.io/developers/weaviate" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">Weaviate</a> / <a href="https://milvus.io/docs/overview.md" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">Milvus</a> for multimodal vectors</li>
                          <li><a href="https://github.com/facebookresearch/faiss" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">FAISS</a> and rerankers (e.g., Cohere Rerank)</li>
                        </ul>
                      </div>
                      <div>
                        <h3 className="text-white font-semibold mb-2 text-sm">Community & Discussions</h3>
                        <ul className="list-disc list-inside space-y-1 text-gray-300 text-sm">
                          <li><a href="https://paperswithcode.com/area/multimodal-learning" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">Papers with Code: Multimodal Learning</a></li>
                          <li><a href="https://discuss.huggingface.co/" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">Hugging Face Forums</a></li>
                          <li><a href="https://www.reddit.com/r/MachineLearning/" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">r/MachineLearning</a></li>
                        </ul>
                      </div>
                    </div>
                  </section>
                </>
              ) : selectedTechnique.id === 'multimodal-context-integration' ? (
                <>
                  {/* Core Mechanism (short conceptual overview) */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-blue-500 rounded-full"></div>
                      Core Mechanism (short conceptual overview)
                    </h2>
                    <div className="bg-gradient-to-br from-blue-500/10 to-purple-500/10 border border-blue-500/20 rounded-xl p-6">
                      <p className="text-gray-200 text-base leading-relaxed">
                        Integrate text, vision, audio, and structured signals into a unified semantic representation via modality-specific encoders, cross-modal alignment, and
                        quality-aware fusion. Typical stacks combine contrastive pretraining (e.g., CLIP) with instruction-tuned vision-language models (e.g., BLIP‑2, LLaVA),
                        and natively multimodal LLMs (e.g., GPT‑4V/4o, Gemini, Claude 3) for reasoning over fused context.
                      </p>
                    </div>
                  </section>

                  {/* Workflow / Steps */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-purple-500 rounded-full"></div>
                      Workflow / Steps
                    </h2>
                    <div className="bg-gradient-to-br from-purple-500/10 to-blue-500/10 border border-purple-500/20 rounded-xl p-6">
                      <ol className="list-decimal list-inside space-y-2 text-gray-200 text-sm">
                        <li>Ingest inputs: text, image(s)/PDF pages, audio/video, structured tables/JSON.</li>
                        <li>Preprocess: OCR for docs, ASR for audio, frame sampling for video, normalization/metadata timestamps.</li>
                        <li>Encode per modality: text/token embeddings; vision encoders (e.g., ViT, EVA‑CLIP); audio encoders (e.g., Whisper/AudioLM‑style); tabular encoders.</li>
                        <li>Align: project to a shared space (contrastive or learned adapters); synchronize temporally via timestamps.</li>
                        <li>Fuse: early (feature‑level), late (decision‑level), or hybrid fusion with cross‑modal attention and uncertainty weighting.</li>
                        <li>Reason: natively multimodal LLM or VLM performs instruction‑following, retrieval, and tool use over the fused context.</li>
                        <li>Generate outputs: text answers, citations, bounding boxes/captions, or audio; attach uncertainty and modality attributions.</li>
                        <li>Monitor: capture quality, latency, cost; trigger fallbacks or human review on low confidence.</li>
                      </ol>
                    </div>
                  </section>

                  {/* Best Practices */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-green-500 rounded-full"></div>
                      Best Practices
                    </h2>
                    <div className="grid gap-3">
                      {[
                        'Calibrate modality weights; down‑weight low‑quality OCR/ASR; detect missing or corrupted modalities.',
                        'Keep raw media out of prompts when possible; pass compact features/crops and references; cite sources in answers.',
                        'Maintain temporal alignment with timestamps and segment IDs for video/audio; store modality provenance.',
                        'Use instruction‑tuned VLMs for following directions on images/PDFs; fine‑tune adapters for domain data.',
                        'Implement retrieval over multimodal vectors (per‑modality indexes and late fusion) before long‑context prompting.',
                        'Cache embeddings and OCR/ASR outputs; batch encode media; quantize large encoders for throughput.',
                        'Add safety filters for images/audio (PII/redaction, NSFW, PHI); log consent and minimization per policy.',
                        'Evaluate with multimodal tasks and human review; track hallucination and evidence‑linking quality.',
                      ].map((tip) => (
                        <div key={tip} className="flex items-start gap-3 p-3 bg-gray-800/40 rounded-lg">
                          <Check className="w-5 h-5 text-green-400 mt-0.5 flex-shrink-0" />
                          <span className="text-gray-300 text-sm leading-relaxed">{tip}</span>
                        </div>
                      ))}
                    </div>
                  </section>

                  {/* When NOT to Use */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-red-500 rounded-full"></div>
                      When NOT to Use
                    </h2>
                    <div className="bg-gray-800/40 rounded-lg p-6 border border-gray-700/40">
                      <ul className="list-disc list-inside space-y-2 text-gray-300 text-sm">
                        <li>Unimodal tasks already meet quality/latency targets.</li>
                        <li>Strict latency/compute budgets where vision/audio inference is prohibitive.</li>
                        <li>Regulatory or privacy constraints preclude processing images/audio/PHI.</li>
                        <li>Insufficient multimodal training/evaluation data for the domain.</li>
                      </ul>
                    </div>
                  </section>

                  {/* Common Pitfalls */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-amber-500 rounded-full"></div>
                      Common Pitfalls
                    </h2>
                    <div className="bg-gray-800/40 rounded-lg p-6 border border-gray-700/40">
                      <ul className="list-disc list-inside space-y-2 text-gray-300 text-sm">
                        <li>Modality collapse: model ignores harder modalities and relies on text priors.</li>
                        <li>Temporal misalignment between audio/video frames and text.</li>
                        <li>Poor OCR/ASR quality leading to downstream hallucinations.</li>
                        <li>Token/cost blow‑ups by inlining media metadata instead of using references.</li>
                        <li>Lack of fallback paths when a modality is missing or corrupt.</li>
                      </ul>
                    </div>
                  </section>

                  {/* Key Features */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-cyan-500 rounded-full"></div>
                      Key Features
                    </h2>
                    <div className="grid grid-cols-1 md:grid-cols-2 gap-3">
                      {[
                        'Cross‑modal alignment in a shared representation space',
                        'Hybrid early/late fusion with attention',
                        'Temporal synchronization and provenance tracking',
                        'Quality‑aware, uncertainty‑weighted reasoning',
                        'Instruction‑following on images/PDFs',
                        'Multimodal retrieval‑augmented generation (RAG)',
                        'Safe handling of sensitive media (PII/PHI)',
                        'Streaming/low‑latency pipelines with batching',
                      ].map((feat) => (
                        <div key={feat} className="p-3 bg-gray-800/40 rounded-lg text-gray-300 text-sm border border-gray-700/40">
                          {feat}
                        </div>
                      ))}
                    </div>
                  </section>

                  {/* KPIs / Success Metrics */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-emerald-500 rounded-full"></div>
                      KPIs / Success Metrics
                    </h2>
                    <div className="bg-gray-800/40 rounded-lg p-6 border border-gray-700/40">
                      <ul className="list-disc list-inside space-y-2 text-gray-300 text-sm">
                        <li>Task accuracy on multimodal benchmarks (e.g., VQA/TextVQA, ChartQA, DocVQA, ScienceQA‑IM).</li>
                        <li>Retrieval precision/recall for multimodal RAG; citation coverage and correctness.</li>
                        <li>Hallucination rate and evidence‑linking quality by human evaluation.</li>
                        <li>Latency p50/p95 and cost per request; GPU utilization/throughput.</li>
                        <li>Calibration metrics (e.g., ECE) and fallback trigger rate.</li>
                      </ul>
                    </div>
                  </section>

                  {/* Token / Resource Usage */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-indigo-500 rounded-full"></div>
                      Token / Resource Usage
                    </h2>
                    <div className="bg-gray-800/40 rounded-lg p-6 border border-gray-700/40">
                      <ul className="list-disc list-inside space-y-2 text-gray-300 text-sm">
                        <li>Precompute and cache OCR/ASR and image embeddings; batch encode media to maximize GPU throughput.</li>
                        <li>Prefer feature references over raw pixels in prompts; limit total attachments and resolution per request.</li>
                        <li>Use per‑modality indexes in vector DBs (e.g., image/text) and late‑fuse scores; cap retrieved chunks.</li>
                        <li>Quantize/compile encoders (8‑bit/FP8) for lower memory; shard long videos into sampled frames.</li>
                        <li>Consult provider pricing for image/audio tokens and attachment limits; track cost by modality.</li>
                      </ul>
                    </div>
                  </section>

                  {/* Best Use Cases */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-fuchsia-500 rounded-full"></div>
                      Best Use Cases
                    </h2>
                    <div className="bg-gray-800/40 rounded-lg p-6 border border-gray-700/40">
                      <ul className="list-disc list-inside space-y-2 text-gray-300 text-sm">
                        <li>Document Q&A over PDFs with figures/tables, forms, and screenshots.</li>
                        <li>Product discovery: image + text search, visual troubleshooting with screenshots/logs.</li>
                        <li>Meetings/education: slide + audio transcription + notes summarization.</li>
                        <li>Robotics/AR: perception + language grounding for task execution.</li>
                        <li>Healthcare workflows combining imaging with clinical notes (with compliance and human oversight).</li>
                      </ul>
                    </div>
                  </section>

                  {/* References & Further Reading */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-orange-500 rounded-full"></div>
                      References & Further Reading
                    </h2>
                    <div className="bg-gray-800/40 rounded-lg p-6 border border-gray-700/40 space-y-4">
                      <div>
                        <h3 className="text-white font-semibold mb-2 text-sm">Academic Papers</h3>
                        <ul className="list-disc list-inside space-y-1 text-gray-300 text-sm">
                          <li><a href="https://arxiv.org/abs/2103.00020" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">CLIP: Learning Transferable Visual Models From Natural Language Supervision (Radford et al., 2021)</a></li>
                          <li><a href="https://arxiv.org/abs/2204.14198" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">Flamingo: a Visual Language Model for Few‑Shot Learning (DeepMind, 2022)</a></li>
                          <li><a href="https://arxiv.org/abs/2301.12597" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">BLIP‑2: Bootstrapping Language‑Image Pre‑training (Li et al., 2023)</a></li>
                          <li><a href="https://arxiv.org/abs/2304.08485" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">LLaVA: Large Language and Vision Assistant (Liu et al., 2023)</a></li>
                          <li><a href="https://arxiv.org/abs/2302.14045" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">Kosmos‑1: Multimodal Large Language Model (Microsoft, 2023)</a></li>
                          <li><a href="https://arxiv.org/abs/2305.09801" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">ImageBind: One Embedding Space to Bind Them All (Meta, 2023)</a></li>
                          <li><a href="https://arxiv.org/abs/2403.04706" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">Chameleon: Mixed‑Modal Early‑Fusion Foundation Models (2024)</a></li>
                          <li><a href="https://arxiv.org/abs/1705.09406" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">Multimodal Machine Learning: A Survey and Taxonomy (Baltrušaitis et al., 2017)</a></li>
                        </ul>
                      </div>
                      <div>
                        <h3 className="text-white font-semibold mb-2 text-sm">Implementation Guides</h3>
                        <ul className="list-disc list-inside space-y-1 text-gray-300 text-sm">
                          <li><a href="https://platform.openai.com/docs/guides/vision" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">OpenAI Vision and Multimodal (GPT‑4V/4o) Guides</a></li>
                          <li><a href="https://docs.anthropic.com/claude/docs/vision" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">Anthropic Claude 3 Vision Docs</a></li>
                          <li><a href="https://ai.google.dev/gemini-api/docs/vision" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">Google Gemini API: Vision</a></li>
                          <li><a href="https://python.langchain.com/docs/tutorials/multimodal_rag" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">LangChain: Multimodal RAG Guide</a></li>
                          <li><a href="https://docs.llamaindex.ai/en/stable/examples/multi_modal/" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">LlamaIndex: Multimodal Examples</a></li>
                          <li><a href="https://huggingface.co/docs/transformers/tasks/vision_text_dual" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">Hugging Face: Vision‑Text Models</a></li>
                        </ul>
                      </div>
                      <div>
                        <h3 className="text-white font-semibold mb-2 text-sm">Tools & Libraries</h3>
                        <ul className="list-disc list-inside space-y-1 text-gray-300 text-sm">
                          <li>PyTorch / TensorFlow; <a href="https://huggingface.co/models?pipeline_tag=visual-question-answering" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">Hugging Face Transformers</a></li>
                          <li><a href="https://github.com/openai/CLIP" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">OpenCLIP/CLIP</a>, <a href="https://github.com/facebookresearch/ImageBind" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">ImageBind</a></li>
                          <li><a href="https://weaviate.io/developers/weaviate" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">Weaviate</a> / <a href="https://milvus.io/docs/overview.md" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">Milvus</a> for multimodal vectors</li>
                        </ul>
                      </div>
                      <div>
                        <h3 className="text-white font-semibold mb-2 text-sm">Community & Discussions</h3>
                        <ul className="list-disc list-inside space-y-1 text-gray-300 text-sm">
                          <li><a href="https://paperswithcode.com/area/multimodal-learning" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">Papers with Code: Multimodal Learning</a></li>
                          <li><a href="https://discuss.huggingface.co/" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">Hugging Face Forums</a></li>
                          <li><a href="https://www.reddit.com/r/MachineLearning/" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">r/MachineLearning</a></li>
                        </ul>
                      </div>
                    </div>
                  </section>
                </>
              ) : selectedTechnique.id === 'sliding-window' ? (
                <>
                  {/* Core Mechanism (short conceptual overview) */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-blue-500 rounded-full"></div>
                      Core Mechanism (short conceptual overview)
                    </h2>
                    <div className="bg-gradient-to-br from-blue-500/10 to-purple-500/10 border border-blue-500/20 rounded-xl p-6">
                      <p className="text-gray-200 text-base leading-relaxed">
                        Fixed-size rolling context buffer that keeps only the most recent information within a configured window
                        (messages or tokens). New items append to the head; when capacity is exceeded, the oldest items are evicted
                        using FIFO. Optional summarization compresses older content to preserve key facts under strict budgets.
                      </p>
                    </div>
                  </section>

                  {/* Workflow / Steps */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-purple-500 rounded-full"></div>
                      Workflow / Steps
                    </h2>
                    <div className="bg-gradient-to-br from-purple-500/10 to-blue-500/10 border border-purple-500/20 rounded-xl p-6">
                      <ol className="list-decimal list-inside space-y-2 text-gray-200 text-sm">
                        <li>Configure window policy: size (tokens/messages), overlap, retention and pinning rules.</li>
                        <li>Ingest input: normalize message/events; attach metadata (timestamp, role, source).</li>
                        <li>Score/prioritize (optional): recency, relevance, and frequency to inform pin/compress.</li>
                        <li>Append to buffer; if capacity is exceeded, evict oldest per FIFO and pin rules.</li>
                        <li>Compress/summarize (optional): distill background into short factual summaries with citations.</li>
                        <li>Assemble prompt context from the window; optionally augment with retrieval (RAG).</li>
                        <li>Monitor metrics and adapt window size/overlap thresholds under cost/latency budgets.</li>
                      </ol>
                    </div>
                  </section>

                  {/* Best Practices */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-green-500 rounded-full"></div>
                      Best Practices
                    </h2>
                    <div className="grid gap-3">
                      {[
                        'Set window in tokens, not message count; measure with provider tokenizer to avoid surprises.',
                        'Pin durable facts, IDs, and constraints; evict chit‑chat first; summarize long background.',
                        'Use small overlap between turns to maintain coherence without duplicating large chunks.',
                        'Store provenance/citations in summaries; prefer structured bullet summaries over free text.',
                        'Combine with retrieval for non‑recent knowledge; keep the window for short‑term recency.',
                        'Track hit rate and eviction rate; auto‑tune window size by SLOs and cost caps.',
                        'Redact PII and minimize sensitive content; enforce TTLs and retention policies.',
                      ].map((tip) => (
                        <div key={tip} className="flex items-start gap-3 p-3 bg-gray-800/40 rounded-lg">
                          <Check className="w-5 h-5 text-green-400 mt-0.5 flex-shrink-0" />
                          <span className="text-gray-300 text-sm leading-relaxed">{tip}</span>
                        </div>
                      ))}
                    </div>
                  </section>

                  {/* When NOT to Use */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-red-500 rounded-full"></div>
                      When NOT to Use
                    </h2>
                    <div className="bg-gray-800/40 rounded-lg p-6 border border-gray-700/40">
                      <ul className="list-disc list-inside space-y-2 text-gray-300 text-sm">
                        <li>Tasks that require long‑range dependencies or full audit history (use hierarchical memory).</li>
                        <li>Legal/compliance workflows where truncation could drop required evidence.</li>
                        <li>Research or planning where distant context materially affects correctness.</li>
                        <li>Very small conversations where a static prompt or retrieval alone suffices.</li>
                      </ul>
                    </div>
                  </section>

                  {/* Common Pitfalls */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-amber-500 rounded-full"></div>
                      Common Pitfalls
                    </h2>
                    <div className="bg-gray-800/40 rounded-lg p-6 border border-gray-700/40">
                      <ul className="list-disc list-inside space-y-2 text-gray-300 text-sm">
                        <li>Counting messages instead of tokens → unexpected overflows and truncation.</li>
                        <li>Too much overlap → duplicated context and token waste.</li>
                        <li>Lossy summaries that drop constraints, IDs, or numerical details.</li>
                        <li>Evicting pinned facts leading to contradictions or drift.</li>
                        <li>Letting the window substitute for retrieval, causing knowledge gaps.</li>
                      </ul>
                    </div>
                  </section>

                  {/* Key Features */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-cyan-500 rounded-full"></div>
                      Key Features
                    </h2>
                    <div className="grid grid-cols-1 md:grid-cols-2 gap-3">
                      {[
                        'Fixed‑size buffer with FIFO eviction',
                        'Optional summarization and pinning',
                        'Token‑aware sizing and small overlap',
                        'O(1) append/evict; predictable memory',
                        'Recency‑biased context assembly',
                        'Integrates with RAG and KV‑cache reuse',
                      ].map((feat) => (
                        <div key={feat} className="p-3 bg-gray-800/40 rounded-lg text-gray-300 text-sm border border-gray-700/40">
                          {feat}
                        </div>
                      ))}
                    </div>
                  </section>

                  {/* KPIs / Success Metrics */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-emerald-500 rounded-full"></div>
                      KPIs / Success Metrics
                    </h2>
                    <div className="bg-gray-800/40 rounded-lg p-6 border border-gray-700/40">
                      <ul className="list-disc list-inside space-y-2 text-gray-300 text-sm">
                        <li>Task success/quality vs. baseline; citation/grounding correctness if applicable.</li>
                        <li>Context hit rate (needed info present in window) and summary fidelity.</li>
                        <li>Eviction rate and re-reference misses; confusion from dropped facts.</li>
                        <li>Latency p50/p95 and tokens per request; cost per successful task.</li>
                      </ul>
                    </div>
                  </section>

                  {/* Token / Resource Usage */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-indigo-500 rounded-full"></div>
                      Token / Resource Usage
                    </h2>
                    <div className="bg-gray-800/40 rounded-lg p-6 border border-gray-700/40">
                      <ul className="list-disc list-inside space-y-2 text-gray-300 text-sm">
                        <li>Total prompt ≈ instruction + system + window tokens (+ optional summaries).</li>
                        <li>Choose window size well below the model context limit to allow tool/RAG inserts.</li>
                        <li>Summarize background to 10–20% of original tokens; pin only essential facts.</li>
                        <li>Leverage provider KV‑cache reuse where available to amortize repeated tokens.</li>
                      </ul>
                    </div>
                  </section>

                  {/* Best Use Cases */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-fuchsia-500 rounded-full"></div>
                      Best Use Cases
                    </h2>
                    <div className="bg-gray-800/40 rounded-lg p-6 border border-gray-700/40">
                      <ul className="list-disc list-inside space-y-2 text-gray-300 text-sm">
                        <li>Chat assistants with bounded, recent context needs (CSR, IT helpdesk, tutoring).</li>
                        <li>Streaming/real‑time analysis and monitoring with recency emphasis.</li>
                        <li>Edge/low‑resource deployments where memory and cost must be capped.</li>
                        <li>Agent tool loops where only the last N steps are required for correctness.</li>
                      </ul>
                    </div>
                  </section>

                  {/* References & Further Reading */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-orange-500 rounded-full"></div>
                      References & Further Reading
                    </h2>
                    <div className="bg-gray-800/40 rounded-lg p-6 border border-gray-700/40 space-y-4">
                      <div>
                        <h3 className="text-white font-semibold mb-2 text-sm">Academic Papers</h3>
                        <ul className="list-disc list-inside space-y-1 text-gray-300 text-sm">
                          <li><a href="https://arxiv.org/abs/1901.02860" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">Transformer‑XL: Attentive Language Models Beyond a Fixed‑Length Context (2019)</a></li>
                          <li><a href="https://arxiv.org/abs/2004.05150" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">Longformer: The Long‑Document Transformer (2020)</a></li>
                          <li><a href="https://arxiv.org/abs/2007.14062" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">BigBird: Transformers for Longer Sequences (2020)</a></li>
                          <li><a href="https://arxiv.org/abs/2309.17453" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">StreamingLLM: Efficient Streaming Language Models with Attention Sink (2023)</a></li>
                        </ul>
                      </div>
                      <div>
                        <h3 className="text-white font-semibold mb-2 text-sm">Implementation Guides</h3>
                        <ul className="list-disc list-inside space-y-1 text-gray-300 text-sm">
                          <li><a href="https://python.langchain.com/docs/modules/memory/types/buffer_window" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">LangChain: Conversation Buffer Window Memory</a></li>
                          <li><a href="https://docs.llamaindex.ai/en/stable/module_guides/loading/node_parsers/" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">LlamaIndex: Sliding Window Node Parser</a></li>
                          <li><a href="https://docs.vllm.ai/en/latest/" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">vLLM: PagedAttention and KV cache management</a></li>
                          <li><a href="https://nightlies.apache.org/flink/flink-docs-stable/docs/dev/datastream/operators/windows/" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">Apache Flink: Sliding/Tumbling Windows</a></li>
                        </ul>
                      </div>
                      <div>
                        <h3 className="text-white font-semibold mb-2 text-sm">Tools & Libraries</h3>
                        <ul className="list-disc list-inside space-y-1 text-gray-300 text-sm">
                          <li><a href="https://python.langchain.com/" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">LangChain Memory</a></li>
                          <li><a href="https://www.llamaindex.ai/" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">LlamaIndex</a></li>
                          <li><a href="https://vllm.ai/" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">vLLM</a></li>
                          <li><a href="https://github.com/ggerganov/llama.cpp" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">llama.cpp</a></li>
                        </ul>
                      </div>
                      <div>
                        <h3 className="text-white font-semibold mb-2 text-sm">Community & Discussions</h3>
                        <ul className="list-disc list-inside space-y-1 text-gray-300 text-sm">
                          <li><a href="https://www.reddit.com/r/MachineLearning/" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">r/MachineLearning</a></li>
                          <li><a href="https://discord.gg/langchain" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">LangChain Discord</a></li>
                          <li><a href="https://discuss.huggingface.co/" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">Hugging Face Forums</a></li>
                        </ul>
                      </div>
                    </div>
                  </section>
                </>
              ) : selectedTechnique.id === 'hierarchical-memory' ? (
                <>
                  {/* Core Mechanism (short conceptual overview) */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-blue-500 rounded-full"></div>
                      Core Mechanism (short conceptual overview)
                    </h2>
                    <div className="bg-gradient-to-br from-blue-500/10 to-orange-500/10 border border-blue-500/20 rounded-xl p-6">
                      <p className="text-gray-200 text-base leading-relaxed">
                        Multi-tier memory with explicit retention policies and automatic promotion/demotion. Queries first consult
                        higher-level summaries and indices, then drill down to detailed items. This mirrors hierarchical memory designs
                        in modern LLM systems (e.g., hierarchical chunk attention and hierarchical memory transformers) to balance
                        recall, latency, and cost.
                      </p>
                    </div>
                  </section>

                  {/* Workflow / Steps */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-purple-500 rounded-full"></div>
                      Workflow / Steps
                    </h2>
                    <div className="bg-gradient-to-br from-purple-500/10 to-orange-500/10 border border-purple-500/20 rounded-xl p-6">
                      <ol className="list-decimal list-inside space-y-2 text-gray-200 text-sm">
                        <li><span className="font-medium">Ingest & encode</span>: chunk inputs; embed and/or summarize; attach metadata (source, time, topic, sensitivity).</li>
                        <li><span className="font-medium">Score</span>: compute importance, recency, frequency, novelty; deduplicate and sanitize (safety/PII).</li>
                        <li><span className="font-medium">Place</span>: write to working memory; promote to short/medium/long-term based on thresholds.</li>
                        <li><span className="font-medium">Consolidate</span>: periodically summarize lower tiers into higher-level abstracts; link summaries to originals.</li>
                        <li><span className="font-medium">Retrieve</span>: route queries via summaries/indices first; then vector/keyword search within targeted tiers.</li>
                        <li><span className="font-medium">Demote/Evict</span>: apply TTLs and decay; demote low-utility items; evict stale data; maintain deduplication.</li>
                        <li><span className="font-medium">Audit & observe</span>: log promotions, retrieval hits, evictions; track latency, cost, and quality metrics.</li>
                      </ol>
                    </div>
                  </section>

                  {/* Best Practices */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-green-500 rounded-full"></div>
                      Best Practices
                    </h2>
                    <div className="grid gap-3">
                      {[
                        'Define tier policies: capacities, TTLs, promotion/demotion thresholds, deduplication.',
                        'Use hybrid indices: vector + keyword + metadata filters; rerank with cross-encoders when needed.',
                        'Summarize aggressively at higher tiers; keep pointers to originals for drill-down and citations.',
                        'Protect against prompt injection/memory poisoning; verify and sanitize before storage; track provenance.',
                        'Respect privacy: redact or encrypt sensitive fields; implement consent, retention, and deletion workflows.',
                        'Continuously evaluate retrieval precision/recall@K and answer quality vs. baselines.',
                        'Bound growth with quotas; background compaction; periodic consolidation and pruning.',
                        'Cache retrieval results per session; minimize prompt tokens via summaries and references.'
                      ].map((tip) => (
                        <div key={tip} className="flex items-start gap-3 p-3 bg-gray-800/40 rounded-lg">
                          <Check className="w-5 h-5 text-green-400 mt-0.5 flex-shrink-0" />
                          <span className="text-gray-300 text-sm leading-relaxed">{tip}</span>
                        </div>
                      ))}
                    </div>
                  </section>

                  {/* When NOT to Use */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-red-500 rounded-full"></div>
                      When NOT to Use
                    </h2>
                    <div className="bg-gray-800/40 rounded-lg p-6 border border-gray-700/40 text-sm text-gray-300 space-y-2">
                      <p>Short-lived, stateless tasks where a sliding window or simple retrieval suffices.</p>
                      <p>Hard real-time paths intolerant of multi-stage retrieval or consolidation latency.</p>
                      <p>Strict compliance contexts without strong privacy/deletion controls and auditability.</p>
                      <p>Deterministic pipelines requiring exact reproducibility without adaptive memory.</p>
                    </div>
                  </section>

                  {/* Common Pitfalls */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-amber-500 rounded-full"></div>
                      Common Pitfalls
                    </h2>
                    <div className="bg-gray-800/40 rounded-lg p-6 border border-gray-700/40 text-sm text-gray-300 space-y-2">
                      <p>Storing unverified inputs → memory poisoning; lack of provenance for critical facts.</p>
                      <p>Unbounded growth and duplication across tiers → slow retrieval and rising costs.</p>
                      <p>Over-promotion causing parroting of prior outputs or lock-in of outdated information.</p>
                      <p>Stale/contradictory memories from missing consolidation and conflict resolution.</p>
                      <p>Leaking sensitive data via retrieval prompts or weak metadata filtering.</p>
                    </div>
                  </section>

                  {/* Key Features */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-cyan-500 rounded-full"></div>
                      Key Features
                    </h2>
                    <div className="grid grid-cols-1 md:grid-cols-2 gap-3">
                      {[
                        'Multi-tier retention with automatic promotion/demotion and TTLs',
                        'Hierarchical summaries linked to source items for drill-down',
                        'Hybrid search and tier-aware routing (vector, lexical, metadata)',
                        'Deduplication and novelty detection',
                        'Safety filters, provenance tracking, and PII-aware storage',
                        'Tier-aware caching to minimize token/context overhead'
                      ].map((feat) => (
                        <div key={feat} className="p-3 bg-gray-800/40 rounded-lg text-gray-300 text-sm border border-gray-700/40">
                          {feat}
                        </div>
                      ))}
                    </div>
                  </section>

                  {/* KPIs / Success Metrics */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-emerald-500 rounded-full"></div>
                      KPIs / Success Metrics
                    </h2>
                    <div className="bg-gray-800/40 rounded-lg p-6 border border-gray-700/40 text-sm text-gray-300 grid grid-cols-1 md:grid-cols-2 gap-3">
                      <div>Retrieval precision/recall@K by tier; relevant-memory usage rate in answers.</div>
                      <div>End-to-end latency (p50/p95) for retrieval and responses; cache hit rate.</div>
                      <div>Token savings from summaries; average context length per response.</div>
                      <div>Forgetting/decay rate for obsolete items; duplication rate across tiers.</div>
                      <div>Incidents of unsafe retrieval blocked by filters (PII/toxicity/injection).</div>
                      <div>Human-rated answer quality delta with vs. without hierarchical memory.</div>
                    </div>
                  </section>

                  {/* Token / Resource Usage */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-indigo-500 rounded-full"></div>
                      Token / Resource Usage
                    </h2>
                    <div className="bg-gray-800/40 rounded-lg p-6 border border-gray-700/40 text-sm text-gray-300 space-y-2">
                      <p>Upper tiers store summaries/indices to cap prompt tokens; fetch detailed items on demand.</p>
                      <p>Vector search and reranking add compute; scope queries to predicted tiers to control cost.</p>
                      <p>Apply TTLs/quotas per user/task; batch consolidation off-peak; prefer compact embeddings.</p>
                      <p>Track storage growth and QPS per tier; tune promotion thresholds to balance recall and spend.</p>
                    </div>
                  </section>

                  {/* Best Use Cases */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-fuchsia-500 rounded-full"></div>
                      Best Use Cases
                    </h2>
                    <div className="bg-gray-800/40 rounded-lg p-6 border border-gray-700/40 text-sm text-gray-300 space-y-2">
                      <p>Personal and enterprise assistants with long histories and evolving preferences.</p>
                      <p>Knowledge bases/helpdesks consolidating policies, FAQs, and change logs.</p>
                      <p>Learning/tutoring systems tracking competencies and longitudinal progress.</p>
                      <p>Research copilots aggregating literature notes with hierarchical summaries and citations.</p>
                    </div>
                  </section>

                  {/* References & Further Reading */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-orange-500 rounded-full"></div>
                      References & Further Reading
                    </h2>
                    <div className="bg-gray-800/40 rounded-lg p-6 border border-gray-700/40 space-y-4">
                      <div>
                        <h3 className="text-white font-semibold mb-2 text-sm">Academic Papers</h3>
                        <ul className="list-disc list-inside space-y-1 text-gray-300 text-sm">
                          <li><a href="https://arxiv.org/abs/2405.06067" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">Hierarchical Memory Transformer (HMT) — He et al., 2024</a></li>
                          <li><a href="https://arxiv.org/abs/2105.14039" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">Hierarchical Chunk Attention / Mental Time Travel — Lampinen et al., 2021</a></li>
                          <li><a href="https://arxiv.org/abs/1901.02860" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">Transformer-XL — Dai et al., 2019</a></li>
                          <li><a href="https://arxiv.org/abs/2310.08560" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">MemGPT: LLMs with a Programmable Memory — 2023</a></li>
                        </ul>
                      </div>
                      <div>
                        <h3 className="text-white font-semibold mb-2 text-sm">Implementation Guides</h3>
                        <ul className="list-disc list-inside space-y-1 text-gray-300 text-sm">
                          <li><a href="https://python.langchain.com/docs/modules/memory/" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">LangChain Memory (buffer, summary, vector)</a></li>
                          <li><a href="https://docs.llamaindex.ai/en/stable/module_guides/indexing/using_memory/" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">LlamaIndex Memory & Contextual Retrieval</a></li>
                          <li><a href="https://platform.openai.com/docs/assistants/tools/memory" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">OpenAI Assistants: Memory</a></li>
                        </ul>
                      </div>
                      <div>
                        <h3 className="text-white font-semibold mb-2 text-sm">Tools & Libraries</h3>
                        <ul className="list-disc list-inside space-y-1 text-gray-300 text-sm">
                          <li><a href="https://github.com/facebookresearch/faiss" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">FAISS</a>, <a href="https://milvus.io/" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">Milvus</a>, <a href="https://weaviate.io/" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">Weaviate</a>, <a href="https://www.pinecone.io/" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">Pinecone</a> (vector stores; metadata/TTL).</li>
                          <li><a href="https://github.com/chroma-core/chroma" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">Chroma</a>; <a href="https://www.elastic.co/" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">Elastic</a>/<a href="https://opensearch.org/" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">OpenSearch</a> (hybrid lexical/vector search).</li>
                        </ul>
                      </div>
                      <div>
                        <h3 className="text-white font-semibold mb-2 text-sm">Community & Discussions</h3>
                        <ul className="list-disc list-inside space-y-1 text-gray-300 text-sm">
                          <li><a href="https://huggingface.co/blog" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">Hugging Face Blog: memory in agents & retrieval</a></li>
                          <li><a href="https://discuss.langchain.com/" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">LangChain Community</a></li>
                        </ul>
                      </div>
                    </div>
                  </section>
                </>
              ) : selectedTechnique.id === 'attention-mechanisms' ? (
                <>
                  {/* Core Mechanism (short conceptual overview) */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-blue-500 rounded-full"></div>
                      Core Mechanism (short conceptual overview)
                    </h2>
                    <div className="bg-gradient-to-br from-blue-500/10 to-purple-500/10 border border-blue-500/20 rounded-xl p-6">
                      <p className="text-gray-200 text-base leading-relaxed">
                        Scaled dot-product attention computes relevance weights between a query and keys via softmax((Q·Kᵀ)/√d), then forms a context vector as a weighted sum of values. Multi-head attention projects into multiple subspaces for richer patterns; masking enforces padding/causal constraints. In agent memory, cross-attention lets a query focus on the most relevant memory items for selective context assembly.
                      </p>
                    </div>
                  </section>

                  {/* Workflow / Steps */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-purple-500 rounded-full"></div>
                      Workflow / Steps
                    </h2>
                    <div className="bg-gradient-to-br from-purple-500/10 to-blue-500/10 border border-purple-500/20 rounded-xl p-6">
                      <ol className="list-decimal list-inside space-y-2 text-gray-200 text-sm">
                        <li>Encode query and candidate items into vector representations (Q, K, V).</li>
                        <li>Apply masks (padding/causal) as required by the task.</li>
                        <li>Compute attention logits Q·Kᵀ/√d; optionally adjust temperature.</li>
                        <li>Normalize with softmax to obtain attention weights; optionally prune to top‑k or threshold.</li>
                        <li>Aggregate values as weighted sum to produce attended representation.</li>
                        <li>Use multi-head projections and residual/normalization layers; repeat across layers as needed.</li>
                        <li>For memory selection, rank by attention weights and assemble the highest‑relevance context.</li>
                      </ol>
                    </div>
                  </section>

                  {/* Best Practices */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-green-500 rounded-full"></div>
                      Best Practices
                    </h2>
                    <div className="grid gap-3">
                      {[
                        'Always apply correct padding/causal masks to prevent information leakage.',
                        'Use rotary or relative positional encodings (RoPE/relative bias) for robust length generalization.',
                        'Adopt FlashAttention‑style kernels for efficient, numerically stable attention on GPUs.',
                        'Monitor attention entropy/head diversity; encourage useful heads and avoid collapse.',
                        'Use sparse/top‑k/windowed attention for very long sequences; cap retrieved context.',
                        'Leverage KV caching for autoregressive decoding to reduce compute on long outputs.',
                        'Tune temperature and clipping to stabilize training/inference on long contexts.'
                      ].map((tip) => (
                        <div key={tip} className="flex items-start gap-3 p-3 bg-gray-800/40 rounded-lg">
                          <Check className="w-5 h-5 text-green-400 mt-0.5 flex-shrink-0" />
                          <span className="text-gray-300 text-sm leading-relaxed">{tip}</span>
                        </div>
                      ))}
                    </div>
                  </section>

                  {/* When NOT to Use */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-red-500 rounded-full"></div>
                      When NOT to Use
                    </h2>
                    <div className="bg-gray-800/40 rounded-lg p-6 border border-gray-700/40">
                      <ul className="list-disc list-inside space-y-2 text-gray-300 text-sm">
                        <li>Strict real‑time/edge constraints where quadratic memory/compute is infeasible.</li>
                        <li>Very small contexts where simpler attention‑free baselines meet quality/latency.</li>
                        <li>Use cases demanding faithful explanations; attention weights are not guaranteed explanations.</li>
                      </ul>
                    </div>
                  </section>

                  {/* Common Pitfalls */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-amber-500 rounded-full"></div>
                      Common Pitfalls
                    </h2>
                    <div className="bg-gray-800/40 rounded-lg p-6 border border-gray-700/40">
                      <ul className="list-disc list-inside space-y-2 text-gray-300 text-sm">
                        <li>Quadratic scaling causing out‑of‑memory at long sequence lengths.</li>
                        <li>Missing/incorrect masks leading to data leakage across positions.</li>
                        <li>Positional encoding mismatch that degrades long‑context behavior.</li>
                        <li>Attention collapse where a single token dominates across heads.</li>
                        <li>Over‑interpreting attention maps as causal explanations.</li>
                      </ul>
                    </div>
                  </section>

                  {/* Key Features */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-cyan-500 rounded-full"></div>
                      Key Features
                    </h2>
                    <div className="grid grid-cols-1 md:grid-cols-2 gap-3">
                      {[
                        'Scaled dot‑product attention and softmax normalization',
                        'Multi‑head self‑attention and cross‑attention',
                        'Padding/causal masks; key‑value caching',
                        'Rotary/relative positional encodings (RoPE/ALiBi/relative bias)',
                        'Sparse/linear/long‑context variants (Longformer, Linformer, Reformer, Performer)',
                        'High‑performance kernels (FlashAttention)'
                      ].map((feat) => (
                        <div key={feat} className="p-3 bg-gray-800/40 rounded-lg text-gray-300 text-sm border border-gray-700/40">
                          {feat}
                        </div>
                      ))}
                    </div>
                  </section>

                  {/* KPIs / Success Metrics */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-emerald-500 rounded-full"></div>
                      KPIs / Success Metrics
                    </h2>
                    <div className="bg-gray-800/40 rounded-lg p-6 border border-gray-700/40">
                      <ul className="list-disc list-inside space-y-2 text-gray-300 text-sm">
                        <li>Task quality: BLEU/ROUGE/F1/Exact‑Match per domain; long‑context retrieval success.</li>
                        <li>Attention diagnostics: entropy, head sparsity/diversity, coverage of relevant tokens.</li>
                        <li>Efficiency: tokens/sec, p50/p95 latency, peak VRAM, memory GB, KV‑cache hit‑rate.</li>
                      </ul>
                    </div>
                  </section>

                  {/* Token / Resource Usage */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-indigo-500 rounded-full"></div>
                      Token / Resource Usage
                    </h2>
                    <div className="bg-gray-800/40 rounded-lg p-6 border border-gray-700/40">
                      <ul className="list-disc list-inside space-y-2 text-gray-300 text-sm">
                        <li>Naïve attention: O(n²) memory/compute; long contexts require optimization.</li>
                        <li>Use FlashAttention/tiling kernels; quantization (bf16/FP8) and gradient checkpointing.</li>
                        <li>Leverage sliding windows/sparse patterns and cap retrieved context; cache key/values in decoding.</li>
                      </ul>
                    </div>
                  </section>

                  {/* Best Use Cases */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-fuchsia-500 rounded-full"></div>
                      Best Use Cases
                    </h2>
                    <div className="bg-gray-800/40 rounded-lg p-6 border border-gray-700/40">
                      <ul className="list-disc list-inside space-y-2 text-gray-300 text-sm">
                        <li>Sequence modeling with Transformers: MT, summarization, QA, code, speech.</li>
                        <li>Agent memory selection and reranking for context assembly in RAG/workflows.</li>
                        <li>Long‑document understanding with windowed/sparse attention.</li>
                      </ul>
                    </div>
                  </section>

                  {/* References & Further Reading */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-orange-500 rounded-full"></div>
                      References & Further Reading
                    </h2>
                    <div className="bg-gray-800/40 rounded-lg p-6 border border-gray-700/40 space-y-4">
                      <div>
                        <h3 className="text-white font-semibold mb-2 text-sm">Academic Papers</h3>
                        <ul className="list-disc list-inside space-y-1 text-gray-300 text-sm">
                          <li><a href="https://arxiv.org/abs/1409.0473" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">Neural Machine Translation by Jointly Learning to Align and Translate (Bahdanau et al., 2014)</a></li>
                          <li><a href="https://arxiv.org/abs/1508.04025" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">Effective Approaches to Attention‑based NMT (Luong et al., 2015)</a></li>
                          <li><a href="https://arxiv.org/abs/1706.03762" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">Attention Is All You Need (Vaswani et al., 2017)</a></li>
                          <li><a href="https://arxiv.org/abs/1803.02155" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">Self‑Attention with Relative Position Representations (Shaw et al., 2018)</a></li>
                          <li><a href="https://arxiv.org/abs/2001.04451" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">Reformer: The Efficient Transformer (Kitaev et al., 2020)</a></li>
                          <li><a href="https://arxiv.org/abs/2006.04768" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">Linformer: Self‑Attention with Linear Complexity (Wang et al., 2020)</a></li>
                          <li><a href="https://arxiv.org/abs/2004.05150" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">Longformer: The Long‑Document Transformer (Beltagy et al., 2020)</a></li>
                          <li><a href="https://arxiv.org/abs/2006.16236" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">Transformers are RNNs: Fast Autoregressive Transformers with Linear Attention (Katharopoulos et al., 2020)</a></li>
                          <li><a href="https://arxiv.org/abs/2104.09864" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">RoPE: Rotary Position Embedding (Su et al., 2021)</a></li>
                          <li><a href="https://arxiv.org/abs/2108.12409" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">ALiBi: Train Short, Test Long (Press et al., 2021)</a></li>
                          <li><a href="https://arxiv.org/abs/2205.14135" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">FlashAttention: Fast and Memory‑Efficient Exact Attention (Dao et al., 2022/2023)</a></li>
                        </ul>
                      </div>
                      <div>
                        <h3 className="text-white font-semibold mb-2 text-sm">Implementation Guides</h3>
                        <ul className="list-disc list-inside space-y-1 text-gray-300 text-sm">
                          <li><a href="http://nlp.seas.harvard.edu/2018/04/03/attention.html" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">The Annotated Transformer (Harvard NLP)</a></li>
                          <li><a href="https://pytorch.org/docs/stable/generated/torch.nn.MultiheadAttention.html" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">PyTorch MultiheadAttention docs</a></li>
                          <li><a href="https://huggingface.co/transformers/v4.46.0/en/model_doc/auto#transformers.AutoModel" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">Hugging Face Transformers: model docs</a></li>
                          <li><a href="https://tridao.me/publications/flashattention/" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">FlashAttention write‑up</a></li>
                        </ul>
                      </div>
                      <div>
                        <h3 className="text-white font-semibold mb-2 text-sm">Tools & Libraries</h3>
                        <ul className="list-disc list-inside space-y-1 text-gray-300 text-sm">
                          <li>PyTorch / TensorFlow / JAX</li>
                          <li><a href="https://huggingface.co/transformers" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">Hugging Face Transformers</a></li>
                          <li><a href="https://facebookresearch.github.io/xformers/" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">xFormers</a> / <a href="https://github.com/Dao-AILab/flash-attention" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">FlashAttention</a></li>
                          <li><a href="https://github.com/openai/triton" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">Triton</a></li>
                        </ul>
                      </div>
                      <div>
                        <h3 className="text-white font-semibold mb-2 text-sm">Community & Discussions</h3>
                        <ul className="list-disc list-inside space-y-1 text-gray-300 text-sm">
                          <li><a href="https://paperswithcode.com/method/attention-mechanism" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">Papers with Code: Attention Mechanisms</a></li>
                          <li><a href="https://discuss.huggingface.co/" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">Hugging Face Forums</a></li>
                          <li><a href="https://www.reddit.com/r/MachineLearning/" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">r/MachineLearning</a></li>
                        </ul>
                      </div>
                    </div>
                </section>
                </>
              ) : selectedTechnique.id === 'context-compression' ? (
                <>
                  {/* Core Mechanism (short conceptual overview) */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-blue-500 rounded-full"></div>
                      Core Mechanism (short conceptual overview)
                    </h2>
                    <div className="bg-gradient-to-br from-blue-500/10 to-purple-500/10 border border-blue-500/20 rounded-xl p-6">
                      <p className="text-gray-200 text-base leading-relaxed">
                        Context Compression reduces input tokens by distilling and encoding salient information while preserving
                        task-critical semantics. Practical systems combine extractive pruning and abstractive summarization with
                        query-aware selection to fit within model context windows, lowering latency and cost without materially
                        degrading answer quality. Supports lossy, lossless, and hybrid strategies.
                      </p>
                    </div>
                  </section>

                  {/* Workflow / Steps */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-purple-500 rounded-full"></div>
                      Workflow / Steps
                    </h2>
                    <div className="bg-gradient-to-br from-purple-500/10 to-blue-500/10 border border-purple-500/20 rounded-xl p-6">
                      <ol className="list-decimal list-inside space-y-2 text-gray-200 text-sm">
                        <li>Analyze query and input to identify task intent and preservation constraints.</li>
                        <li>Retrieve candidates (if using RAG) and score with embedding/reranking and query-aware signals.</li>
                        <li>Select compression policy (lossy/lossless/hybrid) and target ratio based on risk and length.</li>
                        <li>Apply compression: deduplicate, prune redundancy, and summarize hierarchically; keep atomic spans verbatim.</li>
                        <li>Assemble prompt with compressed evidence, citations/anchors, and brief provenance.</li>
                        <li>Run quality gates (coverage/answerability checks); relax compression if quality drops.</li>
                        <li>Log metrics (tokens saved, latency, quality) for continuous tuning.</li>
                      </ol>
                    </div>
                  </section>

                  {/* Best Practices */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-green-500 rounded-full"></div>
                      Best Practices
                    </h2>
                    <div className="grid gap-3">
                      {[
                        'Use query-aware compression; condition summaries on the actual question.',
                        'Preserve atomic data verbatim (numbers, code, API parameters, citations).',
                        'Prefer two-stage pipelines: extract relevant spans first, then summarize over them.',
                        'Tune adaptive compression ratios with quality gates and safe fallbacks.',
                        'Compress after retrieval in RAG; avoid mutating the user query intent.',
                        'Instrument offline/online evals with a no-compression control.',
                        'Maintain provenance (doc ids/anchors) for auditability and verification.',
                      ].map((tip) => (
                        <div key={tip} className="flex items-start gap-3 p-3 bg-gray-800/40 rounded-lg">
                          <Check className="w-5 h-5 text-green-400 mt-0.5 flex-shrink-0" />
                          <span className="text-gray-300 text-sm leading-relaxed">{tip}</span>
                        </div>
                      ))}
                    </div>
                  </section>

                  {/* When NOT to Use */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-red-500 rounded-full"></div>
                      When NOT to Use
                    </h2>
                    <div className="bg-gray-800/40 rounded-lg p-6 border border-gray-700/40">
                      <ul className="list-disc list-inside space-y-2 text-gray-300 text-sm">
                        <li>Inputs already fit comfortably within the model context window.</li>
                        <li>Tasks requiring verbatim fidelity (legal contracts, code diffs, compliance text).</li>
                        <li>Ultra-low-latency paths where compression overhead outweighs savings.</li>
                        <li>Low-quality retrieval where compression could hide upstream errors.</li>
                      </ul>
                    </div>
                  </section>

                  {/* Common Pitfalls */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-amber-500 rounded-full"></div>
                      Common Pitfalls
                    </h2>
                    <div className="bg-gray-800/40 rounded-lg p-6 border border-gray-700/40">
                      <ul className="list-disc list-inside space-y-2 text-gray-300 text-sm">
                        <li>Over-compression that drops key evidence or numeric details.</li>
                        <li>Summarization drift that changes meaning or introduces hallucinations.</li>
                        <li>Ignoring query intent, producing concise but irrelevant context.</li>
                        <li>Missing provenance, making answers hard to verify.</li>
                      </ul>
                    </div>
                  </section>

                  {/* Key Features */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-cyan-500 rounded-full"></div>
                      Key Features
                    </h2>
                    <div className="grid grid-cols-1 md:grid-cols-2 gap-3">
                      {[
                        'Lossy, lossless, and hybrid strategies',
                        'Query-aware relevance and retention scoring',
                        'Hierarchical summarization (doc → section → span)',
                        'Deduplication and overlap removal',
                        'Preservation of atomic spans (figures, code, identifiers)',
                        'Provenance retention for auditability',
                      ].map((feat) => (
                        <div key={feat} className="p-3 bg-gray-800/40 rounded-lg text-gray-300 text-sm border border-gray-700/40">
                          {feat}
                        </div>
                      ))}
                    </div>
                  </section>

                  {/* KPIs / Success Metrics */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-emerald-500 rounded-full"></div>
                      KPIs / Success Metrics
                    </h2>
                    <div className="bg-gray-800/40 rounded-lg p-6 border border-gray-700/40">
                      <ul className="list-disc list-inside space-y-2 text-gray-300 text-sm">
                        <li>Token reduction ratio and cost-per-query savings.</li>
                        <li>Answer quality delta vs. no-compression baseline (accuracy/F1/ROUGE where applicable).</li>
                        <li>Latency p50/p95 improvement and throughput uplift.</li>
                        <li>Coverage/recall of critical facts and citation integrity.</li>
                      </ul>
                    </div>
                  </section>

                  {/* Token / Resource Usage */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-indigo-500 rounded-full"></div>
                      Token / Resource Usage
                    </h2>
                    <div className="bg-gray-800/40 rounded-lg p-6 border border-gray-700/40">
                      <ul className="list-disc list-inside space-y-2 text-gray-300 text-sm">
                        <li>Aim for 40–80% token reduction with negligible quality loss; auto-relax on gate failures.</li>
                        <li>Account for compression compute; batch/cache for hot content and reuse summaries.</li>
                        <li>Prefer lightweight extractive pruning before heavier abstractive summarization.</li>
                      </ul>
                    </div>
                  </section>

                  {/* Best Use Cases */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-fuchsia-500 rounded-full"></div>
                      Best Use Cases
                    </h2>
                    <div className="bg-gray-800/40 rounded-lg p-6 border border-gray-700/40">
                      <ul className="list-disc list-inside space-y-2 text-gray-300 text-sm">
                        <li>Retrieval-Augmented Generation over large corpora.</li>
                        <li>Long-document QA and synthesis (reports, papers, logs).</li>
                        <li>Tool-using LLMs requiring concise API/manual snippets.</li>
                        <li>Multi-agent systems sharing a constrained context budget.</li>
                      </ul>
                    </div>
                  </section>

                  {/* References & Further Reading */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-orange-500 rounded-full"></div>
                      References & Further Reading
                    </h2>
                    <div className="bg-gray-800/40 rounded-lg p-6 border border-gray-700/40 space-y-4">
                      <div>
                        <h3 className="text-white font-semibold mb-2 text-sm">Academic Papers</h3>
                        <ul className="list-disc list-inside space-y-1 text-gray-300 text-sm">
                          <li><a href="https://arxiv.org/abs/2305.14788" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">Adapting Language Models to Compress Contexts (Chevalier et al., 2023)</a></li>
                          <li><a href="https://arxiv.org/abs/2307.06945" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">In-context Autoencoder for Context Compression (Ge et al., 2023)</a></li>
                          <li><a href="https://aclanthology.org/2024.findings-acl.974/" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">Concise and Precise Context Compression for Tool-Using LMs (Findings of ACL 2024)</a></li>
                          <li><a href="https://arxiv.org/abs/2409.01579" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">AdaComp: Extractive Context Compression with Adaptive Predictor (2024)</a></li>
                        </ul>
                      </div>
                      <div>
                        <h3 className="text-white font-semibold mb-2 text-sm">Implementation Guides</h3>
                        <ul className="list-disc list-inside space-y-1 text-gray-300 text-sm">
                          <li><a href="https://python.langchain.com/docs/modules/data_connection/retrievers/contextual_compression/" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">LangChain: Contextual Compression Retriever</a></li>
                          <li><a href="https://docs.llamaindex.ai/en/stable/examples/retrievers/contextual_compression/" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">LlamaIndex: Contextual Compression</a></li>
                        </ul>
                      </div>
                      <div>
                        <h3 className="text-white font-semibold mb-2 text-sm">Tools & Libraries</h3>
                        <ul className="list-disc list-inside space-y-1 text-gray-300 text-sm">
                          <li><a href="https://github.com/microsoft/LLMLingua" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">LLMLingua (prompt/context compression)</a></li>
                          <li><a href="https://python.langchain.com/docs/modules/data_connection/retrievers/contextual_compression/" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">LangChain: ContextualCompressionRetriever</a></li>
                          <li><a href="https://docs.llamaindex.ai/" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">LlamaIndex retrievers (context compression)</a></li>
                        </ul>
                      </div>
                      <div>
                        <h3 className="text-white font-semibold mb-2 text-sm">Community & Discussions</h3>
                        <ul className="list-disc list-inside space-y-1 text-gray-300 text-sm">
                          <li><a href="https://www.reddit.com/r/MachineLearning/" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">r/MachineLearning discussions on context compression</a></li>
                          <li><a href="https://discord.gg/langchain" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">LangChain Discord</a></li>
                        </ul>
                      </div>
                    </div>
                  </section>
                </>
              ) : selectedTechnique.id === 'context-compression-advanced' ? (
                <>
                  {/* Core Mechanism (short conceptual overview) */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-blue-500 rounded-full"></div>
                      Core Mechanism (short conceptual overview)
                    </h2>
                    <div className="bg-gradient-to-br from-blue-500/10 to-purple-500/10 border border-blue-500/20 rounded-xl p-6">
                      <p className="text-gray-200 text-base leading-relaxed">
                        Advanced Context Compression (ACC) reduces tokens while preserving task-critical semantics via query-aware selection, hybrid extractive+abstractive summarization, and adaptive policies. It prioritizes globally relevant concepts and locally critical spans (numbers, identifiers, citations), enabling longer-context reasoning, lower latency, and lower cost without materially degrading answer quality.
                      </p>
                    </div>
                  </section>

                  {/* Workflow / Steps */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-purple-500 rounded-full"></div>
                      Workflow / Steps
                    </h2>
                    <div className="bg-gradient-to-br from-purple-500/10 to-blue-500/10 border border-purple-500/20 rounded-xl p-6">
                      <ol className="list-decimal list-inside space-y-2 text-gray-200 text-sm">
                        <li>Query and context analysis: detect task intent; tag atomic spans to preserve (figures, code, ids).</li>
                        <li>Retrieval and ranking (RAG): fetch candidates; score with embedding/rerankers and query-aware signals.</li>
                        <li>Compression policy selection: choose extractive, abstractive, or hybrid based on input length, redundancy, and risk.</li>
                        <li>Apply compression: prune redundant chunks, deduplicate, summarize hierarchically; keep critical spans verbatim.</li>
                        <li>Assemble prompt: interleave compressed evidence with citations/anchors; include short provenance.</li>
                        <li>Quality gating: run lightweight checks (answerability probes, coverage heuristics) and re-compress if needed.</li>
                        <li>Evaluate and log: track token savings, latency, and answer quality for continuous policy tuning.</li>
                      </ol>
                    </div>
                  </section>

                  {/* Best Practices */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-green-500 rounded-full"></div>
                      Best Practices
                    </h2>
                    <div className="grid gap-3">
                      {[
                        'Use query-aware compression; condition summaries on the actual question rather than generic distillation.',
                        'Preserve atomic data verbatim (numbers, code, API parameters, citations) to avoid semantic drift.',
                        'Prefer two-stage pipelines: extract relevant spans first, then generate concise summaries over them.',
                        'Tune adaptive compression ratios with quality gates (fallback to less compression if coverage drops).',
                        'Compress after retrieval in RAG, not before; never compress the query itself in ways that change intent.',
                        'Instrument offline and online evals; keep a no-compression control to detect regressions.',
                        'Maintain provenance (doc ids/anchors) so answers can be validated and audited.',
                      ].map((tip) => (
                        <div key={tip} className="flex items-start gap-3 p-3 bg-gray-800/40 rounded-lg">
                          <Check className="w-5 h-5 text-green-400 mt-0.5 flex-shrink-0" />
                          <span className="text-gray-300 text-sm leading-relaxed">{tip}</span>
                        </div>
                      ))}
                    </div>
                  </section>

                  {/* When NOT to Use */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-red-500 rounded-full"></div>
                      When NOT to Use
                    </h2>
                    <div className="bg-gray-800/40 rounded-lg p-6 border border-gray-700/40">
                      <ul className="list-disc list-inside space-y-2 text-gray-300 text-sm">
                        <li>Inputs already fit comfortably within the model window.</li>
                        <li>Tasks requiring verbatim fidelity (legal contracts, code diffs, compliance text).</li>
                        <li>Ultra-low-latency paths where compression overhead outweighs token savings.</li>
                        <li>Poor retrieval quality (garbage in, garbage out) where compression hides retrieval issues.</li>
                      </ul>
                    </div>
                  </section>

                  {/* Common Pitfalls */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-amber-500 rounded-full"></div>
                      Common Pitfalls
                    </h2>
                    <div className="bg-gray-800/40 rounded-lg p-6 border border-gray-700/40">
                      <ul className="list-disc list-inside space-y-2 text-gray-300 text-sm">
                        <li>Over-compression that drops key evidence or numeric details.</li>
                        <li>Summarization drift that changes meaning or introduces hallucinations.</li>
                        <li>Ignoring query intent, leading to irrelevant but concise context.</li>
                        <li>Lack of provenance, making answers unverifiable.</li>
                      </ul>
                    </div>
                  </section>

                  {/* Key Features */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-cyan-500 rounded-full"></div>
                      Key Features
                    </h2>
                    <div className="grid grid-cols-1 md:grid-cols-2 gap-3">
                      {[
                        'Hybrid extractive + abstractive compression',
                        'Query-aware relevance and retention scoring',
                        'Adaptive, quality-gated compression ratios',
                        'Hierarchical summarization (doc → section → span)',
                        'Deduplication and cross-document overlap removal',
                        'Preservation of atomic spans (figures, code, ids)',
                        'Provenance retention for auditability',
                      ].map((feat) => (
                        <div key={feat} className="p-3 bg-gray-800/40 rounded-lg text-gray-300 text-sm border border-gray-700/40">
                          {feat}
                        </div>
                      ))}
                    </div>
                  </section>

                  {/* KPIs / Success Metrics */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-emerald-500 rounded-full"></div>
                      KPIs / Success Metrics
                    </h2>
                    <div className="bg-gray-800/40 rounded-lg p-6 border border-gray-700/40">
                      <ul className="list-disc list-inside space-y-2 text-gray-300 text-sm">
                        <li>Token reduction ratio and cost per query savings.</li>
                        <li>Answer quality delta vs. no-compression baseline (accuracy/F1/ROUGE where applicable).</li>
                        <li>Latency p50/p95 improvement and throughput uplift.</li>
                        <li>Coverage/recall of critical facts and reference integrity.</li>
                      </ul>
                    </div>
                  </section>

                  {/* Token / Resource Usage */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-indigo-500 rounded-full"></div>
                      Token / Resource Usage
                    </h2>
                    <div className="bg-gray-800/40 rounded-lg p-6 border border-gray-700/40">
                      <ul className="list-disc list-inside space-y-2 text-gray-300 text-sm">
                        <li>Aim for 40–80% token reduction with negligible quality loss; auto-relax when quality gates fail.</li>
                        <li>Account for compression compute cost; batch and cache compression for hot content.</li>
                        <li>Prefer lightweight extractive pruning before heavier abstractive summarization.</li>
                      </ul>
                    </div>
                  </section>

                  {/* Best Use Cases */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-fuchsia-500 rounded-full"></div>
                      Best Use Cases
                    </h2>
                    <div className="bg-gray-800/40 rounded-lg p-6 border border-gray-700/40">
                      <ul className="list-disc list-inside space-y-2 text-gray-300 text-sm">
                        <li>Retrieval-Augmented Generation over large corpora.</li>
                        <li>Long-document QA and synthesis (reports, papers, logs).</li>
                        <li>Tool-using LLMs requiring concise API/manual snippets.</li>
                        <li>Multi-agent systems sharing a constrained context budget.</li>
                      </ul>
                    </div>
                  </section>

                  {/* References & Further Reading */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-orange-500 rounded-full"></div>
                      References & Further Reading
                    </h2>
                    <div className="bg-gray-800/40 rounded-lg p-6 border border-gray-700/40 space-y-4">
                      <div>
                        <h3 className="text-white font-semibold mb-2 text-sm">Academic Papers</h3>
                        <ul className="list-disc list-inside space-y-1 text-gray-300 text-sm">
                          <li><a href="https://arxiv.org/abs/2305.14788" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">Adapting Language Models to Compress Contexts (Chevalier et al., 2023)</a></li>
                          <li><a href="https://arxiv.org/abs/2307.06945" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">In-context Autoencoder for Context Compression (Ge et al., 2023)</a></li>
                          <li><a href="https://aclanthology.org/2024.findings-acl.974/" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">Concise and Precise Context Compression for Tool-Using LMs (Findings of ACL 2024)</a></li>
                          <li><a href="https://arxiv.org/abs/2409.01579" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">AdaComp: Extractive Context Compression with Adaptive Predictor (2024)</a></li>
                        </ul>
                      </div>
                      <div>
                        <h3 className="text-white font-semibold mb-2 text-sm">Implementation Guides</h3>
                        <ul className="list-disc list-inside space-y-1 text-gray-300 text-sm">
                          <li><a href="https://python.langchain.com/docs/modules/data_connection/retrievers/contextual_compression/" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">LangChain: Contextual Compression Retriever</a></li>
                          <li><a href="https://docs.llamaindex.ai/en/stable/examples/retrievers/contextual_compression/" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">LlamaIndex: Contextual Compression</a></li>
                        </ul>
                      </div>
                      <div>
                        <h3 className="text-white font-semibold mb-2 text-sm">Tools & Libraries</h3>
                        <ul className="list-disc list-inside space-y-1 text-gray-300 text-sm">
                          <li><a href="https://github.com/microsoft/LLMLingua" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">LLMLingua (prompt/context compression)</a></li>
                          <li><a href="https://python.langchain.com/docs/modules/data_connection/retrievers/contextual_compression/" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">LangChain: ContextualCompressionRetriever</a></li>
                          <li><a href="https://docs.llamaindex.ai/" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">LlamaIndex retrievers (context compression)</a></li>
                        </ul>
                      </div>
                      <div>
                        <h3 className="text-white font-semibold mb-2 text-sm">Community & Discussions</h3>
                        <ul className="list-disc list-inside space-y-1 text-gray-300 text-sm">
                          <li><a href="https://www.reddit.com/r/MachineLearning/" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">r/MachineLearning discussions on context compression</a></li>
                          <li><a href="https://discord.gg/langchain" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">LangChain Discord</a></li>
                        </ul>
                      </div>
                    </div>
                  </section>
                </>
              ) : selectedTechnique.id === 'gossip-protocols' ? (
                <>
                  {/* Core Mechanism (short conceptual overview) */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-blue-500 rounded-full"></div>
                      Core Mechanism (short conceptual overview)
                    </h2>
                    <div className="bg-gradient-to-br from-blue-500/10 to-purple-500/10 border border-blue-500/20 rounded-xl p-6">
                      <p className="text-gray-200 text-base leading-relaxed">
                        Decentralized, epidemic-style dissemination where nodes periodically exchange compact digests and updates with
                        a small, randomly sampled set of peers. Redundant, randomized fan-out plus anti-entropy yields rapid,
                        probabilistic spread, eventual consistency, and robustness under churn and failures.
                      </p>
                    </div>
                  </section>

                  {/* Workflow / Steps */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-purple-500 rounded-full"></div>
                      Workflow / Steps
                    </h2>
                    <div className="bg-gradient-to-br from-purple-500/10 to-blue-500/10 border border-purple-500/20 rounded-xl p-6">
                      <ol className="list-decimal list-inside space-y-2 text-gray-200 text-sm">
                        <li>Peer sampling: maintain a partial, randomized view (e.g., SWIM/HyParView) of healthy peers.</li>
                        <li>Round tick: at interval T, select k peers (fan-out) uniformly at random (with jitter/backoff).</li>
                        <li>Exchange: push, pull, or push-pull digests (ids, versions, vector clocks) and request missing deltas.</li>
                        <li>Apply updates: reconcile by version/vector clocks; ignore duplicates; honor tombstones/TTLs.</li>
                        <li>Piggyback: attach membership/failure-detector metadata to gossip messages.</li>
                        <li>Failure detection (SWIM-style): ping; on timeout, indirect ping via r relays; mark suspect → confirm.</li>
                        <li>Convergence: continue until coverage and freshness targets are met; decay or TTL old rumors.</li>
                      </ol>
                    </div>
                  </section>

                  {/* Best Practices */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-green-500 rounded-full"></div>
                      Best Practices
                    </h2>
                    <div className="grid gap-3">
                      {[
                        'Adopt proven membership + failure detection (SWIM, Lifeguard) with indirect pings and local health scoring.',
                        'Maintain partial views (HyParView) and periodically shuffle peers to avoid selection bias and silos.',
                        'Prefer push-pull anti-entropy with compact digests; deduplicate by message id/version/timestamp.',
                        'Tune interval (T), fan-out (k), and payload caps by load tests; add jitter and backoff under congestion.',
                        'Piggyback small membership deltas on app gossip; compress payloads and cap per-tick bytes.',
                        'Secure channels (mTLS/keys); authenticate/sign membership; rate-limit and score peers to mitigate abuse.',
                        'Instrument convergence time, coverage %, suspicion false± rates, bandwidth/node, and drop/error rates.',
                      ].map((tip) => (
                        <div key={tip} className="flex items-start gap-3 p-3 bg-gray-800/40 rounded-lg">
                          <Check className="w-5 h-5 text-green-400 mt-0.5 flex-shrink-0" />
                          <span className="text-gray-300 text-sm leading-relaxed">{tip}</span>
                        </div>
                      ))}
                    </div>
                  </section>

                  {/* When NOT to Use */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-red-500 rounded-full"></div>
                      When NOT to Use
                    </h2>
                    <div className="bg-gray-800/40 rounded-lg p-6 border border-gray-700/40">
                      <ul className="list-disc list-inside space-y-2 text-gray-300 text-sm">
                        <li>Strong, immediate consistency or strict global ordering is required.</li>
                        <li>Hard real-time latency budgets incompatible with probabilistic propagation.</li>
                        <li>Highly adversarial networks without authentication, peer scoring, and rate controls.</li>
                        <li>Very small clusters where deterministic RPC/broadcast is simpler and cheaper.</li>
                      </ul>
                    </div>
                  </section>

                  {/* Common Pitfalls */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-amber-500 rounded-full"></div>
                      Common Pitfalls
                    </h2>
                    <div className="bg-gray-800/40 rounded-lg p-6 border border-gray-700/40">
                      <ul className="list-disc list-inside space-y-2 text-gray-300 text-sm">
                        <li>Peer-selection bias → slow convergence or partitions; missing periodic shuffles.</li>
                        <li>Unbounded rumor lifetimes → duplicate traffic; lack of TTLs/tombstones/versioning.</li>
                        <li>Over-aggressive suspicion thresholds → false positives and flapping under load.</li>
                        <li>Insufficient authentication/ACLs → poisoning and Sybil-style amplification.</li>
                        <li>Fan-out/interval mis-tuned → either excessive bandwidth or slow coverage.</li>
                      </ul>
                    </div>
                  </section>

                  {/* Key Features */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-cyan-500 rounded-full"></div>
                      Key Features
                    </h2>
                    <div className="grid grid-cols-1 md:grid-cols-2 gap-3">
                      {[
                        'Randomized peer sampling and partial views',
                        'Push/pull anti-entropy with compact digests',
                        'SWIM-style failure detection with piggybacking',
                        'Eventual consistency with probabilistic guarantees',
                        'Resilience to churn, partitions, and message loss',
                        'Scalable fan-out with bounded per-node load',
                        'Configurable mesh overlays (e.g., GossipSub)',
                        'Security: auth, encryption, peer scoring',
                      ].map((feat) => (
                        <div key={feat} className="p-3 bg-gray-800/40 rounded-lg text-gray-300 text-sm border border-gray-700/40">
                          {feat}
                        </div>
                      ))}
                    </div>
                  </section>

                  {/* KPIs / Success Metrics */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-emerald-500 rounded-full"></div>
                      KPIs / Success Metrics
                    </h2>
                    <div className="bg-gray-800/40 rounded-lg p-6 border border-gray-700/40">
                      <ul className="list-disc list-inside space-y-2 text-gray-300 text-sm">
                        <li>Convergence time (rounds/seconds) to reach X% coverage.</li>
                        <li>Bandwidth per node (p50/p95) and total message overhead.</li>
                        <li>Failure-detector accuracy: false positive/negative rates; MTTR.</li>
                        <li>Coverage under churn/partition; time-to-heal after merges.</li>
                        <li>CPU/memory overhead and backpressure drops under load.</li>
                      </ul>
                    </div>
                  </section>

                  {/* Token / Resource Usage */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-indigo-500 rounded-full"></div>
                      Token / Resource Usage
                    </h2>
                    <div className="bg-gray-800/40 rounded-lg p-6 border border-gray-700/40">
                      <ul className="list-disc list-inside space-y-2 text-gray-300 text-sm">
                        <li>Network: O(k) messages per node per tick; payload = digest + optional deltas + piggyback.</li>
                        <li>CPU: digest build/merge, version checks, (optional) crypto verify/sign.</li>
                        <li>Memory: partial views, message-id caches, tombstones, mesh state.</li>
                        <li>Heuristics: cap fan-out, compress payloads, jitter ticks, and batch deltas.</li>
                      </ul>
                    </div>
                  </section>

                  {/* Best Use Cases */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-fuchsia-500 rounded-full"></div>
                      Best Use Cases
                    </h2>
                    <div className="bg-gray-800/40 rounded-lg p-6 border border-gray-700/40">
                      <ul className="list-disc list-inside space-y-2 text-gray-300 text-sm">
                        <li>Cluster membership and failure detection (service discovery, schedulers).</li>
                        <li>Configuration/feature-flag propagation; cache invalidation at scale.</li>
                        <li>Pub/sub overlays (e.g., libp2p GossipSub) for decentralized messaging.</li>
                        <li>Distributed databases for replica state exchange (e.g., Dynamo-style systems).</li>
                        <li>Aggregation in sensor/edge networks (push-sum, averaging).</li>
                      </ul>
                    </div>
                  </section>

                  {/* References & Further Reading */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-orange-500 rounded-full"></div>
                      References & Further Reading
                    </h2>
                    <div className="bg-gray-800/40 rounded-lg p-6 border border-gray-700/40 space-y-4">
                      <div>
                        <h3 className="text-white font-semibold mb-2 text-sm">Academic Papers</h3>
                        <ul className="list-disc list-inside space-y-1 text-gray-300 text-sm">
                          <li><a href="https://dl.acm.org/doi/10.1145/41840.41841" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">Demers et al. Epidemic Algorithms for Replicated Database Maintenance (1987)</a></li>
                          <li><a href="https://www.cs.cornell.edu/~asdas/research/dsn02-swim.pdf" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">Das et al. SWIM: Scalable Weakly-consistent Infection-style Membership (2002)</a></li>
                          <li><a href="https://arxiv.org/abs/1707.00788" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">Lifeguard: Local Health and Suspicion for SWIM (2018)</a></li>
                          <li><a href="https://asc.di.fct.unl.pt/~jleitao/pdf/hyparview-dsn07.pdf" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">HyParView: Membership for Reliable Gossip-based Broadcast (2007)</a></li>
                          <li><a href="https://ieeexplore.ieee.org/document/4273023" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">Epidemic Broadcast Trees / Plumtree (2007)</a></li>
                          <li><a href="https://arxiv.org/abs/2007.02739" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">GossipSub: Robust PubSub at Scale (v1.1)</a></li>
                          <li><a href="https://www.allthingsdistributed.com/files/amazon-dynamo-sosp2007.pdf" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">DeCandia et al. Dynamo: Amazon’s Highly Available Key-value Store (2007)</a></li>
                        </ul>
                      </div>
                      <div>
                        <h3 className="text-white font-semibold mb-2 text-sm">Implementation Guides</h3>
                        <ul className="list-disc list-inside space-y-1 text-gray-300 text-sm">
                          <li><a href="https://cassandra.apache.org/doc/latest/architecture/gossip.html" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">Apache Cassandra: Gossip Architecture</a></li>
                          <li><a href="https://developer.hashicorp.com/consul/docs/architecture/gossip" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">HashiCorp Consul: Gossip & Failure Detection</a></li>
                          <li><a href="https://www.serf.io/docs/internals/gossip.html" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">Serf Internals: Gossip</a></li>
                          <li><a href="https://doc.akka.io/docs/akka/current/typed/cluster.html" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">Akka Cluster: Membership and Failure Detector</a></li>
                          <li><a href="https://github.com/libp2p/specs/tree/master/pubsub/gossipsub" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">libp2p Gossipsub Specification</a></li>
                        </ul>
                      </div>
                      <div>
                        <h3 className="text-white font-semibold mb-2 text-sm">Tools & Libraries</h3>
                        <ul className="list-disc list-inside space-y-1 text-gray-300 text-sm">
                          <li><a href="https://github.com/hashicorp/memberlist" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">HashiCorp memberlist (Go)</a></li>
                          <li><a href="https://www.serf.io/" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">Serf (cluster membership daemon)</a></li>
                          <li><a href="https://peersim.sourceforge.net/" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">PeerSim (gossip simulations)</a></li>
                          <li><a href="https://ssbc.github.io/scuttlebutt-protocol-guide/" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">Secure Scuttlebutt protocol guide</a></li>
                        </ul>
                      </div>
                      <div>
                        <h3 className="text-white font-semibold mb-2 text-sm">Community & Discussions</h3>
                        <ul className="list-disc list-inside space-y-1 text-gray-300 text-sm">
                          <li><a href="https://dl.acm.org/doi/10.1145/1317379.1317382" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">Birman: The Promise and Limitations of Gossip Protocols (OSR 2007)</a></li>
                          <li><a href="https://research.libp2p.io/" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">libp2p research notes on pub/sub and scoring</a></li>
                        </ul>
                      </div>
                    </div>
                  </section>
                </>
              ) : selectedTechnique.id === 'conversational-orchestration' ? (
                <>
                  {/* Core Mechanism (short conceptual overview) */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-blue-500 rounded-full"></div>
                      Core Mechanism (short conceptual overview)
                    </h2>
                    <div className="bg-gradient-to-br from-blue-500/10 to-purple-500/10 border border-blue-500/20 rounded-xl p-6">
                      <p className="text-gray-200 text-base leading-relaxed">
                        Multi-agent coordination through structured, stateful conversation. A supervisor/router selects which
                        agent speaks or acts next based on intent, context, and policy; agents exchange messages, call tools,
                        and update shared conversation state. The orchestrator maintains memory, enforces guardrails, and
                        terminates when success criteria are met, yielding a summarized, traceable outcome.
                      </p>
                    </div>
                  </section>

                  {/* Workflow / Steps */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-purple-500 rounded-full"></div>
                      Workflow / Steps
                    </h2>
                    <div className="bg-gradient-to-br from-purple-500/10 to-blue-500/10 border border-purple-500/20 rounded-xl p-6">
                      <ol className="list-decimal list-inside space-y-2 text-gray-200 text-sm">
                        <li>Intake: normalize goal, constraints, user profile, and initial context/memory.</li>
                        <li>Initialize roles: register agents/tools; define capabilities and policies.</li>
                        <li>Turn loop: route → agent speaks/acts → tools/retrieval → observe → update shared state.</li>
                        <li>Safety: apply input/output filters, validations, and auth scopes each turn.</li>
                        <li>Stopping: detect completion/impasse via heuristics or explicit success predicates.</li>
                        <li>Summarize: distill final answer, provenance, and next-step recommendations.</li>
                        <li>Learn: log traces, evals, costs; refine routing and prompts based on outcomes.</li>
                      </ol>
                    </div>
                  </section>

                  {/* Best Practices */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-green-500 rounded-full"></div>
                      Best Practices
                    </h2>
                    <div className="grid gap-3">
                      {[
                        'Use an explicit router/supervisor with typed state; keep steps idempotent.',
                        'Prefer small, fast models for routing/critique; reserve large models for hard reasoning.',
                        'Bound loops: max turns, per-turn token caps, wall-clock timeouts, and cancellation.',
                        'Maintain conversation memory with summarization and schema-based context packing.',
                        'Instrument traces, costs, latencies, tool I/O, and safety events; add regression evals.',
                        'Apply least-privilege credentials; validate tool outputs; implement circuit breakers.',
                        'Design clear role prompts and message schemas to avoid ambiguity and ping-pong loops.',
                      ].map((tip) => (
                        <div key={tip} className="flex items-start gap-3 p-3 bg-gray-800/40 rounded-lg">
                          <Check className="w-5 h-5 text-green-400 mt-0.5 flex-shrink-0" />
                          <span className="text-gray-300 text-sm leading-relaxed">{tip}</span>
                        </div>
                      ))}
                    </div>
                  </section>

                  {/* When NOT to Use */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-red-500 rounded-full"></div>
                      When NOT to Use
                    </h2>
                    <div className="bg-gray-800/40 rounded-lg p-6 border border-gray-700/40">
                      <ul className="list-disc list-inside space-y-2 text-gray-300 text-sm">
                        <li>Simple, single-step tasks where a single agent/tool suffices within SLOs.</li>
                        <li>Strict real-time paths with tight p95 latency budgets sensitive to turn-taking overhead.</li>
                        <li>High-risk actions without human review, auditing, or robust policy enforcement.</li>
                        <li>Teams lacking observability, evals, and operations maturity to monitor multi-agent flows.</li>
                      </ul>
                    </div>
                  </section>

                  {/* Common Pitfalls */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-amber-500 rounded-full"></div>
                      Common Pitfalls
                    </h2>
                    <div className="bg-gray-800/40 rounded-lg p-6 border border-gray-700/40">
                      <ul className="list-disc list-inside space-y-2 text-gray-300 text-sm">
                        <li>Agent ping-pong and recursion causing cost/token blowups.</li>
                        <li>Context drift and stale/shared state inconsistencies across turns.</li>
                        <li>Unvalidated tool effects, missing idempotency, or duplicate writes on retries.</li>
                        <li>Privilege creep: broad API scopes or long-lived secrets for many agents.</li>
                      </ul>
                    </div>
                  </section>

                  {/* Key Features */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-cyan-500 rounded-full"></div>
                      Key Features
                    </h2>
                    <div className="grid grid-cols-1 md:grid-cols-2 gap-3">
                      {[
                        'Supervisor/router with policy- and capability-aware routing',
                        'Role registry and message schema for structured conversations',
                        'Stateful memory with summarization and retrieval integration',
                        'Tool/function calling with validation and guardrails',
                        'Parallel subthreads with arbitration/consensus when safe',
                        'Graph-based control (e.g., state graphs) for complex flows',
                        'Human-in-the-loop handoff and escalation paths',
                        'Full observability: traces, metrics, audits',
                      ].map((feat) => (
                        <div key={feat} className="p-3 bg-gray-800/40 rounded-lg text-gray-300 text-sm border border-gray-700/40">
                          {feat}
                        </div>
                      ))}
                    </div>
                  </section>

                  {/* KPIs / Success Metrics */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-emerald-500 rounded-full"></div>
                      KPIs / Success Metrics
                    </h2>
                    <div className="bg-gray-800/40 rounded-lg p-6 border border-gray-700/40">
                      <ul className="list-disc list-inside space-y-2 text-gray-300 text-sm">
                        <li>Task resolution rate; handoff success; judge/arbiter agreement when used.</li>
                        <li>Turns to resolution; p50/p95 end-to-end latency; stuck/aborted session rate.</li>
                        <li>Cost/tokens per successful resolution; router accuracy vs ground truth.</li>
                        <li>Escalation-to-human rate; safety intervention frequency; MTTR by failure type.</li>
                      </ul>
                    </div>
                  </section>

                  {/* Token / Resource Usage */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-indigo-500 rounded-full"></div>
                      Token / Resource Usage
                    </h2>
                    <div className="bg-gray-800/40 rounded-lg p-6 border border-gray-700/40">
                      <ul className="list-disc list-inside space-y-2 text-gray-300 text-sm">
                        <li>Cap turns and per-turn tokens; compress context; cache conversation summaries.</li>
                        <li>Use small models for routing/classification; batch safe tool calls; parallelize where possible.</li>
                        <li>Apply backpressure/queues; per-edge timeouts and circuit breakers; stream partial outputs.</li>
                        <li>TTL for memory entries; checkpoint state for recovery; avoid unbounded fan-out.</li>
                      </ul>
                    </div>
                  </section>

                  {/* Best Use Cases */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-fuchsia-500 rounded-full"></div>
                      Best Use Cases
                    </h2>
                    <div className="bg-gray-800/40 rounded-lg p-6 border border-gray-700/40">
                      <ul className="list-disc list-inside space-y-2 text-gray-300 text-sm">
                        <li>Customer support triage with tool use, retrieval, and structured escalation.</li>
                        <li>Research, analysis, and drafting using expert debate/judge patterns.</li>
                        <li>Incident response and operations runbooks with multi-role collaboration.</li>
                        <li>Sales discovery and solutioning with role-based assistants and guardrails.</li>
                      </ul>
                    </div>
                  </section>

                  {/* References & Further Reading */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-orange-500 rounded-full"></div>
                      References & Further Reading
                    </h2>
                    <div className="bg-gray-800/40 rounded-lg p-6 border border-gray-700/40 space-y-4">
                      <div>
                        <h3 className="text-white font-semibold mb-2 text-sm">Academic Papers</h3>
                        <ul className="list-disc list-inside space-y-1 text-gray-300 text-sm">
                          <li><a href="https://arxiv.org/abs/2308.08155" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">AutoGen: Multi-Agent Conversation Framework (2023)</a></li>
                          <li><a href="https://arxiv.org/abs/2210.03629" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">ReAct: Synergizing Reasoning and Acting (2022)</a></li>
                          <li><a href="https://arxiv.org/abs/2303.05431" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">CAMEL: Communicative Agents for Role-Playing (2023)</a></li>
                          <li><a href="https://arxiv.org/abs/1812.10757" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">Alexa Prize: Open Domain Dialog Systems (2018)</a></li>
                        </ul>
                      </div>
                      <div>
                        <h3 className="text-white font-semibold mb-2 text-sm">Implementation Guides</h3>
                        <ul className="list-disc list-inside space-y-1 text-gray-300 text-sm">
                          <li><a href="https://langchain-ai.github.io/langgraph/" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">LangGraph Documentation (stateful multi-agent graphs)</a></li>
                          <li><a href="https://learn.microsoft.com/azure/architecture/ai-ml/guide/ai-agent-design-patterns" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">Microsoft Azure: AI Agent Design Patterns</a></li>
                          <li><a href="https://docs.aws.amazon.com/prescriptive-guidance/latest/agentic-ai-patterns/workflow-orchestration-agents.html" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">AWS Prescriptive Guidance: Workflow Orchestration Agents</a></li>
                        </ul>
                      </div>
                      <div>
                        <h3 className="text-white font-semibold mb-2 text-sm">Tools & Libraries</h3>
                        <ul className="list-disc list-inside space-y-1 text-gray-300 text-sm">
                          <li><a href="https://github.com/langchain-ai/langgraph" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">LangGraph</a></li>
                          <li><a href="https://microsoft.github.io/autogen/" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">AutoGen</a></li>
                          <li><a href="https://github.com/openai/swarm" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">OpenAI Swarm</a></li>
                          <li><a href="https://www.crewai.com/" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">CrewAI</a></li>
                          <li><a href="https://docs.llamaindex.ai/en/stable/understanding/agents/" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">LlamaIndex Agents</a></li>
                          <li><a href="https://rasa.com/" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">Rasa (dialogue management)</a></li>
                        </ul>
                      </div>
                      <div>
                        <h3 className="text-white font-semibold mb-2 text-sm">Community & Discussions</h3>
                        <ul className="list-disc list-inside space-y-1 text-gray-300 text-sm">
                          <li><a href="https://github.com/langchain-ai/langgraph/discussions" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">LangGraph Discussions</a></li>
                          <li><a href="https://github.com/microsoft/autogen" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">AutoGen GitHub</a></li>
                          <li><a href="https://github.com/openai/swarm" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">OpenAI Swarm GitHub</a></li>
                          <li><a href="https://forum.rasa.com/" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">Rasa Community Forum</a></li>
                        </ul>
                      </div>
                    </div>
                  </section>
                </>
              ) : selectedTechnique.id === 'role-based-teamwork' ? (
                <>
                  {/* Core Mechanism (short conceptual overview) */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-blue-500 rounded-full"></div>
                      Core Mechanism (short conceptual overview)
                    </h2>
                    <div className="bg-gradient-to-br from-blue-500/10 to-pink-500/10 border border-blue-500/20 rounded-xl p-6">
                      <p className="text-gray-200 text-base leading-relaxed">
                        Structured multi-agent collaboration where each agent is assigned a clear role (e.g., supervisor, planner,
                        researcher, implementer, reviewer, verifier/judge, tool specialist) with defined responsibilities,
                        capabilities, and permissions. Roles coordinate via typed messages and artifact handoffs, enabling division
                        of labor, accountability, and repeatable workflows. Common implementations use supervisor–worker or
                        scheduler patterns with least‑privilege credentials and auditable handoffs.
                      </p>
                    </div>
                  </section>

                  {/* Workflow / Steps */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-purple-500 rounded-full"></div>
                      Workflow / Steps
                    </h2>
                    <div className="bg-gradient-to-br from-purple-500/10 to-pink-500/10 border border-purple-500/20 rounded-xl p-6">
                      <ol className="list-decimal list-inside space-y-2 text-gray-200 text-sm">
                        <li>Define role catalog: supervisor, planner, researcher, implementer, reviewer, verifier/judge, tool ops.</li>
                        <li>Instantiate team: bind prompts, tools, credentials, SLAs, and budgets to each role.</li>
                        <li>Intake and triage: normalize goal, constraints, risk, and evaluation rubric.</li>
                        <li>Plan and assign: planner decomposes tasks; supervisor assigns to roles with acceptance criteria.</li>
                        <li>Execute loops: roles act with tools/retrieval; produce structured artifacts and traces.</li>
                        <li>Handoffs: reviewer/verifier validate outputs; resolve conflicts or request revisions.</li>
                        <li>Escalation: supervisor routes exceptions; optional human‑in‑the‑loop for high‑risk steps.</li>
                        <li>Synthesize and deliver: compile final output with provenance and metrics.</li>
                        <li>Learn and update: refine role prompts, policies, and routing from outcomes.</li>
                      </ol>
                    </div>
                  </section>

                  {/* Best Practices */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-green-500 rounded-full"></div>
                      Best Practices
                    </h2>
                    <div className="grid gap-3">
                      {[
                        'Create explicit role cards (purpose, inputs/outputs, tools, guardrails, success criteria).',
                        'Use capability/permission scopes and short‑lived credentials per role (least privilege).',
                        'Standardize handoff schemas (task, artifact refs, confidence, costs, next actions).',
                        'Bound loops and depth; cap per‑role tokens, time, and retries to avoid ping‑pong.',
                        'Summarize across handoffs; store large artifacts externally and pass references.',
                        'Prefer small models for routing/checks; reserve larger models for hard reasoning roles.',
                        'Instrument per‑role metrics: utilization, handoff acceptance, rework, cost, and latency.',
                        'Add human review gates for safety‑critical or high‑impact decisions.',
                      ].map((tip) => (
                        <div key={tip} className="flex items-start gap-3 p-3 bg-gray-800/40 rounded-lg">
                          <Check className="w-5 h-5 text-green-400 mt-0.5 flex-shrink-0" />
                          <span className="text-gray-300 text-sm leading-relaxed">{tip}</span>
                        </div>
                      ))}
                    </div>
                  </section>

                  {/* When NOT to Use */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-red-500 rounded-full"></div>
                      When NOT to Use
                    </h2>
                    <div className="bg-gray-800/40 rounded-lg p-6 border border-gray-700/40">
                      <ul className="list-disc list-inside space-y-2 text-gray-300 text-sm">
                        <li>Simple, single‑step tasks where a single agent meets quality and SLOs.</li>
                        <li>Strict real‑time paths where additional handoffs break latency budgets.</li>
                        <li>Poorly specified goals where role boundaries and acceptance criteria cannot be defined.</li>
                        <li>Highly coupled tasks requiring continuous shared context best handled by one agent.</li>
                      </ul>
                    </div>
                  </section>

                  {/* Common Pitfalls */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-amber-500 rounded-full"></div>
                      Common Pitfalls
                    </h2>
                    <div className="bg-gray-800/40 rounded-lg p-6 border border-gray-700/40">
                      <ul className="list-disc list-inside space-y-2 text-gray-300 text-sm">
                        <li>Unbounded role ping‑pong and re‑review cycles causing token/cost blowups.</li>
                        <li>Ambiguous ownership; unclear acceptance criteria for role outputs.</li>
                        <li>Permission sprawl or long‑lived tokens beyond role scope.</li>
                        <li>Context drift and stale memory across roles without summarization.</li>
                      </ul>
                    </div>
                  </section>

                  {/* Key Features */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-cyan-500 rounded-full"></div>
                      Key Features
                    </h2>
                    <div className="grid grid-cols-1 md:grid-cols-2 gap-3">
                      {[
                        'Explicit role definitions with scopes and policies',
                        'Supervisor/scheduler for assignment and escalation',
                        'Typed messages and artifact‑centric handoffs',
                        'Per‑role budgets, SLAs, and utilization tracking',
                        'Guardrails and approvals on sensitive actions',
                        'Observability: traces, costs, provenance, and audits',
                      ].map((feat) => (
                        <div key={feat} className="p-3 bg-gray-800/40 rounded-lg text-gray-300 text-sm border border-gray-700/40">
                          {feat}
                        </div>
                      ))}
                    </div>
                  </section>

                  {/* KPIs / Success Metrics */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-emerald-500 rounded-full"></div>
                      KPIs / Success Metrics
                    </h2>
                    <div className="bg-gray-800/40 rounded-lg p-6 border border-gray-700/40">
                      <ul className="list-disc list-inside space-y-2 text-gray-300 text-sm">
                        <li>End‑to‑end task success; per‑role handoff acceptance and first‑pass yield.</li>
                        <li>Rework rate; escalation rate; MTTR with/without human assist.</li>
                        <li>Tokens/time/cost per successful task and per role; utilization by role.</li>
                        <li>Verifier/judge agreement and policy compliance rates.</li>
                      </ul>
                    </div>
                  </section>

                  {/* Token / Resource Usage */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-indigo-500 rounded-full"></div>
                      Token / Resource Usage
                    </h2>
                    <div className="bg-gray-800/40 rounded-lg p-6 border border-gray-700/40">
                      <ul className="list-disc list-inside space-y-2 text-gray-300 text-sm">
                        <li>Set per‑role token/time budgets and stop criteria; summarize on each handoff.</li>
                        <li>Use small models for routing/checks; cache retrievals and artifacts for reuse.</li>
                        <li>Cap concurrency and retries per role; stream partials and early‑exit on confidence.</li>
                        <li>Store large artifacts externally; pass compact references and provenance.</li>
                      </ul>
                    </div>
                  </section>

                  {/* Best Use Cases */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-fuchsia-500 rounded-full"></div>
                      Best Use Cases
                    </h2>
                    <div className="bg-gray-800/40 rounded-lg p-6 border border-gray-700/40">
                      <ul className="list-disc list-inside space-y-2 text-gray-300 text-sm">
                        <li>Software development lifecycle: planner → coder → reviewer → tester → deploy.</li>
                        <li>Research and content production: researcher → writer → editor → fact‑checker.</li>
                        <li>Customer support and triage: classifier → specialist → quality verifier.</li>
                        <li>Due diligence and audits: evidence gathering → analysis → verification → report.</li>
                      </ul>
                    </div>
                  </section>

                  {/* References & Further Reading */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-orange-500 rounded-full"></div>
                      References & Further Reading
                    </h2>
                    <div className="bg-gray-800/40 rounded-lg p-6 border border-gray-700/40 space-y-4">
                      <div>
                        <h3 className="text-white font-semibold mb-2 text-sm">Academic Papers</h3>
                        <ul className="list-disc list-inside space-y-1 text-gray-300 text-sm">
                          <li><a href="https://arxiv.org/abs/2308.08155" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">AutoGen: Multi‑Agent Conversation Framework (2023)</a></li>
                          <li><a href="https://arxiv.org/abs/2303.05431" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">CAMEL: Communicative Agents for Role‑Playing (2023)</a></li>
                          <li><a href="https://arxiv.org/abs/2402.14034" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">AgentScope: Flexible Multi‑Agent Platform (2024)</a></li>
                        </ul>
                      </div>
                      <div>
                        <h3 className="text-white font-semibold mb-2 text-sm">Implementation Guides</h3>
                        <ul className="list-disc list-inside space-y-1 text-gray-300 text-sm">
                          <li><a href="https://learn.microsoft.com/en-us/azure/architecture/ai-ml/guide/ai-agent-design-patterns" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">Microsoft Azure: AI Agent Design Patterns (2024/2025)</a></li>
                          <li><a href="https://docs.aws.amazon.com/prescriptive-guidance/latest/agentic-ai-patterns/workflow-orchestration-agents.html" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">AWS Prescriptive Guidance: Workflow Orchestration Agents (2024/2025)</a></li>
                          <li><a href="https://langchain-ai.github.io/langgraph/" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">LangGraph Documentation: Supervisors and Graph Teams</a></li>
                          <li><a href="https://docs.llamaindex.ai/en/stable/understanding/agents/" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">LlamaIndex: Agents and Supervisors</a></li>
                        </ul>
                      </div>
                      <div>
                        <h3 className="text-white font-semibold mb-2 text-sm">Tools & Libraries</h3>
                        <ul className="list-disc list-inside space-y-1 text-gray-300 text-sm">
                          <li><a href="https://microsoft.github.io/autogen/" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">Microsoft AutoGen</a></li>
                          <li><a href="https://github.com/langchain-ai/langgraph" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">LangGraph</a></li>
                          <li><a href="https://docs.crewai.com/" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">CrewAI</a></li>
                          <li><a href="https://github.com/openai/swarm" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">OpenAI Swarm</a></li>
                          <li><a href="https://github.com/geekan/MetaGPT" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">MetaGPT</a></li>
                        </ul>
                      </div>
                      <div>
                        <h3 className="text-white font-semibold mb-2 text-sm">Community & Discussions</h3>
                        <ul className="list-disc list-inside space-y-1 text-gray-300 text-sm">
                          <li><a href="https://aws.amazon.com/blogs/machine-learning/design-multi-agent-orchestration-with-reasoning-using-amazon-bedrock-and-open-source-frameworks/" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">AWS Blog: Designing Multi‑Agent Orchestration with Reasoning (2024/2025)</a></li>
                          <li><a href="https://community.ibm.com/community/user/blogs/patrick-meyer/2025/07/21/anatomy-of-an-ai-agent-watsonx-orchestrate" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">IBM Community: Anatomy of an AI Agent / watsonx Orchestrate (2025)</a></li>
                        </ul>
                      </div>
                    </div>
                  </section>
                </>
              ) : selectedTechnique.id === 'agent-orchestration' ? (
                <>
                  {/* Core Mechanism (short conceptual overview) */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-blue-500 rounded-full"></div>
                      Core Mechanism (short conceptual overview)
                    </h2>
                    <div className="bg-gradient-to-br from-blue-500/10 to-purple-500/10 border border-blue-500/20 rounded-xl p-6">
                      <p className="text-gray-200 text-base leading-relaxed">
                        Centralized or graph-based coordination of specialized agents to accomplish complex goals. An orchestrator plans and decomposes work, selects agents based on capabilities and policy, routes context, enforces safety, manages concurrency and retries, and aggregates results. Topologies include single orchestrator, hierarchical controllers, and DAG/graph execution.
                      </p>
                    </div>
                  </section>

                  {/* Workflow / Steps */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-purple-500 rounded-full"></div>
                      Workflow / Steps
                    </h2>
                    <div className="bg-gradient-to-br from-purple-500/10 to-blue-500/10 border border-purple-500/20 rounded-xl p-6">
                      <ol className="list-decimal list-inside space-y-2 text-gray-200 text-sm">
                        <li>Intake: normalize goal, policy, and constraints; retrieve prior state.</li>
                        <li>Plan: decompose into sub-tasks; choose graph/ordering and stop criteria.</li>
                        <li>Select: match tasks to agents via capability registry and guardrails.</li>
                        <li>Assemble context: tools, memory, retrieval, personas, and schemas.</li>
                        <li>Execute: delegate; stream tokens; apply timeouts, retries, and backoff.</li>
                        <li>Observe: log traces, tool I/O, costs, latencies, and safety signals.</li>
                        <li>Recover: fallbacks, circuit breakers, escalation to human-in-the-loop.</li>
                        <li>Aggregate: reconcile outputs; resolve conflicts; synthesize final result.</li>
                        <li>Learn: update rewards/evals, improve policies and routing based on feedback.</li>
                      </ol>
                    </div>
                  </section>

                  {/* Best Practices */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-green-500 rounded-full"></div>
                      Best Practices
                    </h2>
                    <div className="grid gap-3">
                      {[
                        'Model the orchestration as an explicit graph with typed state; make steps idempotent.',
                        'Use a capability registry with schemas, auth scopes, SLAs, and examples for each agent/tool.',
                        'Prefer small models for routing/guard tasks; reserve large models for heavy reasoning.',
                        'Apply concurrency limits, backpressure, and cancellation to avoid fan-out cost explosions.',
                        'Enforce safety: input/output filters, policy checks, data residency, and least-privilege creds.',
                        'Instrument everything: structured traces, token/cost meters, handoff success, error taxonomies.',
                        'Evaluate continuously with scenario suites and regression gates before promotion.',
                      ].map((tip) => (
                        <div key={tip} className="flex items-start gap-3 p-3 bg-gray-800/40 rounded-lg">
                          <Check className="w-5 h-5 text-green-400 mt-0.5 flex-shrink-0" />
                          <span className="text-gray-300 text-sm leading-relaxed">{tip}</span>
                        </div>
                      ))}
                    </div>
                  </section>

                  {/* When NOT to Use */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-red-500 rounded-full"></div>
                      When NOT to Use
                    </h2>
                    <div className="bg-gray-800/40 rounded-lg p-6 border border-gray-700/40">
                      <ul className="list-disc list-inside space-y-2 text-gray-300 text-sm">
                        <li>Simple tasks where a single-agent prompt or tool call meets quality and SLOs.</li>
                        <li>Hard real-time paths with tight latency budgets that orchestration overhead would violate.</li>
                        <li>Actions with high risk or regulatory impact without human review or full auditability.</li>
                      </ul>
                    </div>
                  </section>

                  {/* Common Pitfalls */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-amber-500 rounded-full"></div>
                      Common Pitfalls
                    </h2>
                    <div className="bg-gray-800/40 rounded-lg p-6 border border-gray-700/40">
                      <ul className="list-disc list-inside space-y-2 text-gray-300 text-sm">
                        <li>Unbounded agent ping-pong loops and recursion causing token/cost blowups.</li>
                        <li>Missing cancellation, timeouts, or idempotency; duplicate writes on retries.</li>
                        <li>Context drift across agents; inconsistent shared state and stale memory.</li>
                        <li>Privilege creep: agents holding excessive permissions or long-lived tokens.</li>
                      </ul>
                    </div>
                  </section>

                  {/* Key Features */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-cyan-500 rounded-full"></div>
                      Key Features
                    </h2>
                    <div className="grid grid-cols-1 md:grid-cols-2 gap-3">
                      {[
                        'Graph/DAG execution with stateful nodes',
                        'Capability-aware routing and scheduling',
                        'Tool/agent registry with schemas and policy',
                        'Observability: tracing, metrics, audit logs',
                        'Safety: guardrails, filters, circuit breakers',
                        'Fault tolerance: retries, fallbacks, rollbacks',
                        'Memory bus and retrieval-augmented context',
                        'Cost/latency budgets and backpressure',
                      ].map((feat) => (
                        <div key={feat} className="p-3 bg-gray-800/40 rounded-lg text-gray-300 text-sm border border-gray-700/40">
                          {feat}
                        </div>
                      ))}
                    </div>
                  </section>

                  {/* KPIs / Success Metrics */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-emerald-500 rounded-full"></div>
                      KPIs / Success Metrics
                    </h2>
                    <div className="bg-gray-800/40 rounded-lg p-6 border border-gray-700/40">
                      <ul className="list-disc list-inside space-y-2 text-gray-300 text-sm">
                        <li>End-to-end task success rate; sub-task and handoff success rates.</li>
                        <li>Latency p50/p95 and tail amplification across the graph.</li>
                        <li>Cost per successful task; tokens per successful task; agent utilization.</li>
                        <li>Failure taxonomy rates (timeouts, tool errors) and MTTR with/without human assist.</li>
                      </ul>
                    </div>
                  </section>

                  {/* Token / Resource Usage */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-indigo-500 rounded-full"></div>
                      Token / Resource Usage
                    </h2>
                    <div className="bg-gray-800/40 rounded-lg p-6 border border-gray-700/40">
                      <ul className="list-disc list-inside space-y-2 text-gray-300 text-sm">
                        <li>Bound depth/iterations; cap tokens per turn; compress context and cache summaries.</li>
                        <li>Use small models for routing/classification; batch and parallelize safe tool calls.</li>
                        <li>Apply backpressure and queues; set timeouts and circuit breakers per edge.</li>
                        <li>Stream partials; checkpoint state; evict stale memory with TTL policies.</li>
                      </ul>
                    </div>
                  </section>

                  {/* Best Use Cases */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-fuchsia-500 rounded-full"></div>
                      Best Use Cases
                    </h2>
                    <div className="bg-gray-800/40 rounded-lg p-6 border border-gray-700/40">
                      <ul className="list-disc list-inside space-y-2 text-gray-300 text-sm">
                        <li>Enterprise automations spanning multiple systems with audit and policy controls.</li>
                        <li>Complex knowledge workflows: research, analysis, planning, and reporting.</li>
                        <li>Incident response and operations runbooks with human-in-the-loop checkpoints.</li>
                        <li>Data enrichment and ETL orchestration with tool use and validation.</li>
                      </ul>
                    </div>
                  </section>

                  {/* References & Further Reading */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-orange-500 rounded-full"></div>
                      References & Further Reading
                    </h2>
                    <div className="bg-gray-800/40 rounded-lg p-6 border border-gray-700/40 space-y-4">
                      <div>
                        <h3 className="text-white font-semibold mb-2 text-sm">Academic Papers</h3>
                        <ul className="list-disc list-inside space-y-1 text-gray-300 text-sm">
                          <li><a href="https://arxiv.org/abs/2210.03629" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">ReAct: Synergizing Reasoning and Acting (2022)</a></li>
                          <li><a href="https://arxiv.org/abs/2308.08155" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">AutoGen: Multi-Agent Conversation Framework (2023)</a></li>
                          <li><a href="https://arxiv.org/abs/2303.05431" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">CAMEL: Communicative Agents for Role-Playing (2023)</a></li>
                          <li><a href="https://arxiv.org/abs/2402.14034" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">AgentScope: Flexible Multi-Agent Platform (2024)</a></li>
                        </ul>
                      </div>
                      <div>
                        <h3 className="text-white font-semibold mb-2 text-sm">Implementation Guides</h3>
                        <ul className="list-disc list-inside space-y-1 text-gray-300 text-sm">
                          <li><a href="https://learn.microsoft.com/en-us/azure/architecture/ai-ml/guide/ai-agent-design-patterns" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">Microsoft Azure: AI Agent Design Patterns</a></li>
                          <li><a href="https://docs.aws.amazon.com/prescriptive-guidance/latest/agentic-ai-patterns/workflow-orchestration-agents.html" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">AWS Prescriptive Guidance: Workflow Orchestration Agents</a></li>
                          <li><a href="https://langchain-ai.github.io/langgraph/" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">LangGraph Documentation (graph-based orchestration)</a></li>
                        </ul>
                      </div>
                      <div>
                        <h3 className="text-white font-semibold mb-2 text-sm">Tools & Libraries</h3>
                        <ul className="list-disc list-inside space-y-1 text-gray-300 text-sm">
                          <li><a href="https://microsoft.github.io/autogen/" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">AutoGen</a></li>
                          <li><a href="https://github.com/langchain-ai/langgraph" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">LangGraph</a></li>
                          <li><a href="https://www.crewai.com/" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">CrewAI</a></li>
                          <li><a href="https://docs.llamaindex.ai/en/stable/understanding/agents/" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">LlamaIndex Agents</a></li>
                          <li><a href="https://github.com/openai/swarm" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">OpenAI Swarm</a></li>
                        </ul>
                      </div>
                      <div>
                        <h3 className="text-white font-semibold mb-2 text-sm">Community & Discussions</h3>
                        <ul className="list-disc list-inside space-y-1 text-gray-300 text-sm">
                          <li><a href="https://community.ibm.com/community/user/blogs/patrick-meyer/2025/07/21/anatomy-of-an-ai-agent-watsonx-orchestrate" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">IBM Community: Anatomy of an AI Agent / watsonx Orchestrate (2025)</a></li>
                          <li><a href="https://learn.microsoft.com/en-us/azure/architecture/ai-ml/guide/ai-agent-design-patterns" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">Azure Architecture: Agentic patterns overview</a></li>
                        </ul>
                      </div>
                    </div>
                  </section>
                </>
              ) : selectedTechnique.id === 'meta-reasoning-orchestration' ? (
                <>
                  {/* Core Mechanism (short conceptual overview) */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-blue-500 rounded-full"></div>
                      Core Mechanism (short conceptual overview)
                    </h2>
                    <div className="bg-gradient-to-br from-blue-500/10 to-purple-500/10 border border-blue-500/20 rounded-xl p-6">
                      <p className="text-gray-200 text-base leading-relaxed">
                        Meta-level control that monitors, evaluates, and adapts object-level reasoning. The controller selects among
                        strategies (e.g., Chain-of-Thought, Tree-of-Thoughts, tool use, retrieval, self-consistency, backtracking),
                        allocates budget, and switches when progress stalls. Practical implementations use contextual bandits or
                        reinforcement learning for strategy selection, uncertainty-aware gating, and bounded compute.
                      </p>
                    </div>
                  </section>

                  {/* Workflow / Steps */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-purple-500 rounded-full"></div>
                      Workflow / Steps
                    </h2>
                    <div className="bg-gradient-to-br from-purple-500/10 to-blue-500/10 border border-purple-500/20 rounded-xl p-6">
                      <ol className="list-decimal list-inside space-y-2 text-gray-200 text-sm">
                        <li>Characterize task: domain, difficulty, constraints, risk, and target quality/latency/cost.</li>
                        <li>Initialize policy and budgets: token/time caps, iteration limits, stopping criteria.</li>
                        <li>Plan candidate strategies: CoT/ToT depth, self-consistency samples, retrieval/tool plan.</li>
                        <li>Execute a step: run chosen strategy; capture trace, uncertainty, cost, and intermediate results.</li>
                        <li>Meta-evaluate: check progress vs rubric; detect stall, drift, or contradiction.</li>
                        <li>Adapt: switch strategy, adjust depth, request clarification, or invoke tools/retrieval.</li>
                        <li>Terminate: meet success criteria or safe-abort when budgets or guardrails trigger.</li>
                        <li>Learn: update selection policy with outcomes, regret, and calibration data.</li>
                      </ol>
                    </div>
                  </section>

                  {/* Best Practices */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-green-500 rounded-full"></div>
                      Best Practices
                    </h2>
                    <div className="grid gap-3">
                      {[
                        'Separate meta-control from object-level reasoning; pass typed state and metrics between layers.',
                        'Use uncertainty and confidence thresholds to gate deeper search or tool escalation.',
                        'Prefer small, fast models for routing, critique, and selection; reserve large models for hard steps.',
                        'Bound loops with iteration/time/token caps; add watchdogs and abort conditions.',
                        'Instrument traces: strategy chosen, switches, tokens, latency, failure taxonomy, and outcomes.',
                        'Offline-evaluate policies with scenario suites and counterfactual replays before production.',
                        'Add human-in-the-loop for high‑risk actions; require provenance and audit trails.'
                      ].map((tip) => (
                        <div key={tip} className="flex items-start gap-3 p-3 bg-gray-800/40 rounded-lg">
                          <Check className="w-5 h-5 text-green-400 mt-0.5 flex-shrink-0" />
                          <span className="text-gray-300 text-sm leading-relaxed">{tip}</span>
                        </div>
                      ))}
                    </div>
                  </section>

                  {/* When NOT to Use */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-red-500 rounded-full"></div>
                      When NOT to Use
                    </h2>
                    <div className="bg-gray-800/40 rounded-lg p-6 border border-gray-700/40">
                      <ul className="list-disc list-inside space-y-2 text-gray-300 text-sm">
                        <li>Simple, single-step tasks where a direct prompt or tool call meets quality and SLOs.</li>
                        <li>Strict real-time paths with tight latency budgets that meta-control would exceed.</li>
                        <li>Compliance-critical flows requiring fixed, auditable procedures without adaptive search.</li>
                      </ul>
                    </div>
                  </section>

                  {/* Common Pitfalls */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-amber-500 rounded-full"></div>
                      Common Pitfalls
                    </h2>
                    <div className="bg-gray-800/40 rounded-lg p-6 border border-gray-700/40">
                      <ul className="list-disc list-inside space-y-2 text-gray-300 text-sm">
                        <li>Unbounded search loops and over-sampling leading to token/cost blowups.</li>
                        <li>Miscalibrated confidence scores causing premature stop or excessive depth.</li>
                        <li>Reward hacking or proxy-metric overfitting; policies don’t generalize to production.</li>
                        <li>Missing cancellation/idempotency when switching strategies or retrying tools.</li>
                      </ul>
                    </div>
                  </section>

                  {/* Key Features */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-cyan-500 rounded-full"></div>
                      Key Features
                    </h2>
                    <div className="grid grid-cols-1 md:grid-cols-2 gap-3">
                      {[
                        'Strategy selection via bandits/RL and rule-based guards',
                        'Confidence- and risk-aware depth control',
                        'Cost/latency budgets with backpressure',
                        'Self-consistency, backtracking, and debate/judge patterns',
                        'Traceability: reasoning graphs, decisions, and provenance',
                        'Learning from outcomes to improve future selection'
                      ].map((feat) => (
                        <div key={feat} className="p-3 bg-gray-800/40 rounded-lg text-gray-300 text-sm border border-gray-700/40">
                          {feat}
                        </div>
                      ))}
                    </div>
                  </section>

                  {/* KPIs / Success Metrics */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-emerald-500 rounded-full"></div>
                      KPIs / Success Metrics
                    </h2>
                    <div className="bg-gray-800/40 rounded-lg p-6 border border-gray-700/40">
                      <ul className="list-disc list-inside space-y-2 text-gray-300 text-sm">
                        <li>End-to-end task success vs strong single-strategy baselines.</li>
                        <li>Cost and tokens per successful task; time-to-quality (p50/p95).</li>
                        <li>Policy regret and switch efficacy (improvement after a switch).</li>
                        <li>Calibration metrics: ECE/Brier for confidence and abort rates within budget.</li>
                      </ul>
                    </div>
                  </section>

                  {/* Token / Resource Usage */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-indigo-500 rounded-full"></div>
                      Token / Resource Usage
                    </h2>
                    <div className="bg-gray-800/40 rounded-lg p-6 border border-gray-700/40">
                      <ul className="list-disc list-inside space-y-2 text-gray-300 text-sm">
                        <li>Run meta-control with smaller models; cap samples and tree width; early-exit on high confidence.</li>
                        <li>Cache intermediate summaries; reuse KV cache; avoid duplicating context across branches.</li>
                        <li>Parallelize independent probes sparingly with strict concurrency and token budgets.</li>
                        <li>Amortize policy learning across batches; replay traces offline to refine selection.</li>
                      </ul>
                    </div>
                  </section>

                  {/* Best Use Cases */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-fuchsia-500 rounded-full"></div>
                      Best Use Cases
                    </h2>
                    <div className="bg-gray-800/40 rounded-lg p-6 border border-gray-700/40">
                      <ul className="list-disc list-inside space-y-2 text-gray-300 text-sm">
                        <li>Complex multi-step problem solving: math, planning, code generation with tests/tools.</li>
                        <li>Open-domain QA and research with retrieval, verification, and synthesis.</li>
                        <li>Autonomous operations runbooks with adaptive depth and human escalation.</li>
                        <li>Multi-agent teams requiring a supervisor to allocate tasks and adapt strategies.</li>
                      </ul>
                    </div>
                  </section>

                  {/* References & Further Reading */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-orange-500 rounded-full"></div>
                      References & Further Reading
                    </h2>
                    <div className="bg-gray-800/40 rounded-lg p-6 border border-gray-700/40 space-y-4">
                      <div>
                        <h3 className="text-white font-semibold mb-2 text-sm">Academic Papers</h3>
                        <ul className="list-disc list-inside space-y-1 text-gray-300 text-sm">
                          <li><a href="https://arxiv.org/abs/2406.11698" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">Meta Reasoning for Large Language Models (2024)</a></li>
                          <li><a href="https://arxiv.org/abs/2502.19918" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">Meta-Reasoner: Dynamic Guidance for Optimized Inference-time Reasoning (2025)</a></li>
                          <li><a href="https://aclanthology.org/2025.findings-naacl.440/" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">Meta-Reasoning Improves Tool Use in LLMs (Findings NAACL 2025)</a></li>
                          <li><a href="https://arxiv.org/abs/2305.10601" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">Tree of Thoughts: Deliberate Problem Solving with LLMs (2023)</a></li>
                          <li><a href="https://arxiv.org/abs/2210.03350" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">Self-Consistency Improves Chain of Thought (2022)</a></li>
                          <li><a href="https://link.springer.com/book/10.1007/978-3-642-24288-5" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">Metareasoning: Thinking about Thinking in AI (Cox & Raja, 2011)</a></li>
                        </ul>
                      </div>
                      <div>
                        <h3 className="text-white font-semibold mb-2 text-sm">Implementation Guides</h3>
                        <ul className="list-disc list-inside space-y-1 text-gray-300 text-sm">
                          <li><a href="https://learn.microsoft.com/en-us/azure/architecture/ai-ml/guide/ai-agent-design-patterns" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">Microsoft Azure: AI Agent Design Patterns</a></li>
                          <li><a href="https://docs.langchain.com/docs/langgraph" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">LangGraph Documentation: Supervisor/Graph Orchestration</a></li>
                          <li><a href="https://gpt-index.readthedocs.io/en/stable/getting_started/agents.html" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">LlamaIndex: Agents and Supervisors</a></li>
                          <li><a href="https://dspy.ai/" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">DSPy: Programmatic Optimization of LLM Pipelines</a></li>
                        </ul>
                      </div>
                      <div>
                        <h3 className="text-white font-semibold mb-2 text-sm">Tools & Libraries</h3>
                        <ul className="list-disc list-inside space-y-1 text-gray-300 text-sm">
                          <li><a href="https://github.com/langchain-ai/langgraph" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">LangGraph</a></li>
                          <li><a href="https://github.com/microsoft/autogen" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">AutoGen</a></li>
                          <li><a href="https://www.crewai.com/" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">CrewAI</a></li>
                          <li><a href="https://github.com/openai/swarm" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">OpenAI Swarm</a></li>
                          <li><a href="https://github.com/geekan/MetaGPT" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">MetaGPT</a></li>
                        </ul>
                      </div>
                      <div>
                        <h3 className="text-white font-semibold mb-2 text-sm">Community & Discussions</h3>
                        <ul className="list-disc list-inside space-y-1 text-gray-300 text-sm">
                          <li><a href="https://www.computer.org/publications/tech-news/trends/meta-reasoning/" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">IEEE Computer Society: Meta‑reasoning in Agents (2024–2025 coverage)</a></li>
                          <li><a href="https://aws.amazon.com/blogs/machine-learning/design-multi-agent-orchestration-with-reasoning-using-amazon-bedrock-and-open-source-frameworks/" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">AWS Blog: Multi‑Agent Orchestration with Reasoning (2024/2025)</a></li>
                        </ul>
                      </div>
                    </div>
                  </section>
                </>
              ) : selectedTechnique.id === 'peer-collaboration' ? (
                <>
                  {/* Core Mechanism (short conceptual overview) */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-blue-500 rounded-full"></div>
                      Core Mechanism (short conceptual overview)
                    </h2>
                    <div className="bg-gradient-to-br from-blue-500/10 to-green-500/10 border border-blue-500/20 rounded-xl p-6">
                      <p className="text-gray-200 text-base leading-relaxed">
                        Decentralized cooperation among equal-role LLM agents communicating peer-to-peer. Peers propose, critique, and
                        reconcile answers via voting, self-consistency, or a judge/arbiter, optionally sharing artifacts in a
                        blackboard or shared memory. No single permanent controller is required; coordination emerges through
                        structured rounds and consensus rules.
                      </p>
                    </div>
                  </section>

                  {/* Workflow / Steps */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-purple-500 rounded-full"></div>
                      Workflow / Steps
                    </h2>
                    <div className="bg-gradient-to-br from-purple-500/10 to-blue-500/10 border border-purple-500/20 rounded-xl p-6">
                      <ol className="list-decimal list-inside space-y-2 text-gray-200 text-sm">
                        <li>Team setup: define number of peers, diverse personas/capabilities, shared tools/memory.</li>
                        <li>Goal + context: normalize task, constraints, and evaluation rubric.</li>
                        <li>Proposal round: each peer generates an initial solution with rationale and confidence.</li>
                        <li>Critique/debate rounds: peers cross-examine and refine; enforce max rounds and turn limits.</li>
                        <li>Aggregation: select via majority vote, confidence-weighted vote, self-consistency, or LLM-as-judge.</li>
                        <li>Synthesis: one peer (or meta-agent) composes the final answer using winning evidence.</li>
                        <li>Verification: optional tests/tool checks; retry with counterfactuals if criteria not met.</li>
                        <li>Logging: persist traces, costs, decisions, and dissent for audit and learning.</li>
                      </ol>
                    </div>
                  </section>

                  {/* Best Practices */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-green-500 rounded-full"></div>
                      Best Practices
                    </h2>
                    <div className="grid gap-3">
                      {[
                        'Maximize diversity: vary roles/prompts/tools or even base models to reduce correlated errors.',
                        'Use structured message schemas (role, claim, evidence, confidence) for parsable debates.',
                        'Bound tokens and rounds; add explicit stop criteria to avoid ping-pong loops.',
                        'Calibrate confidence and prefer confidence-weighted or judge-mediated selection for hard tasks.',
                        'Have an impartial arbiter (LLM-as-a-judge) only for tie-breaks; validate with spot human evals.',
                        'Summarize between rounds to compress context; cache retrieved evidence across peers.',
                        'Isolate tools and sandbox effects; enforce safety filters on inputs/outputs.',
                        'Instrument traces, costs, and agreement metrics; regression-test with benchmark suites.',
                      ].map((tip) => (
                        <div key={tip} className="flex items-start gap-3 p-3 bg-gray-800/40 rounded-lg">
                          <Check className="w-5 h-5 text-green-400 mt-0.5 flex-shrink-0" />
                          <span className="text-gray-300 text-sm leading-relaxed">{tip}</span>
                        </div>
                      ))}
                    </div>
                  </section>

                  {/* When NOT to Use */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-red-500 rounded-full"></div>
                      When NOT to Use
                    </h2>
                    <div className="bg-gray-800/40 rounded-lg p-6 border border-gray-700/40">
                      <ul className="list-disc list-inside space-y-2 text-gray-300 text-sm">
                        <li>Simple or deterministic tasks where a single agent meets quality and SLOs.</li>
                        <li>Hard real-time paths with strict latency budgets or tight cost ceilings.</li>
                        <li>High-stakes writes (payments, policy changes) requiring single-source-of-truth authority.</li>
                        <li>Homogeneous peers (same prompt/model) that offer little diversity benefit.</li>
                      </ul>
                    </div>
                  </section>

                  {/* Common Pitfalls */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-amber-500 rounded-full"></div>
                      Common Pitfalls
                    </h2>
                    <div className="bg-gray-800/40 rounded-lg p-6 border border-gray-700/40">
                      <ul className="list-disc list-inside space-y-2 text-gray-300 text-sm">
                        <li>Echo chambers and self-reinforcement; mode collapse toward incorrect majority answers.</li>
                        <li>Unbounded token growth from many peers/rounds without compression.</li>
                        <li>Noisy or biased judges; selection overfits to writing style rather than correctness.</li>
                        <li>Shared-memory races or stale context causing contradictions between peers.</li>
                      </ul>
                    </div>
                  </section>

                  {/* Key Features */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-cyan-500 rounded-full"></div>
                      Key Features
                    </h2>
                    <div className="grid grid-cols-1 md:grid-cols-2 gap-3">
                      {[
                        'Peer-to-peer messaging with typed arguments and artifacts',
                        'Critique/debate mechanisms and cross-examination',
                        'Consensus selection: majority, confidence-weighted, self-consistency, judge',
                        'Shared blackboard or memory with concurrency controls',
                        'Fault tolerance: drop or replace failing peers',
                        'Pluggable frameworks (AutoGen, LangGraph, Swarm, CrewAI, AgentScope)',
                      ].map((feat) => (
                        <div key={feat} className="p-3 bg-gray-800/40 rounded-lg text-gray-300 text-sm border border-gray-700/40">
                          {feat}
                        </div>
                      ))}
                    </div>
                  </section>

                  {/* KPIs / Success Metrics */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-emerald-500 rounded-full"></div>
                      KPIs / Success Metrics
                    </h2>
                    <div className="bg-gray-800/40 rounded-lg p-6 border border-gray-700/40">
                      <ul className="list-disc list-inside space-y-2 text-gray-300 text-sm">
                        <li>Task success rate vs single-agent baseline; win rate on human/LLM judged comparisons.</li>
                        <li>Tokens and cost per successful task; peers × rounds; latency p50/p95.</li>
                        <li>Agreement with ground truth; disagreement entropy and diversity score.</li>
                        <li>Failure taxonomy: deadlocks, contradictions, tool errors; MTTR with retries.</li>
                      </ul>
                    </div>
                  </section>

                  {/* Token / Resource Usage */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-indigo-500 rounded-full"></div>
                      Token / Resource Usage
                    </h2>
                    <div className="bg-gray-800/40 rounded-lg p-6 border border-gray-700/40">
                      <ul className="list-disc list-inside space-y-2 text-gray-300 text-sm">
                        <li>Cap peers and rounds; summarize between rounds to control context growth.</li>
                        <li>Use small models for critique/voting; reserve larger models for synthesis/verification.</li>
                        <li>Parallelize peer turns; cache shared evidence and retrieved chunks.</li>
                        <li>Set explicit token budgets per round and per conversation.</li>
                      </ul>
                    </div>
                  </section>

                  {/* Best Use Cases */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-fuchsia-500 rounded-full"></div>
                      Best Use Cases
                    </h2>
                    <div className="bg-gray-800/40 rounded-lg p-6 border border-gray-700/40">
                      <ul className="list-disc list-inside space-y-2 text-gray-300 text-sm">
                        <li>Program repair and code reasoning (e.g., SWE-bench Verified), multi-perspective code review.</li>
                        <li>Math and logical reasoning (e.g., GSM8K-like tasks) with self-consistency and debate.</li>
                        <li>Research synthesis, policy analysis, red teaming, and safety alignment reviews.</li>
                        <li>Planning under uncertainty with tool calls and evidence aggregation.</li>
                      </ul>
                    </div>
                  </section>

                  {/* References & Further Reading */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-orange-500 rounded-full"></div>
                      References & Further Reading
                    </h2>
                    <div className="bg-gray-800/40 rounded-lg p-6 border border-gray-700/40 space-y-4">
                      <div>
                        <h3 className="text-white font-semibold mb-2 text-sm">Academic Papers</h3>
                        <ul className="list-disc list-inside space-y-1 text-gray-300 text-sm">
                          <li><a href="https://arxiv.org/abs/2308.08155" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">AutoGen: Enabling Next-Gen LLM Applications via Multi-Agent Conversation (2023)</a></li>
                          <li><a href="https://arxiv.org/abs/2303.05431" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">CAMEL: Communicative Agents for Role-Playing (2023)</a></li>
                          <li><a href="https://arxiv.org/abs/2305.10601" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">Tree of Thoughts: Deliberate Problem Solving with LLMs (2023)</a></li>
                          <li><a href="https://arxiv.org/abs/2303.11366" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">Reflexion: Language Agents with Verbal Reinforcement Learning (2023)</a></li>
                          <li><a href="https://arxiv.org/abs/2306.05685" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">LLM-as-a-Judge: Reliable Evaluation via Pairwise Comparison (2023)</a></li>
                          <li><a href="https://arxiv.org/abs/2203.11171" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">Self-Consistency Improves Chain-of-Thought Reasoning (2022)</a></li>
                        </ul>
                      </div>
                      <div>
                        <h3 className="text-white font-semibold mb-2 text-sm">Implementation Guides</h3>
                        <ul className="list-disc list-inside space-y-1 text-gray-300 text-sm">
                          <li><a href="https://microsoft.github.io/autogen/" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">AutoGen Framework Docs</a></li>
                          <li><a href="https://langchain-ai.github.io/langgraph/" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">LangGraph Documentation</a></li>
                          <li><a href="https://github.com/openai/swarm" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">OpenAI Swarm (GitHub)</a></li>
                          <li><a href="https://docs.crewai.com/" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">CrewAI Documentation</a></li>
                          <li><a href="https://arxiv.org/abs/2402.14034" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">AgentScope: Flexible Multi-Agent Platform (2024)</a></li>
                        </ul>
                      </div>
                      <div>
                        <h3 className="text-white font-semibold mb-2 text-sm">Tools & Libraries</h3>
                        <ul className="list-disc list-inside space-y-1 text-gray-300 text-sm">
                          <li><a href="https://microsoft.github.io/autogen/" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">AutoGen</a></li>
                          <li><a href="https://github.com/langchain-ai/langgraph" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">LangGraph</a></li>
                          <li><a href="https://www.crewai.com/" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">CrewAI</a></li>
                          <li><a href="https://github.com/openai/swarm" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">OpenAI Swarm</a></li>
                          <li><a href="https://github.com/modelscope/agentscope" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">AgentScope</a></li>
                        </ul>
                      </div>
                      <div>
                        <h3 className="text-white font-semibold mb-2 text-sm">Community & Discussions</h3>
                        <ul className="list-disc list-inside space-y-1 text-gray-300 text-sm">
                          <li><a href="https://www.swebench.com/" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">SWE-bench (incl. Verified) benchmark</a></li>
                          <li><a href="https://arxiv.org/abs/2308.09790" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">AgentBench: Evaluating LLMs as Agents (2023)</a></li>
                        </ul>
                      </div>
                    </div>
                  </section>
                </>
              ) : selectedTechnique.id === 'latent-memory-networks' ? (
                <>
                  {/* Core Mechanism (short conceptual overview) */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-blue-500 rounded-full"></div>
                      Core Mechanism (short conceptual overview)
                    </h2>
                    <div className="bg-gradient-to-br from-blue-500/10 to-purple-500/10 border border-blue-500/20 rounded-xl p-6">
                      <p className="text-gray-200 text-base leading-relaxed">
                        Shared latent memory for agents: knowledge and reasoning patterns are encoded as dense vectors in a
                        common semantic space. Agents write summaries, facts, and patterns with metadata; retrieval uses
                        similarity search and hybrid filters to assemble relevant context for downstream reasoning. Memory
                        consolidates over time via deduplication, clustering, and schema-preserving summaries to reduce
                        redundancy and drift.
                      </p>
                    </div>
                  </section>

                  {/* Workflow / Steps */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-purple-500 rounded-full"></div>
                      Workflow / Steps
                    </h2>
                    <div className="bg-gradient-to-br from-purple-500/10 to-blue-500/10 border border-purple-500/20 rounded-xl p-6">
                      <ol className="list-decimal list-inside space-y-2 text-gray-200 text-sm">
                        <li>Ingest: chunk artifacts (text/code/events) with stable IDs; attach provenance and timestamps.</li>
                        <li>Embed: generate embeddings with a consistent model/version; normalize and store vectors + metadata.</li>
                        <li>Index: build ANN index (e.g., HNSW/IVF/ScaNN) with filters over namespaces/agents/types.</li>
                        <li>Retrieve: query by semantic vector + keyword/struct filters; re-rank and diversify top-k.</li>
                        <li>Assemble: compress/summarize retrieved items into LLM-ready context with citations.</li>
                        <li>Write-back: persist new insights as atomic memory entries; avoid duplicating near-identical content.</li>
                        <li>Consolidate: schedule dedup, clustering, drift checks, and long-term summaries with TTL/pinning.</li>
                      </ol>
                    </div>
                  </section>

                  {/* Best Practices */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-green-500 rounded-full"></div>
                      Best Practices
                    </h2>
                    <div className="grid gap-3">
                      {[
                        'Use a single, versioned embedding model across agents; re-embed on model upgrades with canaries.',
                        'Chunk with semantic boundaries and overlap; store canonical IDs to deduplicate.',
                        'Hybrid retrieval (vector + keyword + metadata) and MMR/DR to improve relevance and diversity.',
                        'Add strict schemas: type, agent, task, source URI, timestamp, version, and PII flags.',
                        'Tune ANN parameters (HNSW M/ef, IVF nlist/nprobe) for p95 latency vs. recall; cache hot queries.',
                        'Periodic consolidation: near-duplicate removal, cluster summaries, and topic schemas.',
                        'Safety and privacy: redact PII, scope namespaces per tenant/agent, and enforce access policies.',
                        'Evaluate retrieval with labeled queries; track precision/recall@k and citation correctness.',
                      ].map((tip) => (
                        <div key={tip} className="flex items-start gap-3 p-3 bg-gray-800/40 rounded-lg">
                          <Check className="w-5 h-5 text-green-400 mt-0.5 flex-shrink-0" />
                          <span className="text-gray-300 text-sm leading-relaxed">{tip}</span>
                        </div>
                      ))}
                    </div>
                  </section>

                  {/* When NOT to Use */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-red-500 rounded-full"></div>
                      When NOT to Use
                    </h2>
                    <div className="bg-gray-800/40 rounded-lg p-6 border border-gray-700/40">
                      <ul className="list-disc list-inside space-y-2 text-gray-300 text-sm">
                        <li>Tasks solvable from model prior with acceptable quality and strict latency/cost constraints.</li>
                        <li>Domains requiring fully symbolic, auditable reasoning with minimal latent representation.</li>
                        <li>Highly regulated or sensitive data without strong governance, redaction, and isolation.</li>
                        <li>Very small, static knowledge where a curated prompt/template outperforms retrieval overhead.</li>
                      </ul>
                    </div>
                  </section>

                  {/* Common Pitfalls */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-amber-500 rounded-full"></div>
                      Common Pitfalls
                    </h2>
                    <div className="bg-gray-800/40 rounded-lg p-6 border border-gray-700/40">
                      <ul className="list-disc list-inside space-y-2 text-gray-300 text-sm">
                        <li>Embedding mismatch/drift across agents leading to poor cross-agent retrieval.</li>
                        <li>Index bloat from duplicate or overly granular chunks; no TTL or consolidation policy.</li>
                        <li>Over-retrieval causing token blowups; missing summarization/quotas and MMR.</li>
                        <li>Unlabeled data lacking provenance/citations; weak evals hide regressions.</li>
                      </ul>
                    </div>
                  </section>

                  {/* Key Features */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-cyan-500 rounded-full"></div>
                      Key Features
                    </h2>
                    <div className="grid grid-cols-1 md:grid-cols-2 gap-3">
                      {[
                        'Shared latent space across agents with namespace and capability scoping',
                        'Semantic similarity search with hybrid filters and re-ranking',
                        'Dynamic consolidation (deduplication, clustering, long-term summaries)',
                        'Provenance, citations, and schema-enforced metadata',
                        'Online updates and background re-embedding/version migrations',
                        'Optional hybrid dense+keyword retrieval for precision on entities/codes',
                        'Support for cross-domain transfer via cluster-aware sampling',
                      ].map((feat) => (
                        <div key={feat} className="p-3 bg-gray-800/40 rounded-lg text-gray-300 text-sm border border-gray-700/40">
                          {feat}
                        </div>
                      ))}
                    </div>
                  </section>

                  {/* KPIs / Success Metrics */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-emerald-500 rounded-full"></div>
                      KPIs / Success Metrics
                    </h2>
                    <div className="bg-gray-800/40 rounded-lg p-6 border border-gray-700/40">
                      <ul className="list-disc list-inside space-y-2 text-gray-300 text-sm">
                        <li>Retrieval precision/recall@k, MRR/NDCG; citation correctness rate.</li>
                        <li>Task success uplift vs. no-memory baseline; judge/win rate on eval sets.</li>
                        <li>Latency p50/p95 for embed/store/retrieve; memory hit rate and dedup ratio.</li>
                        <li>Storage growth vs. unique concepts; re-embedding backlog and drift metrics.</li>
                      </ul>
                    </div>
                  </section>

                  {/* Token / Resource Usage */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-indigo-500 rounded-full"></div>
                      Token / Resource Usage
                    </h2>
                    <div className="bg-gray-800/40 rounded-lg p-6 border border-gray-700/40">
                      <ul className="list-disc list-inside space-y-2 text-gray-300 text-sm">
                        <li>Embedding cost per chunk (batch where possible); cache embeddings for unchanged artifacts.</li>
                        <li>ANN query compute scales with ef/nprobe; tune k and apply filters to reduce candidates.</li>
                        <li>Summarization tokens for write-backs and consolidation; enforce context budgets.</li>
                        <li>Background jobs (dedup/re-embed) consume CPU/GPU; schedule off peak with quotas.</li>
                      </ul>
                    </div>
                  </section>

                  {/* Best Use Cases */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-fuchsia-500 rounded-full"></div>
                      Best Use Cases
                    </h2>
                    <div className="bg-gray-800/40 rounded-lg p-6 border border-gray-700/40">
                      <ul className="list-disc list-inside space-y-2 text-gray-300 text-sm">
                        <li>Multi-agent research/analysis assistants with cross-agent knowledge sharing.</li>
                        <li>Code intelligence and architectural memory across services and teams.</li>
                        <li>Customer support/product QA with evolving knowledge and citations.</li>
                        <li>Long-running projects that benefit from cumulative, consolidated reasoning patterns.</li>
                      </ul>
                    </div>
                  </section>

                  {/* References & Further Reading */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-orange-500 rounded-full"></div>
                      References & Further Reading
                    </h2>
                    <div className="bg-gray-800/40 rounded-lg p-6 border border-gray-700/40 space-y-4">
                      <div>
                        <h3 className="text-white font-semibold mb-2 text-sm">Academic Papers</h3>
                        <ul className="list-disc list-inside space-y-1 text-gray-300 text-sm">
                          <li><a href="https://arxiv.org/abs/1410.3916" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">Memory Networks — Weston et al. (2014/2015)</a></li>
                          <li><a href="https://arxiv.org/abs/1410.5401" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">Neural Turing Machines — Graves et al. (2014)</a></li>
                          <li><a href="https://www.nature.com/articles/nature20101" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">Differentiable Neural Computers — Graves et al. (2016)</a></li>
                          <li><a href="https://arxiv.org/abs/2004.06007" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">kNN-LM: Generalization Through Memorization (2020)</a></li>
                          <li><a href="https://arxiv.org/abs/2004.04906" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">Dense Passage Retrieval (DPR) — Karpukhin et al. (2020)</a></li>
                          <li><a href="https://arxiv.org/abs/2005.11401" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">RAG: Retrieval-Augmented Generation — Lewis et al. (2020)</a></li>
                          <li><a href="https://arxiv.org/abs/2310.08560" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">MemGPT: Towards LLMs with Long-Term Memory (2023)</a></li>
                        </ul>
                      </div>
                      <div>
                        <h3 className="text-white font-semibold mb-2 text-sm">Implementation Guides</h3>
                        <ul className="list-disc list-inside space-y-1 text-gray-300 text-sm">
                          <li><a href="https://faiss.ai/" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">FAISS documentation</a></li>
                          <li><a href="https://milvus.io/docs" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">Milvus docs</a></li>
                          <li><a href="https://weaviate.io/developers" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">Weaviate developer docs</a></li>
                          <li><a href="https://qdrant.tech/documentation/" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">Qdrant documentation</a></li>
                          <li><a href="https://python.langchain.com/docs/use_cases/question_answering/" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">LangChain RAG/memory guides</a></li>
                          <li><a href="https://docs.llamaindex.ai/en/stable/" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">LlamaIndex memory/RAG guides</a></li>
                        </ul>
                      </div>
                      <div>
                        <h3 className="text-white font-semibold mb-2 text-sm">Tools & Libraries</h3>
                        <ul className="list-disc list-inside space-y-1 text-gray-300 text-sm">
                          <li>FAISS, ScaNN, Annoy, Milvus, Weaviate, Qdrant, LanceDB</li>
                          <li>Sentence-Transformers, OpenAI/Cohere embeddings</li>
                          <li>LangChain, LlamaIndex, Haystack</li>
                        </ul>
                      </div>
                      <div>
                        <h3 className="text-white font-semibold mb-2 text-sm">Community & Discussions</h3>
                        <ul className="list-disc list-inside space-y-1 text-gray-300 text-sm">
                          <li><a href="https://discuss.weaviate.io/" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">Weaviate Forum</a></li>
                          <li><a href="https://discuss.milvus.io/" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">Milvus Community</a></li>
                          <li><a href="https://github.com/qdrant/qdrant/discussions" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">Qdrant Discussions</a></li>
                          <li><a href="https://discuss.huggingface.co/" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">Hugging Face Forums</a></li>
                        </ul>
                      </div>
                    </div>
                </section>
                </>
              ) : selectedTechnique.id === 'adaptive-compute-scaling' ? (
                <>
                  {/* Core Mechanism (short conceptual overview) */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-blue-500 rounded-full"></div>
                      Core Mechanism (short conceptual overview)
                    </h2>
                    <div className="bg-gradient-to-br from-green-500/10 to-emerald-500/10 border border-emerald-500/20 rounded-xl p-6">
                      <p className="text-gray-200 text-base leading-relaxed">
                        Adaptive Compute Scaling automatically adjusts compute capacity (pods/replicas, nodes/VMs, GPU workers)
                        in response to real-time demand and SLOs. It combines metric-driven policies (e.g., p95 latency, queue
                        length, utilization) with stabilization windows, cooldowns, and predictive/scheduled scaling to maintain
                        performance while minimizing cost. Typical stacks layer service autoscaling (HPA/KEDA/Ray Serve) with
                        cluster/VM autoscaling (Cluster Autoscaler, AWS ASG, Azure VMSS, GCP MIG) and workload-aware batching.
                      </p>
                    </div>
                  </section>

                  {/* Workflow / Steps */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-purple-500 rounded-full"></div>
                      Workflow / Steps
                    </h2>
                    <div className="bg-gradient-to-br from-emerald-500/10 to-blue-500/10 border border-purple-500/20 rounded-xl p-6">
                      <ol className="list-decimal list-inside space-y-2 text-gray-200 text-sm">
                        <li>Ingest signals: p95 latency, queue depth/wait time, CPU/memory/GPU utilization, error rate, RPS/TPS.</li>
                        <li>Define targets: SLOs (latency, availability), budgets (cost/energy), and min/max replica bounds.</li>
                        <li>Choose policies: target tracking vs. step scaling; separate scale-up and scale-down behaviors.</li>
                        <li>Execute scaling: adjust replicas (HPA/KEDA/Ray Serve), then provision capacity (ASG/VMSS/MIG, Cluster Autoscaler).</li>
                        <li>Stabilize: apply stabilizationWindow/cooldowns and rate limits to avoid thrashing.</li>
                        <li>Pre-warm: keep warm pools or scheduled/predictive scale for diurnal/burst patterns.</li>
                        <li>Observe and tune: monitor KPIs, attribution by stage, and refine signals/thresholds regularly.</li>
                      </ol>
                    </div>
                  </section>

                  {/* Best Practices */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-green-500 rounded-full"></div>
                      Best Practices
                    </h2>
                    <div className="grid gap-3">
                      {[
                        'Use workload-appropriate signals: for GPU LLM serving, prefer p95 latency and queue depth over CPU%.',
                        'Set distinct scale-up (fast, aggressive) vs. scale-down (slow, conservative) policies with stabilization windows.',
                        'Pre-warm workers for cold-start-heavy models; use warm pools or schedule-based and predictive scaling.',
                        'Layer autoscalers: service (HPA/KEDA/Ray Serve) + cluster/VM (Cluster Autoscaler/ASG/VMSS/MIG).',
                        'Constrain with min/max replicas and max surge/drain; use Pod Disruption Budgets and graceful drains.',
                        'Batch intelligently (vLLM/TGI/Triton dynamic batching) and bound per-request tokens to keep tail latency stable.',
                        'Right-size nodes; bin-pack GPUs; use MIG/MPS where appropriate; avoid resource fragmentation.',
                        'Use SLO-driven targets (e.g., keep p95 < target) and monitor per-tenant fairness in multi-tenant clusters.',
                        'Instrument decision logs and runbooks; simulate bursts and failure modes before production.',
                      ].map((tip) => (
                        <div key={tip} className="flex items-start gap-3 p-3 bg-gray-800/40 rounded-lg">
                          <Check className="w-5 h-5 text-green-400 mt-0.5 flex-shrink-0" />
                          <span className="text-gray-300 text-sm leading-relaxed">{tip}</span>
                        </div>
                      ))}
                    </div>
                  </section>

                  {/* When NOT to Use */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-red-500 rounded-full"></div>
                      When NOT to Use
                    </h2>
                    <div className="bg-gray-800/40 rounded-lg p-6 border border-gray-700/40">
                      <ul className="list-disc list-inside space-y-2 text-gray-300 text-sm">
                        <li>Ultra low-latency hard real-time paths where any cold-start or rebalancing is unacceptable.</li>
                        <li>Stateful, heavily session-affine workloads without sharding or sticky routing strategies.</li>
                        <li>Licensing or quota-limited services where additional replicas cannot serve more throughput.</li>
                        <li>Air-gapped or fixed-capacity environments with no elastic backing resources.</li>
                      </ul>
                    </div>
                  </section>

                  {/* Common Pitfalls */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-amber-500 rounded-full"></div>
                      Common Pitfalls
                    </h2>
                    <div className="bg-gray-800/40 rounded-lg p-6 border border-gray-700/40">
                      <ul className="list-disc list-inside space-y-2 text-gray-300 text-sm">
                        <li>Using CPU% for GPU-bound inference; choose queue latency/depth and GPU utilization instead.</li>
                        <li>Thrashing from missing stabilization windows/cooldowns and symmetric scale policies.</li>
                        <li>Ignoring warm-up times, image pulls, or large model load times → prolonged SLO breaches.</li>
                        <li>No min capacity or headroom; Cluster Autoscaler lag starves pod autoscalers.</li>
                        <li>Scaling to zero without request buffering/warmers → severe cold-start penalties.</li>
                        <li>Over-reliance on averages; target p95/p99 and protect against bursty arrivals.</li>
                      </ul>
                    </div>
                  </section>

                  {/* Key Features */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-cyan-500 rounded-full"></div>
                      Key Features
                    </h2>
                    <div className="grid grid-cols-1 md:grid-cols-2 gap-3">
                      {[
                        'Metric-driven autoscaling (latency, queue depth, utilization, error rate).',
                        'Event-based scaling via external systems (KEDA: Kafka, SQS, Redis, Prometheus).',
                        'Predictive and scheduled scaling for diurnal patterns and known events.',
                        'Multi-layer scaling: service, node/VM, and cluster capacity coordination.',
                        'SLO-aware policies with distinct up/down behaviors and stabilization.',
                        'Cost/energy-aware constraints and budgets with per-tenant quotas.',
                      ].map((feat) => (
                        <div key={feat} className="p-3 bg-gray-800/40 rounded-lg text-gray-300 text-sm border border-gray-700/40">
                          {feat}
                        </div>
                      ))}
                    </div>
                  </section>

                  {/* KPIs / Success Metrics */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-emerald-500 rounded-full"></div>
                      KPIs / Success Metrics
                    </h2>
                    <div className="bg-gray-800/40 rounded-lg p-6 border border-gray-700/40">
                      <ul className="list-disc list-inside space-y-2 text-gray-300 text-sm">
                        <li>Latency p50/p95/p99 vs. SLO; queue wait time; error/timeouts under burst.</li>
                        <li>Throughput (RPS/TPS, tokens/sec) and scaling latency (time-to-capacity).</li>
                        <li>Cost per successful request; instance/GPU-hours; over/under-provisioned time%.</li>
                        <li>Autoscaling event rate and stability (no flapping); saturation headroom.</li>
                        <li>Per-tenant fairness and quota adherence in multi-tenant clusters.</li>
                      </ul>
                    </div>
                  </section>

                  {/* Token / Resource Usage */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-indigo-500 rounded-full"></div>
                      Token / Resource Usage
                    </h2>
                    <div className="bg-gray-800/40 rounded-lg p-6 border border-gray-700/40 space-y-3 text-sm text-gray-300">
                      <p>
                        For LLM inference, track tokens/sec, concurrent requests, and KV cache memory. Use batching and
                        context/token caps to bound tail latency; prefer queue depth + p95 latency as primary signals. For GPU
                        nodes, monitor VRAM/SM utilization, model load times, and ensure autoscalers have capacity headroom.
                      </p>
                      <ul className="list-disc list-inside space-y-1">
                        <li>Signals: queue depth, p95 latency, GPU util, request concurrency, token budgets.</li>
                        <li>Controls: dynamic batching, max new tokens, prompt length limits, warm pools.</li>
                        <li>Efficiency: cache KV/prefix; shard large models; bin-pack GPUs; avoid tiny underutilized pods.</li>
                      </ul>
                    </div>
                  </section>

                  {/* Best Use Cases */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-fuchsia-500 rounded-full"></div>
                      Best Use Cases
                    </h2>
                    <div className="bg-gray-800/40 rounded-lg p-6 border border-gray-700/40">
                      <ul className="list-disc list-inside space-y-2 text-gray-300 text-sm">
                        <li>Bursty, diurnal, or campaign-driven traffic (e-commerce, launches, live events).</li>
                        <li>GPU LLM serving with dynamic batching and strict latency/cost SLOs.</li>
                        <li>Event-driven processing (queues/streams) where backlog length is a clear signal.</li>
                        <li>Multi-tenant platforms needing cost control, fairness, and predictable SLOs.</li>
                      </ul>
                    </div>
                  </section>

                  {/* References & Further Reading */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-orange-500 rounded-full"></div>
                      References & Further Reading
                    </h2>
                    <div className="bg-gray-800/40 rounded-lg p-6 border border-gray-700/40 space-y-4">
                      <div>
                        <h3 className="text-white font-semibold mb-2 text-sm">Academic Papers</h3>
                        <ul className="list-disc list-inside space-y-1 text-gray-300 text-sm">
                          <li><a href="https://dl.acm.org/doi/10.1145/3291045.3300913" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">Scryer: Netflix Predictive Autoscaling (ACM, 2018)</a></li>
                          <li><a href="https://arxiv.org/abs/2309.02206" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">A Survey on Cloud Autoscaling (2023+)</a></li>
                          <li><a href="https://arxiv.org/abs/2309.06180" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">vLLM: PagedAttention and Throughput for LLM Serving (2023)</a></li>
                        </ul>
                      </div>
                      <div>
                        <h3 className="text-white font-semibold mb-2 text-sm">Implementation Guides</h3>
                        <ul className="list-disc list-inside space-y-1 text-gray-300 text-sm">
                          <li><a href="https://kubernetes.io/docs/tasks/run-application/horizontal-pod-autoscale/" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">Kubernetes Horizontal Pod Autoscaler (v2)</a></li>
                          <li><a href="https://keda.sh/docs/2.14/" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">KEDA: Event-Driven Autoscaling</a></li>
                          <li><a href="https://github.com/kubernetes/autoscaler/tree/master/cluster-autoscaler" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">Kubernetes Cluster Autoscaler</a></li>
                          <li><a href="https://docs.aws.amazon.com/autoscaling/ec2/userguide/ec2-auto-scaling-target-tracking.html" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">AWS EC2 Auto Scaling: Target Tracking</a></li>
                          <li><a href="https://docs.aws.amazon.com/autoscaling/ec2/userguide/ec2-auto-scaling-predictive-scaling.html" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">AWS Predictive Scaling</a></li>
                          <li><a href="https://learn.microsoft.com/azure/virtual-machine-scale-sets/virtual-machine-scale-sets-autoscale-overview" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">Azure VM Scale Sets Autoscale</a></li>
                          <li><a href="https://cloud.google.com/compute/docs/autoscaler" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">GCP Managed Instance Group Autoscaler</a></li>
                          <li><a href="https://docs.ray.io/en/latest/serve/scaling-and-resource-allocation.html" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">Ray Serve: Autoscaling</a></li>
                          <li><a href="https://docs.vllm.ai/en/latest/serving/production_guide.html#scaling" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">vLLM Production Scaling Guide</a></li>
                          <li><a href="https://huggingface.co/docs/text-generation-inference/basic_tutorials/benchmark#scaling" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">Hugging Face TGI: Scaling</a></li>
                        </ul>
                      </div>
                      <div>
                        <h3 className="text-white font-semibold mb-2 text-sm">Tools & Libraries</h3>
                        <ul className="list-disc list-inside space-y-1 text-gray-300 text-sm">
                          <li>Kubernetes HPA/KEDA/Cluster Autoscaler; AWS ASG; Azure VMSS; GCP MIG.</li>
                          <li>vLLM, Text Generation Inference (TGI), NVIDIA Triton Inference Server.</li>
                          <li>Prometheus + Grafana; CloudWatch; Azure Monitor; GCP Cloud Monitoring.</li>
                        </ul>
                      </div>
                      <div>
                        <h3 className="text-white font-semibold mb-2 text-sm">Community & Discussions</h3>
                        <ul className="list-disc list-inside space-y-1 text-gray-300 text-sm">
                          <li><a href="https://github.com/kedacore/keda/discussions" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">KEDA Community Discussions</a></li>
                          <li><a href="https://github.com/kubernetes/autoscaler/issues" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">Kubernetes SIG Autoscaling (issues)</a></li>
                          <li><a href="https://www.youtube.com/@AWSCompute" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">AWS Compute Talks/Blogs</a></li>
                          <li><a href="https://discuss.ray.io/c/ray-serve/6" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">Ray Serve Forum</a></li>
                        </ul>
                      </div>
                    </div>
                  </section>
                </>
              ) : selectedTechnique.id === 'latency-optimization' ? (
                <>
                  {/* Core Mechanism (short conceptual overview) */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-blue-500 rounded-full"></div>
                      Core Mechanism (short conceptual overview)
                    </h2>
                    <div className="bg-gradient-to-br from-blue-500/10 to-indigo-500/10 border border-blue-500/20 rounded-xl p-6">
                      <p className="text-gray-200 text-base leading-relaxed">
                        Latency Optimization reduces perceived and absolute response time across the end-to-end path: network, admission/queue,
                        batching, model execution, and post-processing. Core levers include connection reuse and streaming, deadline-aware dynamic
                        batching, speculative/draft decoding with verification, KV/prefix cache reuse, prompt/context minimization, geo/edge
                        placement, and hot-start strategies to keep time-to-first-token and tail latencies within SLOs.
                      </p>
                    </div>
                  </section>

                  {/* Workflow / Steps */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-purple-500 rounded-full"></div>
                      Workflow / Steps
                    </h2>
                    <div className="bg-gradient-to-br from-purple-500/10 to-blue-500/10 border border-purple-500/20 rounded-xl p-6">
                      <ol className="list-decimal list-inside space-y-2 text-gray-200 text-sm">
                        <li>Set SLOs: TTFT, TTUA, p95/p99 end-to-end latency, and error/timeout budgets per tier.</li>
                        <li>Instrument breakdown: DNS/TLS/connect, server time (queue, batch, infer, post-process), and client render.</li>
                        <li>Optimize transport: keep-alive HTTP/2 or gRPC, connection pooling, request coalescing, and streaming.</li>
                        <li>Apply server tactics: deadline-aware batching, speculative decoding, caching (KV/prefix/response), and warm pools.</li>
                        <li>Reduce tokens: prompt trimming, compression/summarization, retrieval caps, structured tool I/O.</li>
                        <li>Place smartly: geo/edge routing, CDN for static, regional failover; avoid cross-region hops on hot paths.</li>
                        <li>Validate and iterate: A/B measure deltas; tune batch size, speculative thresholds, and cache policies.</li>
                      </ol>
                    </div>
                  </section>

                  {/* Best Practices */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-green-500 rounded-full"></div>
                      Best Practices
                    </h2>
                    <div className="grid gap-3">
                      {[
                        'Stream tokens/results to cut perceived latency; render incrementally on the client.',
                        'Use deadline-aware batching with max queue time; separate low-latency from best-effort traffic.',
                        'Warm critical models and maintain small warm pools to avoid cold starts; lazy-load rarely used paths.',
                        'Reuse KV/prefix caches for conversational turns; cache verified responses and frequent tool outputs.',
                        'Adopt speculative/draft decoding with verification to accelerate decoding while preserving quality.',
                        'Prefer HTTP/2 or gRPC with connection pooling; avoid per-request TLS/DNS costs on hot paths.',
                        'Minimize prompt/context: deduplicate, compress, or summarize; favor IDs/refs over raw blobs.',
                        'Use edge/region affinity for interactive UX; avoid cross-region calls inside tight loops.',
                        'Bound max tokens and apply early-exit policies; fail fast with retries and circuit breakers.',
                        'Continuously profile p95/p99 and TTFT; alert on SLO breaches with stage-level attribution.'
                      ].map((tip) => (
                        <div key={tip} className="flex items-start gap-3 p-3 bg-gray-800/40 rounded-lg">
                          <Check className="w-5 h-5 text-green-400 mt-0.5 flex-shrink-0" />
                          <span className="text-gray-300 text-sm leading-relaxed">{tip}</span>
                        </div>
                      ))}
                    </div>
                  </section>

                  {/* When NOT to Use */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-red-500 rounded-full"></div>
                      When NOT to Use
                    </h2>
                    <div className="bg-gray-800/40 rounded-lg p-6 border border-gray-700/40">
                      <ul className="list-disc list-inside space-y-2 text-gray-300 text-sm">
                        <li>Offline/batch analytics where throughput or unit cost dominates over interactivity.</li>
                        <li>Compliance-critical pipelines that require fixed, deterministic processing (no speculative paths).</li>
                        <li>Extremely simple/low-traffic services where added complexity outweighs gains.</li>
                      </ul>
                    </div>
                  </section>

                  {/* Common Pitfalls */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-amber-500 rounded-full"></div>
                      Common Pitfalls
                    </h2>
                    <div className="bg-gray-800/40 rounded-lg p-6 border border-gray-700/40">
                      <ul className="list-disc list-inside space-y-2 text-gray-300 text-sm">
                        <li>Over-batching or large max tokens causing p95/p99 regressions and timeouts.</li>
                        <li>Cold starts from scale-to-zero or heavy model loads on the critical path.</li>
                        <li>Ignoring TTFT and queue time breakdowns; tuning only total latency.</li>
                        <li>Unbounded prompts/context growth; KV cache OOMs and thrashing.</li>
                        <li>Cross-region calls in interactive loops; high DNS/TLS/handshake overheads.</li>
                      </ul>
                    </div>
                  </section>

                  {/* Key Features */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-cyan-500 rounded-full"></div>
                      Key Features
                    </h2>
                    <div className="grid grid-cols-1 md:grid-cols-2 gap-3">
                      {[
                        'Token streaming and incremental rendering.',
                        'Deadline-aware dynamic batching with per-tier budgets.',
                        'Speculative/draft decoding with verification/acceptance.',
                        'KV/prefix cache reuse and response/result caching.',
                        'Geo/edge-aware routing and warm capacity pools.',
                        'Connection pooling (HTTP/2/gRPC) and efficient serialization.'
                      ].map((feat) => (
                        <div key={feat} className="p-3 bg-gray-800/40 rounded-lg text-gray-300 text-sm border border-gray-700/40">
                          {feat}
                        </div>
                      ))}
                    </div>
                  </section>

                  {/* KPIs / Success Metrics */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-emerald-500 rounded-full"></div>
                      KPIs / Success Metrics
                    </h2>
                    <div className="bg-gray-800/40 rounded-lg p-6 border border-gray-700/40">
                      <ul className="list-disc list-inside space-y-2 text-gray-300 text-sm">
                        <li>TTFT (time-to-first-token) and TTUA (time-to-usable-answer).</li>
                        <li>p50/p95/p99 end-to-end latency and stage breakdown (queue, batch, infer).</li>
                        <li>Speculative acceptance ratio; cache hit rates (KV/prefix/response).</li>
                        <li>Throughput (RPS, tokens/sec) under latency SLO; timeout/error rate.</li>
                        <li>SLO attainment rate and cost per successful request.</li>
                      </ul>
                    </div>
                  </section>

                  {/* Token / Resource Usage */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-indigo-500 rounded-full"></div>
                      Token / Resource Usage
                    </h2>
                    <div className="bg-gray-800/40 rounded-lg p-6 border border-gray-700/40 space-y-3 text-sm text-gray-300">
                      <p>
                        Bound prompt and generation budgets per tier. Prefer continuous/dynamic batching (e.g., vLLM/TGI) and memory-savvy attention
                        (PagedAttention/FlashAttention). Track KV cache memory growth with sequence length and batch size to avoid OOMs. Quantization
                        (INT8/INT4/FP8) and early-exit policies can reduce compute while preserving acceptable quality.
                      </p>
                      <ul className="list-disc list-inside space-y-1">
                        <li>Controls: max input/output tokens, summarization/compression, retrieval caps, early-exit thresholds.</li>
                        <li>Efficiency: reuse KV/prefix; speculative decoding to cut decoder steps; coalesce small requests.</li>
                        <li>Placement: co-locate data and models; avoid cross-region hot paths; use warm pools for burst.</li>
                      </ul>
                    </div>
                  </section>

                  {/* Best Use Cases */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-fuchsia-500 rounded-full"></div>
                      Best Use Cases
                    </h2>
                    <div className="bg-gray-800/40 rounded-lg p-6 border border-gray-700/40">
                      <ul className="list-disc list-inside space-y-2 text-gray-300 text-sm">
                        <li>Interactive chat/assistants and copilots where responsiveness drives UX.</li>
                        <li>Voice agents and real-time multimodal interfaces with strict TTFT targets.</li>
                        <li>Real-time RAG/search with streaming answers and progressive refinement.</li>
                        <li>Mobile/edge experiences with limited bandwidth, battery, and compute.</li>
                      </ul>
                    </div>
                  </section>

                  {/* References & Further Reading */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-orange-500 rounded-full"></div>
                      References & Further Reading
                    </h2>
                    <div className="bg-gray-800/40 rounded-lg p-6 border border-gray-700/40 space-y-4">
                      <div>
                        <h3 className="text-white font-semibold mb-2 text-sm">Academic Papers</h3>
                        <ul className="list-disc list-inside space-y-1 text-gray-300 text-sm">
                          <li><a href="https://arxiv.org/abs/2311.10461" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">On Speculative Decoding for Accelerating LLM Inference (2023)</a></li>
                          <li><a href="https://arxiv.org/abs/2309.06131" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">PagedAttention: Efficient Memory Management for LLM Serving (vLLM, 2023/2024)</a></li>
                          <li><a href="https://arxiv.org/abs/2307.08691" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">FlashAttention-2: Faster Attention with Better Parallelism (2023)</a></li>
                          <li><a href="https://arxiv.org/abs/2305.11206" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">AWQ: Activation-aware Weight Quantization for LLMs (2023)</a></li>
                        </ul>
                      </div>
                      <div>
                        <h3 className="text-white font-semibold mb-2 text-sm">Implementation Guides</h3>
                        <ul className="list-disc list-inside space-y-1 text-gray-300 text-sm">
                          <li><a href="https://docs.vllm.ai/en/latest/" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">vLLM: Continuous Batching and Serving Guide</a></li>
                          <li><a href="https://huggingface.co/docs/text-generation-inference/index" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">Hugging Face TGI: High-throughput/low-latency serving</a></li>
                          <li><a href="https://docs.nvidia.com/deeplearning/triton-inference-server/user-guide/" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">NVIDIA Triton: Scheduling & Dynamic Batching</a></li>
                          <li><a href="https://kserve.github.io/website/latest/" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">KServe: Model Serving on Kubernetes</a></li>
                        </ul>
                      </div>
                      <div>
                        <h3 className="text-white font-semibold mb-2 text-sm">Tools & Libraries</h3>
                        <ul className="list-disc list-inside space-y-1 text-gray-300 text-sm">
                          <li>vLLM, Text Generation Inference (TGI), NVIDIA Triton, TensorRT-LLM/FasterTransformer</li>
                          <li>FlashAttention, bitsandbytes, llama.cpp (ggml/gguf)</li>
                          <li>Ray Serve, KServe, Kubernetes HPA/KEDA for scaling and warm pools</li>
                        </ul>
                      </div>
                      <div>
                        <h3 className="text-white font-semibold mb-2 text-sm">Community & Discussions</h3>
                        <ul className="list-disc list-inside space-y-1 text-gray-300 text-sm">
                          <li><a href="https://github.com/vllm-project/vllm/discussions" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">vLLM Discussions</a></li>
                          <li><a href="https://github.com/huggingface/text-generation-inference/discussions" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">Hugging Face TGI Discussions</a></li>
                          <li><a href="https://forums.developer.nvidia.com/c/ai-data-science/deep-learning-inference/125" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">NVIDIA Inference Forums</a></li>
                        </ul>
                      </div>
                    </div>
                  </section>
                </>
              ) : selectedTechnique.id === 'adaptive-complexity-scaling' ? (
                <>
                  {/* Core Mechanism (short conceptual overview) */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-blue-500 rounded-full"></div>
                      Core Mechanism (short conceptual overview)
                    </h2>
                    <div className="bg-gradient-to-br from-blue-500/10 to-purple-500/10 border border-blue-500/20 rounded-xl p-6">
                      <p className="text-gray-200 text-base leading-relaxed">
                        Dynamically adjusts inference complexity in real time based on task difficulty, uncertainty, and resource budgets.
                        Uses early-exit halting, cascaded routing (small→large models), dynamic width/depth, sparse Mixture-of-Experts gating,
                        and speculative decoding to trade off quality, latency, and cost under explicit SLOs.
                      </p>
                    </div>
                  </section>

                  {/* Workflow / Steps */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-purple-500 rounded-full"></div>
                      Workflow / Steps
                    </h2>
                    <div className="bg-gradient-to-br from-purple-500/10 to-blue-500/10 border border-purple-500/20 rounded-xl p-6">
                      <ol className="list-decimal list-inside space-y-2 text-gray-200 text-sm">
                        <li>Estimate difficulty/uncertainty and read time/cost budgets (SLOs).</li>
                        <li>Select path: fast path (cheap model/early-exit) vs. deep path (bigger model/extra steps).</li>
                        <li>Allocate compute: max tokens, max thinking steps, halting thresholds, MoE expert budget.</li>
                        <li>Generate with online monitors (toxicity, uncertainty, self-consistency signals).</li>
                        <li>Early‑exit if confidence ≥ threshold; otherwise escalate (speculative decode, larger model, more steps).</li>
                        <li>Apply guardrails and verification when actions/claims are high‑risk; retry or fallback if needed.</li>
                        <li>Cache and reuse KV/prefix/context; record routing, costs, and outcomes.</li>
                        <li>Continuously learn thresholds/policies from evals and production telemetry.</li>
                      </ol>
                    </div>
                  </section>

                  {/* Best Practices */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-green-500 rounded-full"></div>
                      Best Practices
                    </h2>
                    <div className="grid gap-3">
                      {[
                        'Calibrate uncertainty/confidence (e.g., temperature scaling) before using it for halting/routing.',
                        'Define hard budgets: max tokens, max steps, max escalations; always have a safe fallback.',
                        'Use cascades: small model for triage; escalate only when needed; verify selectively.',
                        'Exploit sparsity: MoE (top‑k experts) and structured pruning/quantization to keep latency predictable.',
                        'Instrument everything: per‑request cost/latency, escalation rate, quality deltas vs. baseline.',
                        'Cache aggressively (prompt/prefix/KV) and share across requests when safe.',
                        'A/B evaluate new thresholds/policies offline on curated suites before production rollout.',
                        'Align policies to product SLOs (p95 latency, cost caps) rather than global averages.'
                      ].map((tip) => (
                        <div key={tip} className="flex items-start gap-3 p-3 bg-gray-800/40 rounded-lg">
                          <Check className="w-5 h-5 text-green-400 mt-0.5 flex-shrink-0" />
                          <span className="text-gray-300 text-sm leading-relaxed">{tip}</span>
                        </div>
                      ))}
                    </div>
                  </section>

                  {/* When NOT to Use */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-red-500 rounded-full"></div>
                      When NOT to Use
                    </h2>
                    <div className="bg-gray-800/40 rounded-lg p-6 border border-gray-700/40">
                      <ul className="list-disc list-inside space-y-2 text-gray-300 text-sm">
                        <li>Uniform, low‑variance tasks where a fixed small model meets quality and SLOs.</li>
                        <li>Hard real‑time or safety‑critical actions that cannot tolerate variable compute or routing risk.</li>
                        <li>Compliance‑critical flows requiring deterministic, fully auditable fixed pipelines.</li>
                      </ul>
                    </div>
                  </section>

                  {/* Common Pitfalls */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-amber-500 rounded-full"></div>
                      Common Pitfalls
                    </h2>
                    <div className="bg-gray-800/40 rounded-lg p-6 border border-gray-700/40">
                      <ul className="list-disc list-inside space-y-2 text-gray-300 text-sm">
                        <li>Miscalibrated thresholds → too many escalations or premature exits hurting quality.</li>
                        <li>Cost blow‑ups from recursive retries or unbounded test‑time compute.</li>
                        <li>QoS regressions under load when routing policies ignore backpressure/SLOs.</li>
                        <li>Speculative decoding mismatches causing frequent fallbacks and lost speedup.</li>
                      </ul>
                    </div>
                  </section>

                  {/* Key Features */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-cyan-500 rounded-full"></div>
                      Key Features
                    </h2>
                    <div className="grid grid-cols-1 md:grid-cols-2 gap-3">
                      {[
                        'Early‑exit halting (layer‑wise exits, patience‑based exiting).',
                        'Cascaded routing across models (small → medium → large) with verification.',
                        'Dynamic width/depth (e.g., DynaBERT) and adaptive thinking time.',
                        'Sparse Mixture‑of‑Experts with learned/top‑k gating (Switch/SG‑MoE).',
                        'Speculative/assisted decoding for faster generation.',
                        'Budget‑aware policies: token, latency, energy, and cost caps.'
                      ].map((feat) => (
                        <div key={feat} className="p-3 bg-gray-800/40 rounded-lg text-gray-300 text-sm border border-gray-700/40">
                          {feat}
                        </div>
                      ))}
                    </div>
                  </section>

                  {/* KPIs / Success Metrics */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-emerald-500 rounded-full"></div>
                      KPIs / Success Metrics
                    </h2>
                    <div className="bg-gray-800/40 rounded-lg p-6 border border-gray-700/40">
                      <ul className="list-disc list-inside space-y-2 text-gray-300 text-sm">
                        <li>Quality vs. fixed‑compute baseline (accuracy/win‑rate/human preference).</li>
                        <li>Latency p50/p95 and SLO‑breach rate; escalation rate and retry rate.</li>
                        <li>Cost per successful task; tokens saved (%) and compute utilization.</li>
                        <li>Stability of policies over time (drift of thresholds, variance under load).</li>
                      </ul>
                    </div>
                  </section>

                  {/* Token / Resource Usage */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-indigo-500 rounded-full"></div>
                      Token / Resource Usage
                    </h2>
                    <div className="bg-gray-800/40 rounded-lg p-6 border border-gray-700/40 space-y-3 text-sm text-gray-300">
                      <p>
                        Control average tokens via early‑exit halting and cascades; reuse KV cache and prefix/context where possible.
                        Set per‑turn token budgets and cap speculative lookahead. Prefer sparse MoE to dense scale‑ups when latency‑bound.
                      </p>
                      <ul className="list-disc list-inside space-y-1">
                        <li>Budgets: max input tokens, max generated tokens, max model hops, max verify calls.</li>
                        <li>Throughput: coalesce small requests; batch where safe; prioritize short prompts for tail‑latency.</li>
                        <li>Caching: prompt/prefix/KV caches; retrieval/result caches to avoid recomputation.</li>
                      </ul>
                    </div>
                  </section>

                  {/* Best Use Cases */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-fuchsia-500 rounded-full"></div>
                      Best Use Cases
                    </h2>
                    <div className="bg-gray-800/40 rounded-lg p-6 border border-gray-700/40">
                      <ul className="list-disc list-inside space-y-2 text-gray-300 text-sm">
                        <li>High‑volume assistants with strict latency/cost SLOs (support, chat, search).</li>
                        <li>On‑device/edge scenarios with tight memory/energy budgets.</li>
                        <li>Coding/analysis agents using fast triage + selective deep verification.</li>
                        <li>Routing gateways serving heterogeneous prompts and difficulty distributions.</li>
                      </ul>
                    </div>
                  </section>

                  {/* References & Further Reading */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-orange-500 rounded-full"></div>
                      References & Further Reading
                    </h2>
                    <div className="bg-gray-800/40 rounded-lg p-6 border border-gray-700/40 space-y-4">
                      <div>
                        <h3 className="text-white font-semibold mb-2 text-sm">Academic Papers</h3>
                        <ul className="list-disc list-inside space-y-1 text-gray-300 text-sm">
                          <li><a href="https://arxiv.org/abs/1603.08983" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">Adaptive Computation Time (Graves, 2016)</a></li>
                          <li><a href="https://arxiv.org/abs/2004.04037" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">DynaBERT: Dynamic Width/Depth (2020)</a></li>
                          <li><a href="https://arxiv.org/abs/2207.07061" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">Confident Adaptive Language Modeling (CALM, 2022)</a></li>
                          <li><a href="https://arxiv.org/abs/1701.06538" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">Sparsely‑Gated Mixture‑of‑Experts (Shazeer et al., 2017)</a></li>
                          <li><a href="https://arxiv.org/abs/2101.03961" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">Switch Transformer (Fedus et al., 2021)</a></li>
                          <li>Early‑exit for Transformers (e.g., DeeBERT, PABEE); cascaded LLMs (e.g., FrugalGPT).</li>
                          <li>Speculative decoding and Medusa‑style assisted decoding for faster generation.</li>
                        </ul>
                      </div>
                      <div>
                        <h3 className="text-white font-semibold mb-2 text-sm">Implementation Guides</h3>
                        <ul className="list-disc list-inside space-y-1 text-gray-300 text-sm">
                          <li><a href="https://docs.vllm.ai/en/latest/" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">vLLM: Inference & speculative decoding</a></li>
                          <li><a href="https://huggingface.co/docs/text-generation-inference" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">Hugging Face TGI: Inference features</a></li>
                          <li><a href="https://www.deepspeed.ai/tutorials/mixture-of-experts/" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">DeepSpeed‑MoE tutorial</a></li>
                        </ul>
                      </div>
                      <div>
                        <h3 className="text-white font-semibold mb-2 text-sm">Tools & Libraries</h3>
                        <ul className="list-disc list-inside space-y-1 text-gray-300 text-sm">
                          <li>vLLM, TGI, TensorRT‑LLM for high‑throughput serving.</li>
                          <li>DeepSpeed‑MoE/Switch‑style MoE, Megatron‑LM MoE.</li>
                          <li>Routing frameworks (e.g., RouteLLM) and feature stores for policy signals.</li>
                        </ul>
                      </div>
                      <div>
                        <h3 className="text-white font-semibold mb-2 text-sm">Community & Discussions</h3>
                        <ul className="list-disc list-inside space-y-1 text-gray-300 text-sm">
                          <li>Engineering blogs on test‑time compute, routing, MoE serving, and latency SLOs.</li>
                          <li>Conference talks/tutorials on speculative decoding and early‑exit.</li>
                        </ul>
                      </div>
                    </div>
                  </section>
                </>
              ) : selectedTechnique.id === 'adaptive-thinking' ? (
                <>
                  {/* Core Mechanism (short conceptual overview) */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-blue-500 rounded-full"></div>
                      Core Mechanism (short conceptual overview)
                    </h2>
                    <div className="bg-gradient-to-br from-blue-500/10 to-purple-500/10 border border-blue-500/20 rounded-xl p-6">
                      <p className="text-gray-200 text-base leading-relaxed">
                        Adaptive Thinking Systems use a meta-controller to analyze task signals (domain, difficulty,
                        novelty, risk, latency/cost budgets) and dynamically select the right reasoning strategy and
                        compute policy. They combine strategy routing (e.g., direct answer, short/long chain-of-thought,
                        tool use, retrieval/no-retrieval, verification), adaptive compute (early-exit, cascades, dynamic
                        depth/width), and feedback loops to continuously improve policies from evaluations and production
                        telemetry.
                      </p>
                    </div>
                  </section>

                  {/* Workflow / Steps */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-purple-500 rounded-full"></div>
                      Workflow / Steps
                    </h2>
                    <div className="bg-gradient-to-br from-purple-500/10 to-blue-500/10 border border-purple-500/20 rounded-xl p-6">
                      <ol className="list-decimal list-inside space-y-2 text-gray-200 text-sm">
                        <li>Assess task: estimate domain, difficulty, novelty, risk, and SLO budgets (latency/cost).</li>
                        <li>Route strategy: choose reasoning mode (direct, short/long CoT, ToT, program-of-thought, tool use, RAG/no‑RAG).</li>
                        <li>Allocate compute: set max tokens, steps, halting thresholds, model cascade, and verification plan.</li>
                        <li>Execute with monitors: uncertainty/calibration, self‑consistency, retrieval quality, tool outcomes.</li>
                        <li>Reflect/verify selectively: self‑critique or verifier checks for high‑risk claims or actions.</li>
                        <li>Adapt/iterate: early‑exit on confidence; otherwise expand depth, retrieve more, or escalate model.</li>
                        <li>Learn policies: log routes, costs, quality; update thresholds/routers from evals and live telemetry.</li>
                      </ol>
                    </div>
                  </section>

                  {/* Best Practices */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-green-500 rounded-full"></div>
                      Best Practices
                    </h2>
                    <div className="grid gap-3">
                      {[
                        'Use small/fast models or lightweight heuristics for routing; reserve large models for deep reasoning.',
                        'Calibrate uncertainty/confidence before using it for halting/routing (temperature scaling, ensembling).',
                        'Set explicit budgets: max tokens, steps, model hops, tool calls; always provide safe fallbacks.',
                        'Evaluate by slice (domain, difficulty, novelty); ablate each adaptive component to prove value.',
                        'Add selective verification for high‑impact actions/claims; avoid verifying everything.',
                        'Instrument everything: per‑request cost/latency, escalation rate, quality deltas vs. fixed baselines.',
                        'Cache retrievals, summaries, prompts, and KV; deduplicate across turns and sessions.'
                      ].map((tip) => (
                        <div key={tip} className="flex items-start gap-3 p-3 bg-gray-800/40 rounded-lg">
                          <Check className="w-5 h-5 text-green-400 mt-0.5 flex-shrink-0" />
                          <span className="text-gray-300 text-sm leading-relaxed">{tip}</span>
                        </div>
                      ))}
                    </div>
                  </section>

                  {/* When NOT to Use */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-red-500 rounded-full"></div>
                      When NOT to Use
                    </h2>
                    <div className="bg-gray-800/40 rounded-lg p-6 border border-gray-700/40">
                      <ul className="list-disc list-inside space-y-2 text-gray-300 text-sm">
                        <li>Uniform, low‑variance tasks where a fixed prompt/model meets quality and SLOs.</li>
                        <li>Hard real‑time or compliance‑critical flows that require fully deterministic pipelines.</li>
                        <li>Ultra‑tight resource budgets where routing/monitoring overhead exceeds value.</li>
                      </ul>
                    </div>
                  </section>

                  {/* Common Pitfalls */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-amber-500 rounded-full"></div>
                      Common Pitfalls
                    </h2>
                    <div className="bg-gray-800/40 rounded-lg p-6 border border-gray-700/40">
                      <ul className="list-disc list-inside space-y-2 text-gray-300 text-sm">
                        <li>Miscalibrated routers/thresholds → excessive escalations or premature exits.</li>
                        <li>Unbounded recursion (tools/retrieval/reflection) leading to cost/latency blow‑ups.</li>
                        <li>Overfitting routers to benchmarks; poor generalization to real‑world traffic.</li>
                        <li>Missing observability: no per‑stage tokens/costs, no attribution to final task success.</li>
                      </ul>
                    </div>
                  </section>

                  {/* Key Features */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-cyan-500 rounded-full"></div>
                      Key Features
                    </h2>
                    <div className="grid grid-cols-1 md:grid-cols-2 gap-3">
                      {[
                        'Strategy selection (direct ↔ CoT/ToT, tool use, RAG/no‑RAG, verification).',
                        'Adaptive compute policies (early‑exit, cascades, dynamic width/depth, patience).',
                        'Uncertainty‑ and budget‑aware routing aligned to product SLOs.',
                        'Meta‑reasoning and self‑reflection to detect and correct reasoning failures.',
                        'Selective verification and evaluator‑guided refinement.',
                        'Full observability of routing choices and per‑stage KPIs.'
                      ].map((feat) => (
                        <div key={feat} className="p-3 bg-gray-800/40 rounded-lg text-gray-300 text-sm border border-gray-700/40">
                          {feat}
                        </div>
                      ))}
                    </div>
                  </section>

                  {/* KPIs / Success Metrics */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-emerald-500 rounded-full"></div>
                      KPIs / Success Metrics
                    </h2>
                    <div className="bg-gray-800/40 rounded-lg p-6 border border-gray-700/40">
                      <ul className="list-disc list-inside space-y-2 text-gray-300 text-sm">
                        <li>Task success/quality uplift vs. fixed‑policy baselines; evaluator pass/win rates.</li>
                        <li>Tokens and cost per successful task; tokens saved (%) vs. long‑CoT baseline.</li>
                        <li>Latency p50/p95 and SLO‑breach rate; escalation and retry rates.</li>
                        <li>Router regret/accuracy; verification catch rate for high‑risk errors.</li>
                      </ul>
                    </div>
                  </section>

                  {/* Token / Resource Usage */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-indigo-500 rounded-full"></div>
                      Token / Resource Usage
                    </h2>
                    <div className="bg-gray-800/40 rounded-lg p-6 border border-gray-700/40 space-y-3 text-sm text-gray-300">
                      <p>
                        Control average tokens via early‑exit halting, cascaded routing, adaptive context sizing, and selective
                        verification. Reuse KV/prefix/context; prefer sparse or staged compute to dense scale‑ups when latency‑ or
                        cost‑bound.
                      </p>
                      <ul className="list-disc list-inside space-y-1">
                        <li>Budgets: max input/output tokens, max steps/hops, max tool/verify calls.</li>
                        <li>Throughput: batch/coalesce; prioritize short prompts for tail‑latency; enable speculative/assisted decoding.</li>
                        <li>Caching: prompt/prefix/KV and retrieval/result caches; deduplicate across turns/sessions.</li>
                      </ul>
                    </div>
                  </section>

                  {/* Best Use Cases */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-fuchsia-500 rounded-full"></div>
                      Best Use Cases
                    </h2>
                    <div className="bg-gray-800/40 rounded-lg p-6 border border-gray-700/40">
                      <ul className="list-disc list-inside space-y-2 text-gray-300 text-sm">
                        <li>High‑volume assistants with mixed difficulty and strict latency/cost SLOs.</li>
                        <li>Research/coding agents needing selective deep dives and verifier‑guided checks.</li>
                        <li>Adaptive tutoring and onboarding that personalize strategy depth and modality.</li>
                        <li>Incident/ops response where uncertainty‑aware routing and escalation are critical.</li>
                      </ul>
                    </div>
                  </section>

                  {/* References & Further Reading */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-orange-500 rounded-full"></div>
                      References & Further Reading
                    </h2>
                    <div className="bg-gray-800/40 rounded-lg p-6 border border-gray-700/40 space-y-4">
                      <div>
                        <h3 className="text-white font-semibold mb-2 text-sm">Academic Papers</h3>
                        <ul className="list-disc list-inside space-y-1 text-gray-300 text-sm">
                          <li><a href="https://arxiv.org/abs/1603.08983" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">Adaptive Computation Time (Graves, 2016)</a></li>
                          <li><a href="https://arxiv.org/abs/1910.10073" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">Depth‑Adaptive Transformer (Elbayad et al., 2019)</a></li>
                          <li><a href="https://arxiv.org/abs/2004.04037" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">DynaBERT: Adaptive Width and Depth (Hou et al., 2020)</a></li>
                          <li><a href="https://arxiv.org/abs/2207.07061" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">CALM: Confident Adaptive Language Modeling (Schuster et al., 2022)</a></li>
                          <li><a href="https://arxiv.org/abs/2305.10601" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">Tree of Thoughts: Deliberate Problem Solving (2023)</a></li>
                          <li><a href="https://arxiv.org/abs/2303.11366" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">Reflexion: Language Agents with Verbal Reinforcement Learning (2023)</a></li>
                        </ul>
                      </div>
                      <div>
                        <h3 className="text-white font-semibold mb-2 text-sm">Implementation Guides</h3>
                        <ul className="list-disc list-inside space-y-1 text-gray-300 text-sm">
                          <li><a href="https://python.langchain.com/docs/langgraph" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">LangGraph: dynamic routing with conditional edges</a></li>
                          <li><a href="https://docs.llamaindex.ai/en/stable/module_guides/deploying/query_engine/router_query_engine/" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">LlamaIndex: RouterQueryEngine</a></li>
                          <li><a href="https://dspy.ai/" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">DSPy: programmatic pipelines and policy learning</a></li>
                          <li><a href="https://docs.ray.io/en/latest/serve/" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">Ray Serve: routing DAGs and conditional deployments</a></li>
                        </ul>
                      </div>
                      <div>
                        <h3 className="text-white font-semibold mb-2 text-sm">Tools & Libraries</h3>
                        <ul className="list-disc list-inside space-y-1 text-gray-300 text-sm">
                          <li><a href="https://docs.vllm.ai/en/latest/" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">vLLM: high‑throughput inference and speculative decoding</a></li>
                          <li><a href="https://huggingface.co/docs/text-generation-inference" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">Hugging Face TGI: inference server</a></li>
                          <li><a href="https://github.com/routeLLM/routeLLM" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">RouteLLM: LLM routing framework</a></li>
                        </ul>
                      </div>
                      <div>
                        <h3 className="text-white font-semibold mb-2 text-sm">Community & Discussions</h3>
                        <ul className="list-disc list-inside space-y-1 text-gray-300 text-sm">
                          <li><a href="https://cookbook.openai.com/" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">OpenAI Cookbook: design patterns and evaluations</a></li>
                          <li><a href="https://docs.anthropic.com/claude/docs" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">Anthropic docs: prompting and safety guidance</a></li>
                          <li><a href="https://github.com/vllm-project/vllm/discussions" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">vLLM GitHub discussions</a></li>
                        </ul>
                      </div>
                    </div>
                  </section>
                </>
              ) : selectedTechnique.id === 'adaptive-context-sizing' ? (
                <>
                  {/* Core Mechanism (short conceptual overview) */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-blue-500 rounded-full"></div>
                      Core Mechanism (short conceptual overview)
                    </h2>
                    <div className="bg-gradient-to-br from-blue-500/10 to-purple-500/10 border border-blue-500/20 rounded-xl p-6">
                      <p className="text-gray-200 text-base leading-relaxed">
                        Adjusts how much context the model consumes per task by selecting, compressing, and budgeting
                        only the most relevant information. Combines retrieval→rerank→compress pipelines, adaptive-k
                        selection, and token-level mechanisms (e.g., learned or dynamic attention spans, KV-cache
                        selection) to balance quality with latency, token cost, and memory.
                      </p>
                    </div>
                  </section>

                  {/* Workflow / Steps */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-purple-500 rounded-full"></div>
                      Workflow / Steps
                    </h2>
                    <div className="bg-gradient-to-br from-purple-500/10 to-blue-500/10 border border-purple-500/20 rounded-xl p-6">
                      <ol className="list-decimal list-inside space-y-2 text-gray-200 text-sm">
                        <li>Assess task: estimate difficulty, novelty, and information needs from the query.</li>
                        <li>Candidate context: retrieve passages/snippets; consider prior turns and cached artifacts.</li>
                        <li>Adaptive selection: apply reranking and adaptive-k to choose how much to include.</li>
                        <li>Compression: summarize/deduplicate; keep citations and salient spans within token budget.</li>
                        <li>Assemble prompt: structure sections and provenance; respect hard token/latency budgets.</li>
                        <li>Generate + monitor: track utilization (lost-in-the-middle, citations, attention concentration).</li>
                        <li>Adapt/iterate: expand or contract context on uncertainty, evaluator failures, or gaps.</li>
                      </ol>
                    </div>
                  </section>

                  {/* Best Practices */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-green-500 rounded-full"></div>
                      Best Practices
                    </h2>
                    <div className="grid gap-3">
                      {[
                        'Use rerankers (cross-encoders) before packing; avoid naive long-context stuffing.',
                        'Apply adaptive-k: choose passages by score distribution rather than fixed k.',
                        'Compress with salience-aware summaries; preserve key entities, numbers, and citations.',
                        'Structure prompts with sections and provenance; mitigate "lost in the middle" by ordering.',
                        'Tune chunk sizes/overlap by tokenizer; measure long-context effectiveness, not just window size.',
                        'Log token budgets per stage; enforce hard caps and early-exit to protect p95 latency.',
                        'Cache retrievals, summaries, and KV; deduplicate across turns/sessions.'
                      ].map((tip) => (
                        <div key={tip} className="flex items-start gap-3 p-3 bg-gray-800/40 rounded-lg">
                          <Check className="w-5 h-5 text-green-400 mt-0.5 flex-shrink-0" />
                          <span className="text-gray-300 text-sm leading-relaxed">{tip}</span>
                        </div>
                      ))}
                    </div>
                  </section>

                  {/* When NOT to Use */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-red-500 rounded-full"></div>
                      When NOT to Use
                    </h2>
                    <div className="bg-gray-800/40 rounded-lg p-6 border border-gray-700/40">
                      <ul className="list-disc list-inside space-y-2 text-gray-300 text-sm">
                        <li>Uniform, simple queries where a fixed, short prompt meets quality and SLOs.</li>
                        <li>Hard real-time paths where retrieval/rerank/compression overhead breaks latency budgets.</li>
                        <li>Strictly deterministic/audited flows requiring fixed inputs and reproducibility.</li>
                        <li>Very long contexts without reranking where models under-utilize middle tokens.</li>
                      </ul>
                    </div>
                  </section>

                  {/* Common Pitfalls */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-amber-500 rounded-full"></div>
                      Common Pitfalls
                    </h2>
                    <div className="bg-gray-800/40 rounded-lg p-6 border border-gray-700/40">
                      <ul className="list-disc list-inside space-y-2 text-gray-300 text-sm">
                        <li>Context stuffing without reranking → token blowups with marginal quality gains.</li>
                        <li>Dropping provenance during compression → harder auditing and lower trust.</li>
                        <li>Uncapped k/overlap; no early-exit → cost and latency spikes.</li>
                        <li>Ignoring tokenizer/position effects → lost-in-the-middle and degraded utility.</li>
                      </ul>
                    </div>
                  </section>

                  {/* Key Features */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-cyan-500 rounded-full"></div>
                      Key Features
                    </h2>
                    <div className="grid grid-cols-1 md:grid-cols-2 gap-3">
                      {[
                        'Adaptive-k passage selection and calibrated reranking',
                        'Contextual compression with salience and citation preservation',
                        'Token and latency budgeting with early-exit and fallbacks',
                        'Attention/KV optimization (learned spans, token-level KV selection)',
                        'Provenance-aware packing and ordering to reduce middle-token decay',
                        'Observability: per-stage tokens, costs, and utilization metrics'
                      ].map((f) => (
                        <div key={f} className="p-3 bg-gray-800/40 rounded-lg text-gray-300 text-sm border border-gray-700/40">{f}</div>
                      ))}
                    </div>
                  </section>

                  {/* KPIs / Success Metrics */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-emerald-500 rounded-full"></div>
                      KPIs / Success Metrics
                    </h2>
                    <div className="bg-gray-800/40 rounded-lg p-6 border border-gray-700/40">
                      <ul className="list-disc list-inside space-y-2 text-gray-300 text-sm">
                        <li>Answer quality/evaluator pass vs. fixed-k baseline.</li>
                        <li>Tokens and cost per successful answer; compression ratio vs. retention.</li>
                        <li>Latency P50/P95; throughput under load; cache hit rates.</li>
                        <li>Reranker MRR/NDCG; retrieval hit rate; citation accuracy.</li>
                      </ul>
                    </div>
                  </section>

                  {/* Token / Resource Usage */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-indigo-500 rounded-full"></div>
                      Token / Resource Usage
                    </h2>
                    <div className="bg-gray-800/40 rounded-lg p-6 border border-gray-700/40">
                      <ul className="list-disc list-inside space-y-2 text-gray-300 text-sm">
                        <li>Total ≈ retrieval + rerank + compression + packed context + generation.</li>
                        <li>Budget using hard caps (input/output tokens, max k, max overlap) and early-exit policies.</li>
                        <li>Leverage KV/prefix caches; prefer paged/flash attention for long contexts.</li>
                        <li>Use small models for scoring/reranking; reserve large models for final generation.</li>
                      </ul>
                    </div>
                  </section>

                  {/* Best Use Cases */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-fuchsia-500 rounded-full"></div>
                      Best Use Cases
                    </h2>
                    <div className="bg-gray-800/40 rounded-lg p-6 border border-gray-700/40">
                      <ul className="list-disc list-inside space-y-2 text-gray-300 text-sm">
                        <li>Long-document QA and synthesis with strong provenance requirements.</li>
                        <li>Conversational assistants balancing history vs. fresh retrieval.</li>
                        <li>Cost/latency-sensitive production RAG with variable difficulty distribution.</li>
                        <li>On-device or memory-constrained deployments requiring aggressive compression.</li>
                      </ul>
                    </div>
                  </section>

                  {/* References & Further Reading */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-orange-500 rounded-full"></div>
                      References & Further Reading
                    </h2>
                    <div className="bg-gray-800/40 rounded-lg p-6 border border-gray-700/40 space-y-4">
                      <div>
                        <h3 className="text-white font-semibold mb-2 text-sm">Academic Papers</h3>
                        <ul className="list-disc list-inside space-y-1 text-gray-300 text-sm">
                          <li><a href="https://arxiv.org/abs/1905.07799" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">Adaptive Attention Span in Transformers (Sukhbaatar et al., 2019)</a></li>
                          <li><a href="https://arxiv.org/abs/2307.03172" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">Lost in the Middle: How LMs Use Long Context (Liu et al., 2023)</a></li>
                          <li><a href="https://arxiv.org/abs/2411.02886" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">TokenSelect: Dynamic Token-Level KV Cache Selection (Wu et al., 2024)</a></li>
                          <li><a href="https://arxiv.org/abs/2506.08479" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">Efficient Context Selection for Long-Context QA: Adaptive-k (Taguchi et al., 2025)</a></li>
                          <li><a href="https://arxiv.org/abs/2402.04347" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">LongRoPE: Extending LLMs to Millions of Tokens (Sun et al., 2024)</a></li>
                        </ul>
                      </div>
                      <div>
                        <h3 className="text-white font-semibold mb-2 text-sm">Implementation Guides</h3>
                        <ul className="list-disc list-inside space-y-1 text-gray-300 text-sm">
                          <li><a href="https://python.langchain.com/docs/modules/data_connection/retrievers/contextual_compression/" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">LangChain: ContextualCompressionRetriever</a></li>
                          <li><a href="https://docs.llamaindex.ai/en/stable/module_guides/retrievers/contextual_compression/" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">LlamaIndex: Contextual Compression Retriever</a></li>
                          <li><a href="https://docs.cohere.com/docs/rerank-overview" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">Cohere Rerank (cross-encoder reranking)</a></li>
                        </ul>
                      </div>
                      <div>
                        <h3 className="text-white font-semibold mb-2 text-sm">Tools & Libraries</h3>
                        <ul className="list-disc list-inside space-y-1 text-gray-300 text-sm">
                          <li><a href="https://github.com/openai/tiktoken" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">tiktoken (token counting)</a></li>
                          <li><a href="https://vllm.ai/" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">vLLM (PagedAttention) for long-context serving</a></li>
                          <li><a href="https://github.com/Dao-AILab/flash-attention" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">FlashAttention</a></li>
                        </ul>
                      </div>
                      <div>
                        <h3 className="text-white font-semibold mb-2 text-sm">Community & Discussions</h3>
                        <ul className="list-disc list-inside space-y-1 text-gray-300 text-sm">
                          <li><a href="https://community.openai.com/" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">OpenAI developer community</a></li>
                          <li><a href="https://github.com/vllm-project/vllm" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">vLLM GitHub discussions</a></li>
                          <li><a href="https://docs.anthropic.com/claude/docs" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">Anthropic guidance on prompts/context</a></li>
                        </ul>
                      </div>
                    </div>
                  </section>
                </>
              ) : selectedTechnique.id === 'adaptive-context-depth' ? (
                <>
                  {/* Core Mechanism (short conceptual overview) */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-blue-500 rounded-full"></div>
                      Core Mechanism (short conceptual overview)
                    </h2>
                    <div className="bg-gradient-to-br from-blue-500/10 to-purple-500/10 border border-blue-500/20 rounded-xl p-6">
                      <p className="text-gray-200 text-base leading-relaxed">
                        Dynamically scales context depth and memory allocation based on task complexity and runtime signals.
                        Shallow depth prioritizes concise, high-salience summaries; deeper levels include richer evidence,
                        cross-agent context, and longer retrieval spans. Practical enablers include adaptive attention spans,
                        depth-adaptive/early-exit execution, and retrieval→rerank→summarize pipelines that keep only the
                        most relevant tokens.
                      </p>
                    </div>
                  </section>

                  {/* Workflow / Steps */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-purple-500 rounded-full"></div>
                      Workflow / Steps
                    </h2>
                    <div className="bg-gradient-to-br from-purple-500/10 to-blue-500/10 border border-purple-500/20 rounded-xl p-6">
                      <ol className="list-decimal list-inside space-y-2 text-gray-200 text-sm">
                        <li>Intake: classify task type, difficulty, novelty, and required modalities.</li>
                        <li>Estimate complexity: use signals (length, entropy, dependency graph, prior failures/evals).</li>
                        <li>Select depth policy: choose level (e.g., L1 facts → L5 system design) and per-agent budgets.</li>
                        <li>Assemble context: retrieve, rerank, deduplicate, and summarize; build shared context pools.</li>
                        <li>Execute: cap tokens/layers/calls; prefer early-exit when confidence is high.</li>
                        <li>Monitor: track cost, latency, attention concentration, retrieval quality, evaluator signals.</li>
                        <li>Adapt: expand/contract depth; update thresholds and caches for future similar tasks.</li>
                      </ol>
                    </div>
                  </section>

                  {/* Best Practices */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-green-500 rounded-full"></div>
                      Best Practices
                    </h2>
                    <div className="grid gap-3">
                      {[
                        'Retrieve → rerank (cross-encoder) → summarize; avoid naïvely stuffing long documents.',
                        'Set explicit token, layer, and tool-call budgets by depth; provide safe fallbacks.',
                        'Progressive disclosure: start shallow; expand on uncertainty or evaluator/test failure.',
                        'Cache summaries and retrieval results; deduplicate across agents with shared pools.',
                        'Tune chunk sizes/overlap by tokenizer; measure long-context effectiveness, not just size.',
                        'Use small models for routing/complexity scoring; reserve larger models for deep reasoning.',
                        'Guardrails: cap recursion/iterations; monitor cost/latency per successful task.'
                      ].map((tip) => (
                        <div key={tip} className="flex items-start gap-3 p-3 bg-gray-800/40 rounded-lg">
                          <Check className="w-5 h-5 text-green-400 mt-0.5 flex-shrink-0" />
                          <span className="text-gray-300 text-sm leading-relaxed">{tip}</span>
                        </div>
                      ))}
                    </div>
                  </section>

                  {/* When NOT to Use */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-red-500 rounded-full"></div>
                      When NOT to Use
                    </h2>
                    <div className="bg-gray-800/40 rounded-lg p-6 border border-gray-700/40">
                      <ul className="list-disc list-inside space-y-2 text-gray-300 text-sm">
                        <li>Uniform, simple tasks where a fixed shallow prompt meets quality and SLOs.</li>
                        <li>Hard real-time paths where retrieval/summarization overhead breaks latency budgets.</li>
                        <li>Strict auditability/compliance flows requiring deterministic, fixed-context inputs.</li>
                        <li>Extremely long contexts without reranking, where models under-utilize middle tokens.</li>
                      </ul>
                    </div>
                  </section>

                  {/* Common Pitfalls */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-amber-500 rounded-full"></div>
                      Common Pitfalls
                    </h2>
                    <div className="bg-gray-800/40 rounded-lg p-6 border border-gray-700/40">
                      <ul className="list-disc list-inside space-y-2 text-gray-300 text-sm">
                        <li>Stuffing long context without reranking → wasted tokens and marginal quality gains.</li>
                        <li>Cross-agent duplication and context drift; missing shared context pool.</li>
                        <li>No cost/latency guardrails; unbounded depth expansion and tool recursion.</li>
                        <li>Ignoring tokenizer effects; mis-tuned chunk sizes and overlap.</li>
                      </ul>
                    </div>
                  </section>

                  {/* Key Features */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-cyan-500 rounded-full"></div>
                      Key Features
                    </h2>
                    <div className="grid grid-cols-1 md:grid-cols-2 gap-3">
                      {[
                        'Dynamic depth scaling with per-task/per-agent token budgets',
                        'Retrieval-aware context assembly with reranking and compression',
                        'Early-exit / depth-adaptive execution for efficiency',
                        'Cross-agent context deduplication and shared pools',
                        'Performance-aware adaptation from live metrics',
                        'Policy-driven expansion on uncertainty or evaluator fail',
                      ].map((feat) => (
                        <div key={feat} className="p-3 bg-gray-800/40 rounded-lg text-gray-300 text-sm border border-gray-700/40">
                          {feat}
                        </div>
                      ))}
                    </div>
                  </section>

                  {/* KPIs / Success Metrics */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-emerald-500 rounded-full"></div>
                      KPIs / Success Metrics
                    </h2>
                    <div className="bg-gray-800/40 rounded-lg p-6 border border-gray-700/40">
                      <ul className="list-disc list-inside space-y-2 text-gray-300 text-sm">
                        <li>Task success/quality vs fixed-depth baseline; evaluator pass rate.</li>
                        <li>Tokens and cost per successful task; depth expansion rate.</li>
                        <li>Latency p50/p95 with and without expansion; throughput under load.</li>
                        <li>Retrieval hit rate and reranker MRR/NDCG; duplication and cache hit rates.</li>
                      </ul>
                    </div>
                  </section>

                  {/* Token / Resource Usage */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-indigo-500 rounded-full"></div>
                      Token / Resource Usage
                    </h2>
                    <div className="bg-gray-800/40 rounded-lg p-6 border border-gray-700/40">
                      <ul className="list-disc list-inside space-y-2 text-gray-300 text-sm">
                        <li>Budget by depth: shallow (summaries, top-k evidence) → deep (full passages, cross-agent pools).</li>
                        <li>Heuristics: rerank to top-k, summarize to target ratio, compress shared context, stream results.</li>
                        <li>Runtime: prefer paged/flash attention and efficient serving; cache summaries and retrieval results.</li>
                        <li>Accounting: attribute tokens/cost to the final successful task, not individual subcalls.</li>
                      </ul>
                    </div>
                  </section>

                  {/* Best Use Cases */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-fuchsia-500 rounded-full"></div>
                      Best Use Cases
                    </h2>
                    <div className="bg-gray-800/40 rounded-lg p-6 border border-gray-700/40">
                      <ul className="list-disc list-inside space-y-2 text-gray-300 text-sm">
                        <li>Multi-agent research and planning with highly variable difficulty and evidence needs.</li>
                        <li>Customer support triage/escalation with retrieval, reranking, and selective depth.</li>
                        <li>Long-document QA and compliance reviews with progressive disclosure.</li>
                        <li>Code assistance across large repos; expand depth on uncertainty or failing tests.</li>
                      </ul>
                    </div>
                  </section>

                  {/* References & Further Reading */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-orange-500 rounded-full"></div>
                      References & Further Reading
                    </h2>
                    <div className="bg-gray-800/40 rounded-lg p-6 border border-gray-700/40 space-y-4">
                      <div>
                        <h3 className="text-white font-semibold mb-2 text-sm">Academic Papers</h3>
                        <ul className="list-disc list-inside space-y-1 text-gray-300 text-sm">
                          <li><a href="https://arxiv.org/abs/1905.07799" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">Adaptive Attention Span in Transformers (Sukhbaatar et al., 2019)</a></li>
                          <li><a href="https://arxiv.org/abs/1910.10073" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">Depth-Adaptive Transformer (Elbayad et al., 2019)</a></li>
                          <li><a href="https://arxiv.org/abs/2004.04037" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">DynaBERT: Adaptive Width and Depth (Hou et al., 2020)</a></li>
                          <li><a href="https://arxiv.org/abs/2004.12993" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">DeeBERT: Dynamic Early Exit for BERT (Xin et al., 2020)</a></li>
                          <li><a href="https://arxiv.org/abs/2307.03172" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">Lost in the Middle: How LMs Use Long Context (Liu et al., 2023)</a></li>
                          <li><a href="https://arxiv.org/abs/2402.04347" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">LongRoPE: Extending LLMs to Millions of Tokens (Sun et al., 2024)</a></li>
                        </ul>
                      </div>
                      <div>
                        <h3 className="text-white font-semibold mb-2 text-sm">Implementation Guides</h3>
                        <ul className="list-disc list-inside space-y-1 text-gray-300 text-sm">
                          <li><a href="https://cookbook.openai.com/" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">OpenAI Cookbook: long context & tokenization practices</a></li>
                          <li><a href="https://docs.anthropic.com/claude/docs" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">Anthropic docs: prompt and context best practices</a></li>
                          <li><a href="https://python.langchain.com/docs/modules/data_connection/document_transformers/text_splitters/" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">LangChain: text splitters and chunking</a></li>
                          <li><a href="https://docs.llamaindex.ai/" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">LlamaIndex: context management and reranking</a></li>
                        </ul>
                      </div>
                      <div>
                        <h3 className="text-white font-semibold mb-2 text-sm">Tools & Libraries</h3>
                        <ul className="list-disc list-inside space-y-1 text-gray-300 text-sm">
                          <li><a href="https://github.com/openai/tiktoken" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">tiktoken (token counting)</a></li>
                          <li><a href="https://vllm.ai/" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">vLLM (PagedAttention) for efficient long-context serving</a></li>
                          <li><a href="https://github.com/Dao-AILab/flash-attention" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">FlashAttention</a></li>
                          <li><a href="https://python.langchain.com/" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">LangChain</a> / <a href="https://docs.llamaindex.ai/" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">LlamaIndex</a> (retrieval, rerankers, compressors)</li>
                        </ul>
                      </div>
                      <div>
                        <h3 className="text-white font-semibold mb-2 text-sm">Community & Discussions</h3>
                        <ul className="list-disc list-inside space-y-1 text-gray-300 text-sm">
                          <li><a href="https://community.openai.com/" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">OpenAI developer community discussions</a></li>
                          <li><a href="https://www.anthropic.com/news" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">Anthropic updates and guidance</a></li>
                          <li><a href="https://github.com/vllm-project/vllm" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">vLLM GitHub issues/discussions</a></li>
                        </ul>
                      </div>
                    </div>
                  </section>
                </>
              ) : selectedTechnique.id === 'self-regulating-depth-control' ? (
                <>
                  {/* Core Mechanism (short conceptual overview) */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-blue-500 rounded-full"></div>
                      Core Mechanism (short conceptual overview)
                    </h2>
                    <div className="bg-gradient-to-br from-blue-500/10 to-purple-500/10 border border-blue-500/20 rounded-xl p-6">
                      <p className="text-gray-200 text-base leading-relaxed">
                        Dynamically regulates reasoning depth based on uncertainty, verifier feedback, and compute budgets.
                        The agent starts shallow, estimates confidence and difficulty, and only expands depth (more steps,
                        samples, tool calls, or layers) when expected quality gains justify the extra cost. Foundations
                        include adaptive computation time and early-exit transformers, as well as verifier-guided halting
                        in agent loops (e.g., ReAct/ToT with budgeted search).
                      </p>
                    </div>
                  </section>

                  {/* Workflow / Steps */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-purple-500 rounded-full"></div>
                      Workflow / Steps
                    </h2>
                    <div className="bg-gradient-to-br from-purple-500/10 to-blue-500/10 border border-purple-500/20 rounded-xl p-6">
                      <ol className="list-decimal list-inside space-y-2 text-gray-200 text-sm">
                        <li>Initialize budgets/thresholds: max tokens, max depth/iterations, p95 latency, target quality.</li>
                        <li>Shallow pass: quick solve using small model or few-shot; compute uncertainty/score.</li>
                        <li>Assess: verifier/critic, logprobs, self-consistency variance, or tests determine sufficiency.</li>
                        <li>Expand if needed: increase steps/samples, enable tools/RAG, or unlock deeper model/layers.</li>
                        <li>Early-exit: halt when calibrated confidence ≥ threshold or marginal gain per token is low.</li>
                        <li>Guardrails: cap recursion/tool loops; enforce per-call/token ceilings; record traces.</li>
                        <li>Learn: log depth vs. outcome; auto-tune thresholds and routing for future tasks.</li>
                      </ol>
                    </div>
                  </section>

                  {/* Best Practices */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-green-500 rounded-full"></div>
                      Best Practices
                    </h2>
                    <div className="grid gap-3">
                      {[
                        'Use calibrated confidence: verifier or cross-encoder scoring; track Expected Calibration Error (ECE).',
                        'Separate generator and verifier models; small router/verifier, larger generator only on demand.',
                        'Start with k small samples + self-consistency; expand k or depth only if disagreement remains.',
                        'Integrate retrieval/tools progressively; avoid immediate deep chains when simple lookups suffice.',
                        'Set hard ceilings: max depth/iterations/tool calls; timeouts with graceful fallback answers.',
                        'Attribute cost to successful tasks; measure marginal quality gain per extra token/second.',
                        'A/B thresholds per task family; auto-tune based on success, latency, and cost targets.'
                      ].map((tip) => (
                        <div key={tip} className="flex items-start gap-3 p-3 bg-gray-800/40 rounded-lg">
                          <Check className="w-5 h-5 text-green-400 mt-0.5 flex-shrink-0" />
                          <span className="text-gray-300 text-sm leading-relaxed">{tip}</span>
                        </div>
                      ))}
                    </div>
                  </section>

                  {/* When NOT to Use */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-red-500 rounded-full"></div>
                      When NOT to Use
                    </h2>
                    <div className="bg-gray-800/40 rounded-lg p-6 border border-gray-700/40">
                      <ul className="list-disc list-inside space-y-2 text-gray-300 text-sm">
                        <li>Hard real-time SLAs where any iterative deepening would break latency guarantees.</li>
                        <li>Strictly deterministic/audited flows requiring fixed prompts and fixed execution paths.</li>
                        <li>Simple single-hop queries already solved by a small model or cached retrieval.</li>
                        <li>Safety-critical domains where autonomous recursion is disallowed without human-in-the-loop.</li>
                      </ul>
                    </div>
                  </section>

                  {/* Common Pitfalls */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-amber-500 rounded-full"></div>
                      Common Pitfalls
                    </h2>
                    <div className="bg-gray-800/40 rounded-lg p-6 border border-gray-700/40">
                      <ul className="list-disc list-inside space-y-2 text-gray-300 text-sm">
                        <li>Uncalibrated stopping: using raw logprob as confidence without calibration/evaluators.</li>
                        <li>Runaway recursion/tool loops due to missing ceilings or missing convergence checks.</li>
                        <li>Over-expansion: large k or deep chains where marginal quality gain is negligible.</li>
                        <li>Ignoring task heterogeneity: one-size thresholds for coding, QA, planning, and RAG.</li>
                      </ul>
                    </div>
                  </section>

                  {/* Key Features */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-cyan-500 rounded-full"></div>
                      Key Features
                    </h2>
                    <div className="grid grid-cols-1 md:grid-cols-2 gap-3">
                      {[
                        'Confidence- and verifier‑based early exit',
                        'Budget‑aware depth planning (tokens, time, tools)',
                        'Adaptive sampling (k) and step expansion with self‑consistency',
                        'Depth/layer early‑exit on transformers where supported',
                        'Traceability of depth decisions and halting reasons',
                        'Auto‑tuning thresholds per task family'
                      ].map((feat) => (
                        <div key={feat} className="p-3 bg-gray-800/40 rounded-lg text-gray-300 text-sm border border-gray-700/40">
                          {feat}
                        </div>
                      ))}
                    </div>
                  </section>

                  {/* KPIs / Success Metrics */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-emerald-500 rounded-full"></div>
                      KPIs / Success Metrics
                    </h2>
                    <div className="bg-gray-800/40 rounded-lg p-6 border border-gray-700/40">
                      <ul className="list-disc list-inside space-y-2 text-gray-300 text-sm">
                        <li>Task success/quality vs fixed-depth baseline; evaluator pass rate.</li>
                        <li>Tokens and cost per successful task; marginal quality gain per 1k tokens.</li>
                        <li>Latency p50/p95 with/without deepening; throughput under load.</li>
                        <li>Verifier calibration (ECE), over‑/under‑depth rate, recursion abort rate.</li>
                      </ul>
                    </div>
                  </section>

                  {/* Token / Resource Usage */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-indigo-500 rounded-full"></div>
                      Token / Resource Usage
                    </h2>
                    <div className="bg-gray-800/40 rounded-lg p-6 border border-gray-700/40">
                      <ul className="list-disc list-inside space-y-2 text-gray-300 text-sm">
                        <li>Depth budgets: cap tokens/steps/samples; escalate only on uncertainty or verifier fail.</li>
                        <li>Use small routers/verifiers; reserve large models for deep passes.</li>
                        <li>Prefer early‑exit/mixture‑of‑depths and efficient serving (Paged/Flash Attention) where available.</li>
                        <li>Track and attribute compute to final successful output; cache intermediate artifacts.</li>
                      </ul>
                    </div>
                  </section>

                  {/* Best Use Cases */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-fuchsia-500 rounded-full"></div>
                      Best Use Cases
                    </h2>
                    <div className="bg-gray-800/40 rounded-lg p-6 border border-gray-700/40">
                      <ul className="list-disc list-inside space-y-2 text-gray-300 text-sm">
                        <li>Code assistants and evaluators that deepen on test failures or low confidence.</li>
                        <li>Multi‑hop QA, planning, and research that benefit from verifier‑guided deepening.</li>
                        <li>Tool‑use workflows (ReAct) with budgeted search and halting on sufficient evidence.</li>
                        <li>Customer support and triage systems with variable difficulty and SLAs.</li>
                      </ul>
                    </div>
                  </section>

                  {/* References & Further Reading */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-orange-500 rounded-full"></div>
                      References & Further Reading
                    </h2>
                    <div className="bg-gray-800/40 rounded-lg p-6 border border-gray-700/40 space-y-4">
                      <div>
                        <h3 className="text-white font-semibold mb-2 text-sm">Academic Papers</h3>
                        <ul className="list-disc list-inside space-y-1 text-gray-300 text-sm">
                          <li><a href="https://arxiv.org/abs/1603.08983" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">Adaptive Computation Time (Graves, 2016)</a></li>
                          <li><a href="https://arxiv.org/abs/1807.03819" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">Universal Transformers with ACT (Dehghani et al., 2018)</a></li>
                          <li><a href="https://arxiv.org/abs/1910.10073" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">Depth‑Adaptive Transformer (Elbayad et al., 2019)</a></li>
                          <li><a href="https://arxiv.org/abs/2004.12993" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">DeeBERT: Dynamic Early Exit (Xin et al., 2020)</a></li>
                          <li><a href="https://arxiv.org/abs/2004.04037" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">DynaBERT: Adaptive Width and Depth (Hou et al., 2020)</a></li>
                          <li><a href="https://arxiv.org/abs/2211.09066" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">CALM: Confident Adaptive Language Modeling (Schuster et al., 2022)</a></li>
                          <li><a href="https://arxiv.org/abs/2305.10601" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">Tree of Thoughts (Yao et al., 2023)</a></li>
                          <li><a href="https://arxiv.org/abs/2210.03629" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">ReAct: Reason + Act (Yao et al., 2022)</a></li>
                          <li><a href="https://arxiv.org/abs/2203.11171" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">Self‑Consistency Improves CoT (Wang et al., 2023)</a></li>
                          <li><a href="https://arxiv.org/abs/2211.17192" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">Speculative Decoding (Chen et al., 2023)</a></li>
                        </ul>
                      </div>
                      <div>
                        <h3 className="text-white font-semibold mb-2 text-sm">Implementation Guides</h3>
                        <ul className="list-disc list-inside space-y-1 text-gray-300 text-sm">
                          <li><a href="https://cookbook.openai.com/" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">OpenAI Cookbook: evaluation, token accounting, cost controls</a></li>
                          <li><a href="https://docs.anthropic.com/claude/docs" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">Anthropic docs: prompt, context, and safety best practices</a></li>
                          <li><a href="https://python.langchain.com/docs/guides/evaluation/" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">LangChain: evaluators and guardrails for halting/quality</a></li>
                        </ul>
                      </div>
                      <div>
                        <h3 className="text-white font-semibold mb-2 text-sm">Tools & Libraries</h3>
                        <ul className="list-disc list-inside space-y-1 text-gray-300 text-sm">
                          <li><a href="https://vllm.ai/" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">vLLM</a> and <a href="https://github.com/Dao-AILab/flash-attention" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">FlashAttention</a> for efficient serving</li>
                          <li><a href="https://huggingface.co/docs/transformers/index" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">Transformers</a> (community implementations of early‑exit/branchy models)</li>
                          <li><a href="https://www.llamaindex.ai/docs" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">LlamaIndex</a> / <a href="https://python.langchain.com/" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">LangChain</a> for verifier‑guided loops</li>
                        </ul>
                      </div>
                      <div>
                        <h3 className="text-white font-semibold mb-2 text-sm">Community & Discussions</h3>
                        <ul className="list-disc list-inside space-y-1 text-gray-300 text-sm">
                          <li><a href="https://community.openai.com/" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">OpenAI developer forum</a></li>
                          <li><a href="https://discuss.huggingface.co/" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">Hugging Face forums</a></li>
                          <li><a href="https://paperswithcode.com/" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">Papers with Code</a> pages for ACT, early‑exit, and CALM</li>
                        </ul>
                      </div>
                    </div>
                  </section>
                </>
              ) : selectedTechnique.id === 'latent-knowledge-retrieval' ? (
                <>
                  {/* Core Mechanism (short conceptual overview) */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-blue-500 rounded-full"></div>
                      Core Mechanism (short conceptual overview)
                    </h2>
                    <div className="bg-gradient-to-br from-blue-500/10 to-purple-500/10 border border-blue-500/20 rounded-xl p-6">
                      <p className="text-gray-200 text-base leading-relaxed">
                        Retrieve and synthesize knowledge by navigating latent semantic space rather than literal keywords.
                        The system abstracts the user query into concepts/patterns, generates hypothetical expansions
                        (e.g., HyDE), performs dense and hybrid retrieval, re-ranks with cross-encoders, and grounds the
                        final answer with citations. Tree/cluster structures (e.g., RAPTOR) improve recall and reasoning.
                      </p>
                    </div>
                  </section>

                  {/* Workflow / Steps */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-purple-500 rounded-full"></div>
                      Workflow / Steps
                    </h2>
                    <div className="bg-gradient-to-br from-purple-500/10 to-blue-500/10 border border-purple-500/20 rounded-xl p-6">
                      <ol className="list-decimal list-inside space-y-2 text-gray-200 text-sm">
                        <li>Parse intent and abstract patterns (entities, relations, mechanisms, constraints).</li>
                        <li>Query expansion: generate hypothetical document(s) to guide retrieval (HyDE).</li>
                        <li>Embed queries/expansions; run dense vector retrieval with hybrid filters (term/metadata).</li>
                        <li>Re-rank top candidates with cross-encoder rerankers (e.g., Cohere Rerank, monoT5).</li>
                        <li>Diversify with MMR/DR and multi-vector/late-interaction models (e.g., ColBERT).</li>
                        <li>Assemble and compress context; cite sources; optionally structure via RAPTOR-style trees.</li>
                        <li>Generate answer grounded in retrieved evidence; validate and de-duplicate claims.</li>
                        <li>Log citations, scores, and traces; update caches and freshness indexes.</li>
                      </ol>
                    </div>
                  </section>

                  {/* Best Practices */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-green-500 rounded-full"></div>
                      Best Practices
                    </h2>
                    <div className="grid gap-3">
                      {[
                        'Chunk on semantic boundaries with overlap; keep stable IDs and provenance for citations.',
                        'Pick embedding models validated on MTEB for your domain; version and re-embed on upgrades.',
                        'Use hybrid search (BM25 + vector + metadata filters) to improve precision on entities and codes.',
                        'Always add cross-encoder re-ranking for top-k; tune k for latency vs. quality.',
                        'Control redundancy with MMR/diversity; consolidate duplicates before prompting.',
                        'Ground answers with inline citations; enforce citation correctness checks.',
                        'Continuously evaluate: precision/recall@k, NDCG/MRR, grounded-answer rate, hallucination rate.',
                        'Cache hot queries and embeddings; set TTLs and freshness policies for time-sensitive data.',
                      ].map((tip) => (
                        <div key={tip} className="flex items-start gap-3 p-3 bg-gray-800/40 rounded-lg">
                          <Check className="w-5 h-5 text-green-400 mt-0.5 flex-shrink-0" />
                          <span className="text-gray-300 text-sm leading-relaxed">{tip}</span>
                        </div>
                      ))}
                    </div>
                  </section>

                  {/* When NOT to Use */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-red-500 rounded-full"></div>
                      When NOT to Use
                    </h2>
                    <div className="bg-gray-800/40 rounded-lg p-6 border border-gray-700/40">
                      <ul className="list-disc list-inside space-y-2 text-gray-300 text-sm">
                        <li>Very small, static corpora where curated prompts or rules outperform retrieval overhead.</li>
                        <li>Ultra low-latency paths that cannot afford embedding, ANN, and re-ranker costs.</li>
                        <li>Tasks without verifiable ground truth or where citations are mandatory but unavailable.</li>
                        <li>Highly sensitive data without encryption, access controls, and robust governance.</li>
                      </ul>
                    </div>
                  </section>

                  {/* Common Pitfalls */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-amber-500 rounded-full"></div>
                      Common Pitfalls
                    </h2>
                    <div className="bg-gray-800/40 rounded-lg p-6 border border-gray-700/40">
                      <ul className="list-disc list-inside space-y-2 text-gray-300 text-sm">
                        <li>Poor chunking and missing metadata → low recall and brittle citations.</li>
                        <li>Embedding drift/mismatch across services; unversioned models.</li>
                        <li>Skipping re-ranking; relying solely on ANN similarity scores.</li>
                        <li>Over-retrieval inflating tokens; no MMR/diversification or consolidation.</li>
                        <li>Ignoring freshness; serving stale content for time-sensitive queries.</li>
                      </ul>
                    </div>
                  </section>

                  {/* Key Features */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-cyan-500 rounded-full"></div>
                      Key Features
                    </h2>
                    <div className="grid grid-cols-1 md:grid-cols-2 gap-3">
                      {[
                        'Hypothetical document expansion (HyDE) and query rewriting',
                        'Dense + hybrid retrieval with metadata filters',
                        'Cross-encoder re-ranking and calibration',
                        'Multi-vector/late-interaction retrieval (e.g., ColBERT)',
                        'Tree/cluster retrieval and synthesis (e.g., RAPTOR)',
                        'Citation tracking and provenance preservation',
                      ].map((feat) => (
                        <div key={feat} className="p-3 bg-gray-800/40 rounded-lg text-gray-300 text-sm border border-gray-700/40">
                          {feat}
                        </div>
                      ))}
                    </div>
                  </section>

                  {/* KPIs / Success Metrics */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-emerald-500 rounded-full"></div>
                      KPIs / Success Metrics
                    </h2>
                    <div className="bg-gray-800/40 rounded-lg p-6 border border-gray-700/40">
                      <ul className="list-disc list-inside space-y-2 text-gray-300 text-sm">
                        <li>Precision/Recall@k, MRR/NDCG; coverage and diversity scores.</li>
                        <li>Grounded answer rate; citation correctness and uniqueness.</li>
                        <li>Hallucination rate reduction vs. no-retrieval baseline.</li>
                        <li>Latency p50/p95 and cost per answer; cache hit rates.</li>
                      </ul>
                    </div>
                  </section>

                  {/* Token / Resource Usage */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-indigo-500 rounded-full"></div>
                      Token / Resource Usage
                    </h2>
                    <div className="bg-gray-800/40 rounded-lg p-6 border border-gray-700/40">
                      <ul className="list-disc list-inside space-y-2 text-gray-300 text-sm">
                        <li>Embedding cost per chunk/query; batch where possible; reuse cached embeddings.</li>
                        <li>ANN index/query compute (HNSW/IVF parameters) and re-ranker inference cost.</li>
                        <li>Context assembly and summarization tokens; enforce budgets and compression.</li>
                        <li>Storage for vectors + metadata; background jobs for re-embed/re-index.</li>
                      </ul>
                    </div>
                  </section>

                  {/* Best Use Cases */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-fuchsia-500 rounded-full"></div>
                      Best Use Cases
                    </h2>
                    <div className="bg-gray-800/40 rounded-lg p-6 border border-gray-700/40">
                      <ul className="list-disc list-inside space-y-2 text-gray-300 text-sm">
                        <li>Research assistants and literature review with grounded synthesis.</li>
                        <li>Support/KB Q&A and product documentation with citations.</li>
                        <li>Code/architecture search and cross-repo reasoning.</li>
                        <li>Compliance, audit, and safety reviews requiring traceable evidence.</li>
                      </ul>
                    </div>
                  </section>

                  {/* References & Further Reading */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-orange-500 rounded-full"></div>
                      References & Further Reading
                    </h2>
                    <div className="bg-gray-800/40 rounded-lg p-6 border border-gray-700/40 space-y-4">
                      <div>
                        <h3 className="text-white font-semibold mb-2 text-sm">Academic Papers</h3>
                        <ul className="list-disc list-inside space-y-1 text-gray-300 text-sm">
                          <li><a href="https://arxiv.org/abs/2002.08909" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">REALM: Retrieval-Augmented LM Pre-Training (2020)</a></li>
                          <li><a href="https://arxiv.org/abs/2004.04906" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">Dense Passage Retrieval (DPR) — Karpukhin et al. (2020)</a></li>
                          <li><a href="https://arxiv.org/abs/2005.11401" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">RAG: Retrieval-Augmented Generation — Lewis et al. (2020)</a></li>
                          <li><a href="https://arxiv.org/abs/2110.08727" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">ColBERTv2: Effective and Efficient Retrieval (2021/2022)</a></li>
                          <li><a href="https://arxiv.org/abs/2212.10496" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">HyDE: Hypothetical Document Embeddings (2023)</a></li>
                          <li><a href="https://arxiv.org/abs/2310.11511" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">Self-RAG: Retrieve, Generate, and Critique (2023)</a></li>
                          <li><a href="https://arxiv.org/abs/2401.18059" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">RAPTOR: Tree-Organized Retrieval (2024)</a></li>
                          <li><a href="https://arxiv.org/abs/2312.10997" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">RAG Survey (2023/2024)</a></li>
                        </ul>
                      </div>
                      <div>
                        <h3 className="text-white font-semibold mb-2 text-sm">Implementation Guides</h3>
                        <ul className="list-disc list-inside space-y-1 text-gray-300 text-sm">
                          <li><a href="https://python.langchain.com/docs/use_cases/question_answering/" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">LangChain: RAG guides</a></li>
                          <li><a href="https://docs.llamaindex.ai/en/stable/" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">LlamaIndex: RAG/retrieval docs</a></li>
                          <li><a href="https://www.pinecone.io/learn/" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">Pinecone Learn: RAG best practices</a></li>
                          <li><a href="https://docs.cohere.com/docs/rerank" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">Cohere Rerank docs</a></li>
                        </ul>
                      </div>
                      <div>
                        <h3 className="text-white font-semibold mb-2 text-sm">Tools & Libraries</h3>
                        <ul className="list-disc list-inside space-y-1 text-gray-300 text-sm">
                          <li><a href="https://faiss.ai/" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">FAISS</a>, <a href="https://milvus.io/docs" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">Milvus</a>, <a href="https://weaviate.io/developers" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">Weaviate</a>, <a href="https://qdrant.tech/documentation/" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">Qdrant</a>, <a href="https://lancedb.com/" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">LanceDB</a></li>
                          <li><a href="https://www.sbert.net/" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">Sentence-Transformers</a>, <a href="https://arxiv.org/abs/2308.03281" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">E5 embeddings</a>, <a href="https://huggingface.co/spaces/mteb/leaderboard" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">MTEB leaderboard</a></li>
                          <li>LangChain, LlamaIndex, Haystack; ColBERT implementations; Cohere Rerank.</li>
                        </ul>
                      </div>
                      <div>
                        <h3 className="text-white font-semibold mb-2 text-sm">Community & Discussions</h3>
                        <ul className="list-disc list-inside space-y-1 text-gray-300 text-sm">
                          <li><a href="https://discuss.weaviate.io/" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">Weaviate Forum</a>, <a href="https://discuss.milvus.io/" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">Milvus Community</a>, <a href="https://github.com/qdrant/qdrant/discussions" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">Qdrant Discussions</a></li>
                          <li><a href="https://aclanthology.org/volumes/2024.knowledgenlp-1/" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">ACL Workshop: Knowledge-Augmented Methods (2024)</a></li>
                        </ul>
                      </div>
                    </div>
                  </section>
                </>
              ) : selectedTechnique.id === 'actor-frameworks' ? (
                <>
                  {/* Core Mechanism (short conceptual overview) */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-blue-500 rounded-full"></div>
                      Core Mechanism (short conceptual overview)
                    </h2>
                    <div className="bg-gradient-to-br from-blue-500/10 to-indigo-500/10 border border-blue-500/20 rounded-xl p-6">
                      <p className="text-gray-200 text-base leading-relaxed">
                        Actor frameworks implement the actor model: independent, state-encapsulated actors that process one
                        message at a time, communicate via asynchronous message passing, can create other actors, and are
                        supervised for fault isolation and recovery. Location transparency and routing/sharding enable
                        horizontal scaling across processes and nodes. In agentic systems, an LLM-powered agent can be modeled
                        as an actor with a mailbox, tools, and persistence, benefiting from supervision trees, backpressure,
                        and robust failure handling.
                      </p>
                    </div>
                  </section>

                  {/* Workflow / Steps */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-purple-500 rounded-full"></div>
                      Workflow / Steps
                    </h2>
                    <div className="bg-gradient-to-br from-purple-500/10 to-blue-500/10 border border-purple-500/20 rounded-xl p-6">
                      <ol className="list-decimal list-inside space-y-2 text-gray-200 text-sm">
                        <li>Define actor roles and protocols: message types, schemas, and expected behaviors.</li>
                        <li>Design supervision and lifecycle: restart strategies, escalation paths, and actor persistence.</li>
                        <li>Plan routing and sharding: consistent hashing/routers; mailbox policies and backpressure.</li>
                        <li>Implement actors: pure message handlers; avoid blocking; externalize I/O with timeouts.</li>
                        <li>Deploy runtime: cluster discovery, placement, and location transparency across nodes.</li>
                        <li>Instrument: tracing, structured logs, mailbox metrics, dead letters, and restarts.</li>
                        <li>Scale safely: tune concurrency, shard rebalancing, and flow control; add load-shedding.</li>
                        <li>Evolve: version message schemas and behaviors; run rolling upgrades with compatibility.</li>
                      </ol>
                    </div>
                  </section>

                  {/* Best Practices */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-green-500 rounded-full"></div>
                      Best Practices
                    </h2>
                    <div className="grid gap-3">
                      {[
                        'Use immutable messages and explicit schemas; validate at boundaries.',
                        'Keep handlers small and idempotent; separate compute from I/O; avoid blocking calls.',
                        'Apply supervision strategies (restart, backoff, circuit break) per failure mode.',
                        'Bound mailboxes; enable backpressure; define dead-letter handling and retries with jitter.',
                        'Adopt location transparency; use routers/sharding for scale and even load.',
                        'Persist critical state via event sourcing or durable state; prefer at-least-once semantics with idempotency.',
                        'Version messages and behaviors; maintain backward compatibility during rolling upgrades.',
                        'Test with property/chaos tests: partitions, crashes, slow actors, and message reordering.',
                        'Least-privilege for tool/IO access; audit actor actions; redact and minimize payloads.',
                      ].map((tip) => (
                        <div key={tip} className="flex items-start gap-3 p-3 bg-gray-800/40 rounded-lg">
                          <Check className="w-5 h-5 text-green-400 mt-0.5 flex-shrink-0" />
                          <span className="text-gray-300 text-sm leading-relaxed">{tip}</span>
                        </div>
                      ))}
                    </div>
                  </section>

                  {/* When NOT to Use */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-red-500 rounded-full"></div>
                      When NOT to Use
                    </h2>
                    <div className="bg-gray-800/40 rounded-lg p-6 border border-gray-700/40">
                      <ul className="list-disc list-inside space-y-2 text-gray-300 text-sm">
                        <li>Simple, single-threaded tasks where actor overhead adds complexity without benefit.</li>
                        <li>Ultra low-latency, hard real-time paths where async messaging violates deadlines.</li>
                        <li>Tight shared-memory algorithms requiring fine-grained in-process coordination.</li>
                        <li>Strong cross-entity transactional invariants without a coordinator/transaction layer.</li>
                        <li>Teams without experience operating async, distributed systems and tracing.</li>
                      </ul>
                    </div>
                  </section>

                  {/* Common Pitfalls */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-amber-500 rounded-full"></div>
                      Common Pitfalls
                    </h2>
                    <div className="bg-gray-800/40 rounded-lg p-6 border border-gray-700/40">
                      <ul className="list-disc list-inside space-y-2 text-gray-300 text-sm">
                        <li>Unbounded mailboxes and fan-out causing memory bloat and tail latencies.</li>
                        <li>Blocking calls inside handlers; head-of-line blocking; missing timeouts/cancellations.</li>
                        <li>Assuming global ordering or exactly-once delivery without idempotent handlers.</li>
                        <li>Too many fine-grained actors; excessive message chatter and serialization overhead.</li>
                        <li>Missing schema/versioning strategy → runtime incompatibilities during deploys.</li>
                        <li>Leaky supervision: restarts without cause analysis; restart storms after failures.</li>
                      </ul>
                    </div>
                  </section>

                  {/* Key Features */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-cyan-500 rounded-full"></div>
                      Key Features
                    </h2>
                    <div className="grid grid-cols-1 md:grid-cols-2 gap-3">
                      {[
                        'Actor isolation and single-threaded message processing',
                        'Asynchronous message passing with mailboxes and dead letters',
                        'Supervision hierarchies and restart strategies',
                        'Location transparency, routing, and cluster sharding',
                        'Routers (round-robin, consistent-hash) and load balancing',
                        'Persistence patterns: event sourcing, durable timers, reminders',
                        'Backpressure, bounded mailboxes, and flow control',
                        'Observability: tracing, metrics, mailbox and restart telemetry',
                      ].map((feat) => (
                        <div key={feat} className="p-3 bg-gray-800/40 rounded-lg text-gray-300 text-sm border border-gray-700/40">
                          {feat}
                        </div>
                      ))}
                    </div>
                  </section>

                  {/* KPIs / Success Metrics */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-emerald-500 rounded-full"></div>
                      KPIs / Success Metrics
                    </h2>
                    <div className="bg-gray-800/40 rounded-lg p-6 border border-gray-700/40">
                      <ul className="list-disc list-inside space-y-2 text-gray-300 text-sm">
                        <li>Throughput (messages/sec) and service latency p50/p95/p99 per actor and per route.</li>
                        <li>Mailbox depth, enqueue/dequeue rates, dead letters, and drop rates.</li>
                        <li>Restart rate, mean time to recovery (MTTR), and failure taxonomy.</li>
                        <li>Shard/placement balance, rebalancing churn, and hotspot detection.</li>
                        <li>Resource utilization (CPU, memory, network) per node and per shard.</li>
                      </ul>
                    </div>
                  </section>

                  {/* Token / Resource Usage */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-indigo-500 rounded-full"></div>
                      Token / Resource Usage
                    </h2>
                    <div className="bg-gray-800/40 rounded-lg p-6 border border-gray-700/40">
                      <ul className="list-disc list-inside space-y-2 text-gray-300 text-sm">
                        <li>For LLM-as-actor patterns: bound message sizes; summarize context; cache and reuse artifacts.</li>
                        <li>Use small models for routing/guards; reserve large models for heavy reasoning steps.</li>
                        <li>Tune concurrency and batch tool calls; set timeouts and circuit breakers per integration.</li>
                        <li>Bound mailbox memory; backpressure producers; compress payloads where safe.</li>
                        <li>Persist checkpoints to avoid recompute; employ TTL policies for state and logs.</li>
                      </ul>
                    </div>
                  </section>

                  {/* Best Use Cases */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-fuchsia-500 rounded-full"></div>
                      Best Use Cases
                    </h2>
                    <div className="bg-gray-800/40 rounded-lg p-6 border border-gray-700/40">
                      <ul className="list-disc list-inside space-y-2 text-gray-300 text-sm">
                        <li>Stateful conversational agents and assistants with supervision and retries.</li>
                        <li>IoT/device fleets and telemetry processing with partitioned, local state.</li>
                        <li>Real-time pipelines: trading, risk checks, game servers, chat, and collaboration.</li>
                        <li>Workflow/back-end services needing isolation, elasticity, and graceful recovery.</li>
                        <li>Distributed LLM multi-agent systems requiring routing, sharding, and resilience.</li>
                      </ul>
                    </div>
                  </section>

                  {/* References & Further Reading */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-orange-500 rounded-full"></div>
                      References & Further Reading
                    </h2>
                    <div className="bg-gray-800/40 rounded-lg p-6 border border-gray-700/40 space-y-4">
                      <div>
                        <h3 className="text-white font-semibold mb-2 text-sm">Academic Papers</h3>
                        <ul className="list-disc list-inside space-y-1 text-gray-300 text-sm">
                          <li><a href="https://en.wikipedia.org/wiki/Actor_model" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">Actor model (overview)</a></li>
                          <li><a href="https://arxiv.org/abs/1505.07368" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">Revisiting Actor Programming in C++ — Charousset et al. (2015)</a></li>
                          <li><a href="https://www.microsoft.com/en-us/research/publication/orleans-distributed-virtual-actors-for-scalability-and-simplicity/" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">Orleans: Distributed Virtual Actors (2014)</a></li>
                          <li><a href="https://www.usenix.org/system/files/conference/osdi16/osdi16-adya.pdf" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">C# Actors at Scale: Orleans Experience (OSDI’16)</a></li>
                        </ul>
                      </div>
                      <div>
                        <h3 className="text-white font-semibold mb-2 text-sm">Implementation Guides</h3>
                        <ul className="list-disc list-inside space-y-1 text-gray-300 text-sm">
                          <li><a href="https://doc.akka.io/docs/akka/current/typed/guide/actors-intro.html" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">Akka Typed Actors (docs)</a></li>
                          <li><a href="https://www.erlang.org/doc/design_principles/des_princ.html" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">Erlang/OTP Design Principles</a></li>
                          <li><a href="https://dotnet.github.io/orleans/docs/" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">Orleans Documentation</a></li>
                          <li><a href="https://docs.ray.io/en/latest/ray-core/actors.html" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">Ray Actors</a></li>
                          <li><a href="https://docs.dapr.io/developing-applications/building-blocks/actors/" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">Dapr Actors</a></li>
                        </ul>
                      </div>
                      <div>
                        <h3 className="text-white font-semibold mb-2 text-sm">Tools & Libraries</h3>
                        <ul className="list-disc list-inside space-y-1 text-gray-300 text-sm">
                          <li><a href="https://akka.io/" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">Akka (Scala/Java)</a></li>
                          <li><a href="https://www.erlang.org/" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">Erlang/OTP</a> and <a href="https://elixir-lang.org/" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">Elixir/OTP</a></li>
                          <li><a href="https://dotnet.github.io/orleans/" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">Orleans (.NET)</a></li>
                          <li><a href="https://actor-framework.org/" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">CAF (C++ Actor Framework)</a></li>
                          <li><a href="https://www.ray.io/" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">Ray</a></li>
                          <li><a href="https://actix.rs/" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">Actix (Rust)</a></li>
                          <li><a href="https://developers.cloudflare.com/durable-objects/" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">Cloudflare Durable Objects (actor-like)</a></li>
                        </ul>
                      </div>
                      <div>
                        <h3 className="text-white font-semibold mb-2 text-sm">Community & Discussions</h3>
                        <ul className="list-disc list-inside space-y-1 text-gray-300 text-sm">
                          <li><a href="https://discuss.akka.io/" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">Akka Discuss</a></li>
                          <li><a href="https://erlangforums.com/" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">Erlang Forums</a></li>
                          <li><a href="https://github.com/dotnet/orleans/discussions" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">Orleans Discussions</a></li>
                          <li><a href="https://discuss.ray.io/" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">Ray Community Forum</a></li>
                        </ul>
                      </div>
                    </div>
                  </section>
                </>
              ) : selectedTechnique.id === 'consensus-algorithms' ? (
                <>
                  {/* Core Mechanism (short conceptual overview) */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-blue-500 rounded-full"></div>
                      Core Mechanism (short conceptual overview)
                    </h2>
                    <div className="bg-gradient-to-br from-blue-500/10 to-orange-500/10 border border-blue-500/20 rounded-xl p-6">
                      <p className="text-gray-200 text-base leading-relaxed mb-3">
                        Mechanisms that enable a set of nodes or agents to agree on a single value or ordered
                        sequence of decisions despite failures or adversarial behavior. Families include:
                      </p>
                      <ul className="list-disc list-inside space-y-2 text-gray-200 text-sm">
                        <li><span className="font-medium">Crash Fault Tolerant (CFT)</span>: leader-based log replication (e.g., Raft, Paxos) for state machine replication.</li>
                        <li><span className="font-medium">Byzantine Fault Tolerant (BFT)</span>: tolerates malicious nodes via quorum certificates (e.g., PBFT, HotStuff, Tendermint).</li>
                        <li><span className="font-medium">Probabilistic/Sampling</span>: repeated randomized voting leading to metastable consensus (e.g., Avalanche).</li>
                        <li><span className="font-medium">DAG-based pipelines</span>: decouple mempool/ordering to improve throughput and latency (e.g., Narwhal/Tusk/Bullshark).
                        </li>
                      </ul>
                      <p className="text-gray-400 text-sm mt-3">
                        In multi-agent LLM systems, lighter-weight consensus (majority vote, confidence-weighted vote, LLM-as-judge)
                        is often used for decision aggregation; for authoritative shared state or external effects, adopt proven
                        distributed consensus with explicit safety/finality guarantees.
                      </p>
                    </div>
                  </section>

                  {/* Workflow / Steps */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-purple-500 rounded-full"></div>
                      Workflow / Steps
                    </h2>
                    <div className="bg-gradient-to-br from-purple-500/10 to-blue-500/10 border border-purple-500/20 rounded-xl p-6">
                      <ol className="list-decimal list-inside space-y-2 text-gray-200 text-sm">
                        <li><span className="font-medium">Define failure model</span>: crash-only (CFT) vs Byzantine (BFT); synchrony assumptions and quorum sizes.</li>
                        <li><span className="font-medium">Membership</span>: fixed committee or dynamic validator set; staking/weighting rules where applicable.</li>
                        <li><span className="font-medium">Proposal</span>: a leader or proposer suggests the next value/block.</li>
                        <li><span className="font-medium">Voting</span>: peers validate and vote; quorum certificates accumulate.</li>
                        <li><span className="font-medium">Commit/Finality</span>: once safety conditions are met, the value is irrevocably committed.</li>
                        <li><span className="font-medium">Recovery</span>: handle leader changes/view changes, timeouts, and reconfiguration.</li>
                      </ol>
                      <div className="grid grid-cols-1 md:grid-cols-3 gap-4 mt-4">
                        <div className="bg-gray-800/40 rounded-lg p-4 border border-gray-700/40">
                          <div className="text-gray-300 text-sm font-semibold mb-2">CFT (Raft)</div>
                          <ul className="list-disc list-inside text-gray-300 text-xs space-y-1">
                            <li>Leader election (terms, majority votes)</li>
                            <li>Log append, majority ack</li>
                            <li>Commit index advances, apply to state machine</li>
                          </ul>
                        </div>
                        <div className="bg-gray-800/40 rounded-lg p-4 border border-gray-700/40">
                          <div className="text-gray-300 text-sm font-semibold mb-2">BFT (HotStuff/Tendermint)</div>
                          <ul className="list-disc list-inside text-gray-300 text-xs space-y-1">
                            <li>Propose → vote (prevote/precommit or QC)</li>
                            <li>Form quorum certificate (≥ 2f + 1)</li>
                            <li>Commit with chained QCs; rotate leader on timeout</li>
                          </ul>
                        </div>
                        <div className="bg-gray-800/40 rounded-lg p-4 border border-gray-700/40">
                          <div className="text-gray-300 text-sm font-semibold mb-2">Probabilistic (Avalanche)</div>
                          <ul className="list-disc list-inside text-gray-300 text-xs space-y-1">
                            <li>Repeated random sampling of peers</li>
                            <li>Preference updates; confidence accumulates</li>
                            <li>Metastable convergence to final preference</li>
                          </ul>
                        </div>
                      </div>
                    </div>
                  </section>

                  {/* Best Practices */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-green-500 rounded-full"></div>
                      Best Practices
                    </h2>
                    <div className="grid gap-3">
                      {[
                        'Choose the protocol family that matches faults and trust: Raft/Paxos for CFT clusters; BFT (HotStuff/Tendermint) for adversarial settings; Avalanche for probabilistic, high-throughput environments.',
                        'Size quorums correctly (e.g., majority in CFT; 2f+1 in BFT) and document safety invariants and finality conditions.',
                        'Use timeouts, backoff, and view-change/leader-rotation; avoid assuming synchrony.',
                        'Instrument consensus: proposal rates, vote rates, time-to-finality, fork/reorg metrics, participation, message drops.',
                        'Run chaos/Jepsen-style tests, network partitions, clock skews, and byzantine scenarios; fuzz inputs and serialization.',
                        'For PoS, align incentives and slashing; monitor validator concentration and Nakamoto coefficient.',
                        'Separate data dissemination from ordering (e.g., DAG mempool like Narwhal) for throughput; batch and aggregate signatures (BLS) where available.',
                        'Plan safe upgrades: rolling key rotations, parameter changes, and replay protection; keep snapshots and state checkpoints.',
                      ].map((tip) => (
                        <div key={tip} className="flex items-start gap-3 p-3 bg-gray-800/40 rounded-lg">
                          <Check className="w-5 h-5 text-green-400 mt-0.5 flex-shrink-0" />
                          <span className="text-gray-300 text-sm leading-relaxed">{tip}</span>
                        </div>
                      ))}
                    </div>
                  </section>

                  {/* When NOT to Use */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-red-500 rounded-full"></div>
                      When NOT to Use
                    </h2>
                    <div className="bg-gray-800/40 rounded-lg p-6 border border-gray-700/40">
                      <ul className="list-disc list-inside space-y-2 text-gray-300 text-sm">
                        <li>Single-writer, centralized systems where a primary database provides required durability and availability.</li>
                        <li>Ultra-low-latency critical paths that cannot tolerate network round trips or quorum waits.</li>
                        <li>Small teams lacking operational maturity for validator operations, key management, and upgrades.</li>
                        <li>Tasks that only need heuristic aggregation in LLM agents (use voting/judge rather than full distributed consensus).</li>
                      </ul>
                    </div>
                  </section>

                  {/* Common Pitfalls */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-amber-500 rounded-full"></div>
                      Common Pitfalls
                    </h2>
                    <div className="bg-gray-800/40 rounded-lg p-6 border border-gray-700/40">
                      <ul className="list-disc list-inside space-y-2 text-gray-300 text-sm">
                        <li>Misconfigured quorum sizes or assuming synchrony, leading to safety or liveness violations.</li>
                        <li>O(n^2) message storms and bandwidth exhaustion in large committees without aggregation.</li>
                        <li>Leader stickiness or slow leader causing throughput collapse; lack of responsive view changes.</li>
                        <li>Stake/validator centralization, correlated failures, or key compromise increasing reorg risk.</li>
                        <li>Insufficient monitoring of reorg/fork rates, participation, and finality; blind to safety incidents.</li>
                      </ul>
                    </div>
                  </section>

                  {/* Key Features */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-cyan-500 rounded-full"></div>
                      Key Features
                    </h2>
                    <div className="grid grid-cols-1 md:grid-cols-2 gap-3">
                      {[
                        'Safety (no two different commits) and liveness under stated assumptions',
                        'Deterministic finality (BFT) vs probabilistic finality (sampling/PoW)',
                        'Leader-based vs leaderless; pipelining and chained quorum certificates',
                        'Quorum sizes and weighting (stake- or identity-based)',
                        'Partial synchrony tolerance and view-change responsiveness',
                        'Signature aggregation and batching for scalability',
                      ].map((feat) => (
                        <div key={feat} className="p-3 bg-gray-800/40 rounded-lg text-gray-300 text-sm border border-gray-700/40">
                          {feat}
                        </div>
                      ))}
                    </div>
                  </section>

                  {/* KPIs / Success Metrics */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-emerald-500 rounded-full"></div>
                      KPIs / Success Metrics
                    </h2>
                    <div className="bg-gray-800/40 rounded-lg p-6 border border-gray-700/40">
                      <ul className="list-disc list-inside space-y-2 text-gray-300 text-sm">
                        <li>Throughput (TPS) and end-to-end latency; time-to-first-block and time-to-finality (p50/p95).</li>
                        <li>Fork/reorg rate; finality reversion probability; view-change frequency and duration.</li>
                        <li>Validator participation, vote weight distribution, and Nakamoto coefficient.</li>
                        <li>Message complexity and bandwidth per validator; CPU utilization and signature verification rate.</li>
                      </ul>
                    </div>
                  </section>

                  {/* Token / Resource Usage */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-indigo-500 rounded-full"></div>
                      Token / Resource Usage
                    </h2>
                    <div className="bg-gray-800/40 rounded-lg p-6 border border-gray-700/40">
                      <ul className="list-disc list-inside space-y-2 text-gray-300 text-sm">
                        <li><span className="font-medium">PoS/BFT</span>: stake capital at risk (slashing), network I/O for votes/QCs, CPU for signature checks; O(n)–O(n^2) messaging depending on protocol.</li>
                        <li><span className="font-medium">PoW</span>: substantial energy/computation costs; not commonly used in new systems due to efficiency concerns.</li>
                        <li><span className="font-medium">Avalanche</span>: small constant sampling (k) per round; many short rounds; bandwidth dominated by gossip.</li>
                        <li><span className="font-medium">DAG mempools</span> (Narwhal/Tusk): higher steady-state bandwidth and memory to sustain pipelining; improved throughput and latency.</li>
                      </ul>
                    </div>
                  </section>

                  {/* Best Use Cases */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-fuchsia-500 rounded-full"></div>
                      Best Use Cases
                    </h2>
                    <div className="bg-gray-800/40 rounded-lg p-6 border border-gray-700/40">
                      <ul className="list-disc list-inside space-y-2 text-gray-300 text-sm">
                        <li><span className="font-medium">CFT</span>: control planes and metadata stores (etcd, Kubernetes), configuration/state replication.</li>
                        <li><span className="font-medium">BFT</span>: permissioned ledgers and high-value state transitions needing deterministic finality.</li>
                        <li><span className="font-medium">PoS public chains</span>: decentralized networks prioritizing energy efficiency and economic security.</li>
                        <li><span className="font-medium">Probabilistic sampling</span>: high-throughput/low-latency asset networks with large validator sets.</li>
                        <li><span className="font-medium">LLM multi-agent</span>: committee voting, confidence-weighted aggregation, or judge arbitration for answer selection; use strong consensus for shared durable state.</li>
                      </ul>
                    </div>
                  </section>

                  {/* References & Further Reading */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-orange-500 rounded-full"></div>
                      References & Further Reading
                    </h2>
                    <div className="bg-gray-800/40 rounded-lg p-6 border border-gray-700/40 space-y-4">
                      <div>
                        <h3 className="text-white font-semibold mb-2 text-sm">Academic Papers</h3>
                        <ul className="list-disc list-inside space-y-1 text-gray-300 text-sm">
                          <li><a href="https://lamport.azurewebsites.net/pubs/paxos-simple.pdf" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">Paxos Made Simple — Lamport (2001)</a></li>
                          <li><a href="https://raft.github.io/raft.pdf" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">In Search of an Understandable Consensus Algorithm (Raft) — Ongaro & Ousterhout (2014)</a></li>
                          <li><a href="https://pmg.csail.mit.edu/papers/osdi99.pdf" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">Practical Byzantine Fault Tolerance (PBFT) — Castro & Liskov (1999)</a></li>
                          <li><a href="https://arxiv.org/abs/1803.05069" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">HotStuff: BFT Consensus with Linearity — Yin et al. (2019)</a></li>
                          <li><a href="https://atrium.lib.uoguelph.ca/server/api/core/bitstreams/1f7c8d44-1ab4-4f6f-9a07-1a4f0a8c1b3a/content" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">The Latest Gossip on BFT Consensus (Tendermint) — Buchman (2016)</a></li>
                          <li><a href="https://arxiv.org/abs/2105.11827" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">Narwhal and Tusk: DAG-based Mempool and Efficient BFT Consensus — Danezis et al. (2022)</a></li>
                          <li><a href="https://ipfs.io/ipfs/QmUy4jh5mGNZvL2JReVRPXGi3g5UpFBXtFQGYYZf2ikLiA" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">Snowflake to Avalanche: A Novel Metastable Consensus — Team Rocket (2018)</a></li>
                        </ul>
                      </div>
                      <div>
                        <h3 className="text-white font-semibold mb-2 text-sm">Implementation Guides</h3>
                        <ul className="list-disc list-inside space-y-1 text-gray-300 text-sm">
                          <li><a href="https://raft.github.io/" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">Raft Guide and Visualizations</a></li>
                          <li><a href="https://docs.cometbft.com/" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">CometBFT (Tendermint Core) Documentation</a></li>
                          <li><a href="https://github.com/ethereum/consensus-specs" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">Ethereum Proof-of-Stake Consensus Specs</a></li>
                          <li><a href="https://docs.avax.network/" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">Avalanche Developer Docs</a></li>
                          <li><a href="https://aptos.dev/" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">Aptos (HotStuff-derived) Docs</a></li>
                        </ul>
                      </div>
                      <div>
                        <h3 className="text-white font-semibold mb-2 text-sm">Tools & Libraries</h3>
                        <ul className="list-disc list-inside space-y-1 text-gray-300 text-sm">
                          <li><a href="https://github.com/etcd-io/etcd/tree/main/raft" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">etcd Raft (Go)</a></li>
                          <li><a href="https://github.com/hashicorp/raft" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">HashiCorp Raft</a></li>
                          <li><a href="https://github.com/cometbft/cometbft" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">CometBFT (Tendermint Core)</a></li>
                          <li><a href="https://github.com/ava-labs/avalanchego" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">AvalancheGo</a></li>
                          <li><a href="https://besu.hyperledger.org/" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">Hyperledger Besu (Ethereum PoS)</a></li>
                        </ul>
                      </div>
                      <div>
                        <h3 className="text-white font-semibold mb-2 text-sm">Community & Discussions</h3>
                        <ul className="list-disc list-inside space-y-1 text-gray-300 text-sm">
                          <li><a href="https://ethresear.ch/" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">Ethereum Research Forum (finality, fork choice)</a></li>
                          <li><a href="https://groups.google.com/g/raft-dev" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">raft-dev Google Group</a></li>
                          <li><a href="https://forum.cosmos.network/" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">Cosmos/CometBFT Forum</a></li>
                        </ul>
                      </div>
                    </div>
                </section>
                </>
              ) : selectedTechnique.id === 'reinforcement-learning-adaptation' ? (
                <>
                  {/* Core Mechanism (short conceptual overview) */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-blue-500 rounded-full"></div>
                      Core Mechanism (short conceptual overview)
                    </h2>
                    <div className="bg-gradient-to-br from-blue-500/10 to-emerald-500/10 border border-blue-500/20 rounded-xl p-6">
                      <p className="text-gray-200 text-base leading-relaxed">
                        Optimize a policy to maximize expected cumulative reward from sequential interactions. Use exploration to
                        discover improvements, learn from trajectories (online or offline), and deploy a stable policy with safety
                        constraints. In LLM agents, adaptation often uses bandits/RL on top of a frozen model (e.g., RLHF/RLAIF,
                        reward modeling) to refine behaviors without full retraining.
                      </p>
                    </div>
                  </section>

                  {/* Workflow / Steps */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-purple-500 rounded-full"></div>
                      Workflow / Steps
                    </h2>
                    <div className="bg-gradient-to-br from-purple-500/10 to-blue-500/10 border border-purple-500/20 rounded-xl p-6">
                      <ol className="list-decimal list-inside space-y-2 text-gray-200 text-sm">
                        <li>
                          Problem framing: define state/observation, action space, reward signal, horizons, and constraints; prefer
                          offline evaluation proxies when online risk exists.
                        </li>
                        <li>
                          Algorithm selection: value-based (e.g., DQN variants) for discrete actions; policy gradient/actor–critic (PPO,
                          SAC) for continuous or stochastic policies; contextual bandits for single-step feedback; offline RL for
                          logged data only.
                        </li>
                        <li>
                          Data collection: simulate where possible; otherwise gated online traffic, shadow modes, or replay buffers.
                          In LLMs, collect human/model preferences to train a reward model.
                        </li>
                        <li>
                          Training/updates: perform stable updates (clipping, target networks, entropy regularization), reward
                          normalization/shaping, and early stopping on off-policy evaluation.
                        </li>
                        <li>
                          Evaluation: use A/B tests, counterfactual/off-policy estimators, safety checks, and regression suites;
                          measure regret, success rate, and business KPIs.
                        </li>
                        <li>
                          Deployment: start with small traffic, safety constraints, rollback, and continual monitoring; schedule
                          re-training and drift detection.
                        </li>
                      </ol>
                    </div>
                  </section>

                  {/* Best Practices */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-green-500 rounded-full"></div>
                      Best Practices
                    </h2>
                    <div className="grid gap-3">
                      {[
                        'Start simple: use contextual bandits before full RL when feedback is single-step.',
                        'Constrain policies with guardrails, action filters, and reward penalties for unsafe behavior.',
                        'Use robust baselines: PPO with clipping for stability; SAC for continuous control and entropy tuning.',
                        'Curate rewards: combine outcome metrics, proxy rewards, and penalties; monitor for specification gaming.',
                        'Prefer offline RL, simulation, or gated rollouts before broad online exploration in high-risk domains.',
                        'Log everything: seeds, configs, datasets, environment versions, and evaluation protocols for reproducibility.',
                        'Apply off-policy evaluation (IPS, doubly robust, DM) before shipping; validate reward model calibration.',
                        'Use checkpoints and rollback plans; deploy gradually with guardrails and traffic caps.',
                        'For LLM agents, use preference modeling (RLHF/RLAIF) and conservative updates to avoid capability regression.'
                      ].map((tip) => (
                        <div key={tip} className="flex items-start gap-3 p-3 bg-gray-800/40 rounded-lg">
                          <Check className="w-5 h-5 text-green-400 mt-0.5 flex-shrink-0" />
                          <span className="text-gray-300 text-sm leading-relaxed">{tip}</span>
                        </div>
                      ))}
                    </div>
                  </section>

                  {/* When NOT to Use */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-red-500 rounded-full"></div>
                      When NOT to Use
                    </h2>
                    <div className="bg-gray-800/40 rounded-lg p-6 border border-gray-700/40 text-sm text-gray-300 space-y-2">
                      <p>No reliable or timely feedback signal; purely supervised mapping suffices.</p>
                      <p>High-risk domains without safe simulation, guardrails, or rollback (e.g., safety-critical operations).</p>
                      <p>Severe reward sparsity and no feasible shaping or curriculum; infeasible sample budgets.</p>
                      <p>Short-lived products where exploration costs outweigh potential long-term gains.</p>
                    </div>
                  </section>

                  {/* Common Pitfalls */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-amber-500 rounded-full"></div>
                      Common Pitfalls
                    </h2>
                    <div className="bg-gray-800/40 rounded-lg p-6 border border-gray-700/40 text-sm text-gray-300 space-y-2">
                      <p>Reward misspecification and gaming; misaligned proxies yielding unintended behaviors.</p>
                      <p>Instability and high variance from large learning rates, unbounded updates, or poor normalization.</p>
                      <p>Distribution shift between training logs and deployment; offline RL without sufficient coverage.</p>
                      <p>Inadequate evaluation: relying solely on in-sample returns; no safety checks or long-horizon metrics.</p>
                      <p>For LLMs: over-optimization to the reward model leading to loss of helpfulness or diversity.</p>
                    </div>
                  </section>

                  {/* Key Features */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-cyan-500 rounded-full"></div>
                      Key Features
                    </h2>
                    <div className="grid grid-cols-1 md:grid-cols-2 gap-3">
                      {[
                        'Exploration–exploitation trade-off with adaptive strategies (epsilon decay, UCB, Thompson sampling).',
                        'Policy evaluation and improvement loops; actor–critic methods with variance reduction.',
                        'Offline, off-policy learning with replay buffers; counterfactual estimators for safety.',
                        'Reward modeling and preference learning (RLHF/RLAIF) for alignment with human goals.',
                        'Safety constraints and risk-sensitive objectives; conservative updates (KL/clipping).',
                        'Continuous monitoring, drift detection, and automated rollback.'
                      ].map((feat) => (
                        <div key={feat} className="p-3 bg-gray-800/40 rounded-lg text-gray-300 text-sm border border-gray-700/40">
                          {feat}
                        </div>
                      ))}
                    </div>
                  </section>

                  {/* KPIs / Success Metrics */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-emerald-500 rounded-full"></div>
                      KPIs / Success Metrics
                    </h2>
                    <div className="bg-gray-800/40 rounded-lg p-6 border border-gray-700/40 text-sm text-gray-300 grid grid-cols-1 md:grid-cols-2 gap-3">
                      <div>Cumulative reward/return; regret vs. baseline; success/goal completion rate.</div>
                      <div>Sample efficiency: environment steps to reach target; wall-clock training time.</div>
                      <div>Safety metrics: violation rate, blocked actions, and rollback frequency.</div>
                      <div>Stability: variance of returns, update ratio health, and catastrophic divergence incidents.</div>
                      <div>Business outcomes: retention, conversion, cost per improvement, and revenue lift.</div>
                      <div>For LLMs: preference win-rate, helpfulness/harmlessness scores, diversity/coverage.</div>
                    </div>
                  </section>

                  {/* Token / Resource Usage */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-indigo-500 rounded-full"></div>
                      Token / Resource Usage
                    </h2>
                    <div className="bg-gray-800/40 rounded-lg p-6 border border-gray-700/40 text-sm text-gray-300 space-y-2">
                      <p>Compute: GPU hours scale with environment complexity and batch size; prioritize sample-efficient algorithms and simulators.</p>
                      <p>Memory: replay buffers and large models increase VRAM; cap buffer size and use prioritized replay judiciously.</p>
                      <p>LLM agents: tokens for preference data and online rollouts; reduce with distilled feedback, smaller evaluators, and caching.</p>
                      <p>Operational: monitoring/telemetry overhead; use lightweight summaries and periodic evaluations.</p>
                    </div>
                  </section>

                  {/* Best Use Cases */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-fuchsia-500 rounded-full"></div>
                      Best Use Cases
                    </h2>
                    <div className="bg-gray-800/40 rounded-lg p-6 border border-gray-700/40 text-sm text-gray-300 space-y-2">
                      <p>Personalization and recommendations (bandits → RL for long-term value).</p>
                      <p>Dialog policy optimization and assistant behavior tuning with RLHF/RLAIF.</p>
                      <p>Robotics/control with simulation-to-real transfer; operations and resource allocation.</p>
                      <p>Marketplace and bidding strategies; dynamic pricing; sequential decision analytics.</p>
                    </div>
                  </section>

                  {/* References & Further Reading */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-orange-500 rounded-full"></div>
                      References & Further Reading
                    </h2>
                    <div className="bg-gray-800/40 rounded-lg p-6 border border-gray-700/40 space-y-4">
                      <div>
                        <h3 className="text-white font-semibold mb-2 text-sm">Academic Papers</h3>
                        <ul className="list-disc list-inside space-y-1 text-gray-300 text-sm">
                          <li><a href="https://www.andrew.cmu.edu/course/10-703/textbook/BartoSutton.pdf" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">Sutton & Barto — Reinforcement Learning: An Introduction (2nd ed.)</a></li>
                          <li><a href="https://www.nature.com/articles/nature14236" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">Mnih et al. — Human-level control through deep RL (DQN, Nature 2015)</a></li>
                          <li><a href="https://arxiv.org/abs/1707.06347" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">Schulman et al. — Proximal Policy Optimization (PPO, 2017)</a></li>
                          <li><a href="https://arxiv.org/abs/1801.01290" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">Haarnoja et al. — Soft Actor-Critic (SAC, 2018)</a></li>
                          <li><a href="https://arxiv.org/abs/2005.01643" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">Levine et al. — Offline Reinforcement Learning: Tutorial and Review (2020)</a></li>
                          <li><a href="https://arxiv.org/abs/2203.02155" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">Ouyang et al. — Training language models to follow instructions with human feedback (RLHF, 2022)</a></li>
                          <li><a href="https://arxiv.org/abs/2302.08582" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">Bai et al. — Constitutional AI: Harmlessness from AI feedback (2022)</a></li>
                          <li><a href="https://arxiv.org/abs/2106.01345" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">Chen et al. — Decision Transformer: Reinforcement Learning via Sequence Modeling (2021)</a></li>
                          <li><a href="https://arxiv.org/abs/1606.01540" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">Amodei et al. — Concrete Problems in AI Safety (2016)</a></li>
                        </ul>
                      </div>
                      <div>
                        <h3 className="text-white font-semibold mb-2 text-sm">Implementation Guides</h3>
                        <ul className="list-disc list-inside space-y-1 text-gray-300 text-sm">
                          <li><a href="https://spinningup.openai.com/en/latest/" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">OpenAI Spinning Up in Deep RL</a></li>
                          <li><a href="https://docs.ray.io/en/latest/rllib/index.html" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">Ray RLlib Documentation</a></li>
                          <li><a href="https://stable-baselines3.readthedocs.io/" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">Stable-Baselines3 Docs</a></li>
                          <li><a href="https://github.com/vwxyzjn/cleanrl" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">CleanRL</a></li>
                          <li><a href="https://farama.org/" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">Farama Foundation (Gymnasium, PettingZoo, Minigrid)</a></li>
                        </ul>
                      </div>
                      <div>
                        <h3 className="text-white font-semibold mb-2 text-sm">Tools & Libraries</h3>
                        <ul className="list-disc list-inside space-y-1 text-gray-300 text-sm">
                          <li><a href="https://github.com/ray-project/ray" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">Ray RLlib</a>, <a href="https://github.com/DLR-RM/stable-baselines3" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">Stable-Baselines3</a>, <a href="https://github.com/google-deepmind/acme" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">DeepMind Acme</a></li>
                          <li><a href="https://github.com/rail-berkeley/d4rl" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">D4RL</a> (offline RL datasets), <a href="https://github.com/Farama-Foundation/Datasets" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">Farama Datasets</a></li>
                          <li><a href="https://github.com/Farama-Foundation/Gymnasium" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">Gymnasium</a>, <a href="https://github.com/Farama-Foundation/PettingZoo" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">PettingZoo</a>, <a href="https://github.com/deepmind/dm_control" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">DM Control</a></li>
                        </ul>
                      </div>
                      <div>
                        <h3 className="text-white font-semibold mb-2 text-sm">Community & Discussions</h3>
                        <ul className="list-disc list-inside space-y-1 text-gray-300 text-sm">
                          <li><a href="https://www.reddit.com/r/reinforcementlearning/" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">r/reinforcementlearning</a> and <a href="https://discord.gg/farama" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">Farama Discord</a></li>
                          <li><a href="https://sites.google.com/view/deep-rl-bootcamp/lectures" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">Deep RL Bootcamp Lectures</a></li>
                        </ul>
                      </div>
                    </div>
                  </section>
                </>
              ) : selectedTechnique.id === 'continuous-learning' ? (
                <>
                  {/* Core Mechanism (short conceptual overview) */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-blue-500 rounded-full"></div>
                      Core Mechanism (short conceptual overview)
                    </h2>
                    <div className="bg-gradient-to-br from-blue-500/10 to-rose-500/10 border border-blue-500/20 rounded-xl p-6">
                      <p className="text-gray-200 text-base leading-relaxed">
                        Continual/continuous learning maintains a balance between stability (retaining prior knowledge)
                        and plasticity (integrating new information) while models learn over streams of non-stationary
                        data. Systems mitigate catastrophic forgetting via regularization (e.g., EWC, LwF), rehearsal
                        and experience replay, parameter-efficient updates (LoRA/adapters), or dynamic architectures
                        (e.g., Progressive Networks), with periodic evaluation on old and new tasks.
                      </p>
                    </div>
                  </section>

                  {/* Workflow / Steps */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-purple-500 rounded-full"></div>
                      Workflow / Steps
                    </h2>
                    <div className="bg-gradient-to-br from-purple-500/10 to-blue-500/10 border border-purple-500/20 rounded-xl p-6">
                      <ol className="list-decimal list-inside space-y-2 text-gray-200 text-sm">
                        <li>Define learning regime: class/task incremental, domain incremental, or streaming online; choose metrics (retention, BWT/FWT).</li>
                        <li>Data ingestion: buffer streaming data; deduplicate; label or generate weak labels; detect drift/shifts.</li>
                        <li>Stability–plasticity controls: pick strategy (replay, regularization, parameter-efficient finetuning, dynamic expansion).</li>
                        <li>Update loop: schedule micro-batches; interleave replay exemplars; checkpoint and gate releases.</li>
                        <li>Evaluation: track performance on historical tasks/slices and new data; run regression and safety suites.</li>
                        <li>Deployment & rollback: progressive rollout; guardrails; monitor drift/forgetting and auto-retrain triggers.</li>
                      </ol>
                    </div>
                  </section>

                  {/* Best Practices */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-green-500 rounded-full"></div>
                      Best Practices
                    </h2>
                    <div className="grid gap-3">
                      {[
                        'Prefer replay + regularization baselines (ER, DER++, EWC/LwF) before complex methods.',
                        'Bound replay memory; use class-balanced reservoir sampling; store embeddings when raw data retention is constrained.',
                        'Use parameter-efficient finetuning (LoRA/adapters) for frequent small updates; periodically consolidate via full finetune or distillation.',
                        'Evaluate retention with task-specific held-out sets; report backward/forward transfer and forgetting metrics.',
                        'Detect and label distribution shifts; split by time, domain, and task to avoid leakage.',
                        'Isolate safety-critical capabilities; add guardrails and post-training safety checks for updated behaviors.',
                        'Automate drift detection, update cadence, and rollback; keep immutable baselines for A/B comparisons.'
                      ].map((tip) => (
                        <div key={tip} className="flex items-start gap-3 p-3 bg-gray-800/40 rounded-lg">
                          <Check className="w-5 h-5 text-green-400 mt-0.5 flex-shrink-0" />
                          <span className="text-gray-300 text-sm leading-relaxed">{tip}</span>
                        </div>
                      ))}
                    </div>
                  </section>

                  {/* When NOT to Use */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-red-500 rounded-full"></div>
                      When NOT to Use
                    </h2>
                    <div className="bg-gray-800/40 rounded-lg p-6 border border-gray-700/40 text-sm text-gray-300 space-y-2">
                      <p>Static domains with infrequent change where periodic batch retraining is simpler and safer.</p>
                      <p>Severely resource-constrained deployments where storage for replay or frequent updates is infeasible.</p>
                      <p>High-stakes settings without safe evaluation sandboxes, guardrails, or instant rollback paths.</p>
                    </div>
                  </section>

                  {/* Common Pitfalls */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-amber-500 rounded-full"></div>
                      Common Pitfalls
                    </h2>
                    <div className="bg-gray-800/40 rounded-lg p-6 border border-gray-700/40 text-sm text-gray-300 space-y-2">
                      <p>Catastrophic forgetting from unbalanced online updates without rehearsal or regularization.</p>
                      <p>Data leakage across time/task splits; evaluation that ignores long‑term retention.</p>
                      <p>Unbounded model growth with dynamic expansion; latency and cost regressions.</p>
                      <p>Overfitting to the latest slice; loss of diversity and coverage in LLM behaviors.</p>
                    </div>
                  </section>

                  {/* Key Features */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-cyan-500 rounded-full"></div>
                      Key Features
                    </h2>
                    <div className="grid grid-cols-1 md:grid-cols-2 gap-3">
                      {[
                        'Rehearsal/replay buffers and generative replay for retention.',
                        'Regularization: Elastic Weight Consolidation, Synaptic Intelligence, Learning without Forgetting.',
                        'Dynamic architectures: Progressive Networks, expandable adapters/experts.',
                        'Parameter‑efficient finetuning: LoRA/QLoRA, adapters, prefix-tuning.',
                        'Drift detection and evaluation harness for long‑term retention.',
                        'Privacy‑aware replay via embeddings or distillation when raw data cannot be stored.'
                      ].map((feat) => (
                        <div key={feat} className="p-3 bg-gray-800/40 rounded-lg text-gray-300 text-sm border border-gray-700/40">
                          {feat}
                        </div>
                      ))}
                    </div>
                  </section>

                  {/* KPIs / Success Metrics */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-emerald-500 rounded-full"></div>
                      KPIs / Success Metrics
                    </h2>
                    <div className="bg-gray-800/40 rounded-lg p-6 border border-gray-700/40 text-sm text-gray-300 grid grid-cols-1 md:grid-cols-2 gap-3">
                      <div>Retention/forgetting: backward transfer (BWT), average accuracy on past tasks over time.</div>
                      <div>Forward transfer (FWT) and sample efficiency on new tasks/slices.</div>
                      <div>Latency and cost: time and $ per successful update; tokens/steps per adaptation for LLMs.</div>
                      <div>Resource footprint: replay memory size, VRAM/CPU usage, model parameter growth.</div>
                      <div>Business outcomes: regression rate, incident count, user satisfaction, revenue/engagement deltas.</div>
                      <div>Safety metrics: violation rate, blocked actions, rollback frequency post‑update.</div>
                    </div>
                  </section>

                  {/* Token / Resource Usage */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-indigo-500 rounded-full"></div>
                      Token / Resource Usage
                    </h2>
                    <div className="bg-gray-800/40 rounded-lg p-6 border border-gray-700/40 text-sm text-gray-300 space-y-2">
                      <p>LLM updates: prefer PEFT (LoRA/QLoRA) to cap tokens, VRAM, and wall‑clock; cache exemplars and use small evaluators.</p>
                      <p>Replay: cap memory with reservoir sampling; compress or store embeddings when raw retention is restricted.</p>
                      <p>Dynamic growth: budget parameter expansion; periodically distill to a compact backbone to avoid unbounded costs.</p>
                      <p>Ops: schedule updates during off‑peak; incremental evaluations over full re-runs; aggressive result caching.</p>
                    </div>
                  </section>

                  {/* Best Use Cases */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-fuchsia-500 rounded-full"></div>
                      Best Use Cases
                    </h2>
                    <div className="bg-gray-800/40 rounded-lg p-6 border border-gray-700/40 text-sm text-gray-300 space-y-2">
                      <p>Personalization and recommendations with drifting preferences.</p>
                      <p>Fraud/anomaly detection under adversarial drift and emerging patterns.</p>
                      <p>Conversational assistants learning products/policies with retention guarantees.</p>
                      <p>Robotics/operations in evolving environments and non‑stationary dynamics.</p>
                    </div>
                  </section>

                  {/* References & Further Reading */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-orange-500 rounded-full"></div>
                      References & Further Reading
                    </h2>
                    <div className="bg-gray-800/40 rounded-lg p-6 border border-gray-700/40 space-y-4">
                      <div>
                        <h3 className="text-white font-semibold mb-2 text-sm">Academic Papers</h3>
                        <ul className="list-disc list-inside space-y-1 text-gray-300 text-sm">
                          <li><a href="https://www.pnas.org/doi/10.1073/pnas.1611835114" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">Kirkpatrick et al. — Elastic Weight Consolidation (PNAS 2017)</a></li>
                          <li><a href="https://arxiv.org/abs/1606.09282" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">Rusu et al. — Progressive Neural Networks (2016)</a></li>
                          <li><a href="https://arxiv.org/abs/1612.00796" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">Li & Hoiem — Learning without Forgetting (2016)</a></li>
                          <li><a href="https://arxiv.org/abs/1706.08840" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">Rebuffi et al. — iCaRL (CVPR 2017)</a></li>
                          <li><a href="https://arxiv.org/abs/1706.08840" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">Lopez-Paz & Ranzato — Gradient Episodic Memory (2017)</a></li>
                          <li><a href="https://arxiv.org/abs/1909.07888" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">Chaudhry et al. — A-GEM: Efficient Continual Learning (2019)</a></li>
                          <li><a href="https://arxiv.org/abs/2302.00487" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">Wang et al. — A Comprehensive Survey of Continual Learning (2023)</a></li>
                        </ul>
                      </div>
                      <div>
                        <h3 className="text-white font-semibold mb-2 text-sm">Implementation Guides</h3>
                        <ul className="list-disc list-inside space-y-1 text-gray-300 text-sm">
                          <li><a href="https://avalanche.continualai.org/" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">Avalanche: Continual Learning Library Docs</a></li>
                          <li><a href="https://huggingface.co/docs/peft/index" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">Hugging Face PEFT (LoRA/adapters)</a></li>
                          <li><a href="https://github.com/online-ml/river" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">River: Online machine learning</a></li>
                          <li><a href="https://scikit-multiflow.github.io/" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">scikit-multiflow: Data stream learning</a></li>
                        </ul>
                      </div>
                      <div>
                        <h3 className="text-white font-semibold mb-2 text-sm">Tools & Libraries</h3>
                        <ul className="list-disc list-inside space-y-1 text-gray-300 text-sm">
                          <li><a href="https://github.com/ContinualAI/avalanche" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">ContinualAI/Avalanche</a>, <a href="https://github.com/Continvvm/continuum" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">Continvvm/continuum</a>, <a href="https://github.com/lebrice/Sequoia" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">Sequoia</a></li>
                          <li><a href="https://github.com/huggingface/peft" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">huggingface/peft</a>, <a href="https://github.com/huggingface/trl" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">huggingface/trl</a></li>
                        </ul>
                      </div>
                      <div>
                        <h3 className="text-white font-semibold mb-2 text-sm">Community & Discussions</h3>
                        <ul className="list-disc list-inside space-y-1 text-gray-300 text-sm">
                          <li><a href="https://www.continualai.org/" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">ContinualAI community</a></li>
                          <li><a href="https://github.com/ContinualAI/awesome-continual-learning" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">Awesome Continual Learning (curated list)</a></li>
                        </ul>
                      </div>
                    </div>
                </section>
                </>
              ) : selectedTechnique.id === 'meta-learning' ? (
                <>
                  {/* Core Mechanism (short conceptual overview) */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-blue-500 rounded-full"></div>
                      Core Mechanism (short conceptual overview)
                    </h2>
                    <div className="bg-gradient-to-br from-blue-500/10 to-purple-500/10 border border-blue-500/20 rounded-xl p-6 text-gray-200 text-base leading-relaxed space-y-2">
                      <p>Meta-learning trains a system across many tasks so it learns priors and update rules that enable rapid adaptation to a new task with few examples.</p>
                      <ul className="list-disc list-inside text-sm text-gray-300 space-y-1">
                        <li><span className="font-medium">Optimization-based</span>: learn an initialization or update rule (e.g., MAML, First-Order MAML, Reptile).</li>
                        <li><span className="font-medium">Metric-based</span>: learn embeddings and a distance metric for fast nearest-prototype decisions (e.g., Matching Nets, Prototypical Networks, Relation Nets).</li>
                        <li><span className="font-medium">Model-based</span>: use fast-updating controllers/memory (e.g., RNN meta-learners, memory-augmented networks).</li>
                      </ul>
                    </div>
                  </section>

                  {/* Workflow / Steps */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-purple-500 rounded-full"></div>
                      Workflow / Steps
                    </h2>
                    <div className="bg-gradient-to-br from-purple-500/10 to-blue-500/10 border border-purple-500/20 rounded-xl p-6">
                      <ol className="list-decimal list-inside space-y-2 text-gray-200 text-sm">
                        <li>Define a <span className="font-medium">task distribution</span> and episodic datasets; split each task into support (adapt) and query (evaluate).</li>
                        <li><span className="font-medium">Inner loop</span>: adapt model on a task's support set for K steps (or via a learned optimizer).</li>
                        <li><span className="font-medium">Outer loop</span>: update meta-parameters to improve post-adaptation performance on query sets.</li>
                        <li><span className="font-medium">Meta-validation</span>: tune hyperparameters (inner steps, lrs, regularization) on held-out tasks.</li>
                        <li><span className="font-medium">Meta-testing</span>: measure few-shot performance and adaptation speed on unseen tasks.</li>
                      </ol>
                    </div>
                  </section>

                  {/* Best Practices */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-green-500 rounded-full"></div>
                      Best Practices
                    </h2>
                    <div className="grid gap-3">
                      {[
                        'Ensure broad task diversity; match meta-train to expected meta-test domains to avoid distribution shift.',
                        'Use strict episodic splits (no leakage between support/query or between tasks).',
                        'Prefer first-order variants (FOMAML/Reptile) if second-order gradients are unstable or memory-heavy.',
                        'Tune adaptation steps and inner/outer learning rates; consider cosine decay or per-parameter lrs.',
                        'Normalize embeddings for metric-based methods; use temperature-scaled softmax for prototypes.',
                        'Benchmark on standardized suites (e.g., MiniImageNet, Meta-Dataset, Meta-World, Omniglot) with consistent protocols.',
                        'Log seeds/configs and report confidence intervals over many sampled tasks for reproducibility.'
                      ].map((tip) => (
                        <div key={tip} className="flex items-start gap-3 p-3 bg-gray-800/40 rounded-lg">
                          <Check className="w-5 h-5 text-green-400 mt-0.5 flex-shrink-0" />
                          <span className="text-gray-300 text-sm leading-relaxed">{tip}</span>
                        </div>
                      ))}
                    </div>
                  </section>

                  {/* When NOT to Use */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-red-500 rounded-full"></div>
                      When NOT to Use
                    </h2>
                    <div className="bg-gray-800/40 rounded-lg p-6 border border-gray-700/40 text-sm text-gray-300 space-y-2">
                      <p>Each task has abundant labeled data and conventional training is simpler and cheaper.</p>
                      <p>Tasks are extremely heterogeneous with little shared structure, leading to negative transfer.</p>
                      <p>Severe compute/memory constraints make episodic meta-training impractical.</p>
                      <p>Strict latency/SLOs preclude multi-step adaptation at inference time.</p>
                    </div>
                  </section>

                  {/* Common Pitfalls */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-amber-500 rounded-full"></div>
                      Common Pitfalls
                    </h2>
                    <div className="bg-gray-800/40 rounded-lg p-6 border border-gray-700/40 text-sm text-gray-300 space-y-2">
                      <p>Meta-overfitting: excellent on meta-train tasks but weak on novel tasks; address with task diversity and regularization.</p>
                      <p>Leakage between support/query or between tasks inflates reported accuracy.</p>
                      <p>Unstable higher-order gradients in MAML; mitigate with gradient clipping, lower inner steps, or first-order variants.</p>
                      <p>Inadequate evaluation: too few meta-test tasks or missing confidence intervals.</p>
                    </div>
                  </section>

                  {/* Key Features */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-cyan-500 rounded-full"></div>
                      Key Features
                    </h2>
                    <div className="grid grid-cols-1 md:grid-cols-2 gap-3">
                      {[
                        'Rapid few-shot adaptation with minimal labeled data.',
                        'Task-conditioned initialization and/or learned optimizers.',
                        'Representation reuse and metric learning for robust generalization.',
                        'Compatible with vision, NLP, RL; model-agnostic in optimization-based methods.',
                        'Warm-starts for HPO/NAS via meta-features and prior runs.'
                      ].map((feat) => (
                        <div key={feat} className="p-3 bg-gray-800/40 rounded-lg text-gray-300 text-sm border border-gray-700/40">
                          {feat}
                        </div>
                      ))}
                    </div>
                  </section>

                  {/* KPIs / Success Metrics */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-emerald-500 rounded-full"></div>
                      KPIs / Success Metrics
                    </h2>
                    <div className="bg-gray-800/40 rounded-lg p-6 border border-gray-700/40 text-sm text-gray-300 grid grid-cols-1 md:grid-cols-2 gap-3">
                      <div>N-way K-shot accuracy (mean ± 95% CI) on unseen tasks.</div>
                      <div>Adaptation speed: steps or wall-clock to reach target accuracy.</div>
                      <div>Sample efficiency: performance vs. number of support examples.</div>
                      <div>Generalization gap: meta-train vs. meta-test performance.</div>
                      <div>Negative transfer rate: performance drop on out-of-domain tasks.</div>
                      <div>Stability: variance across task samples and seeds.</div>
                    </div>
                  </section>

                  {/* Token / Resource Usage */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-indigo-500 rounded-full"></div>
                      Token / Resource Usage
                    </h2>
                    <div className="bg-gray-800/40 rounded-lg p-6 border border-gray-700/40 text-sm text-gray-300 space-y-2">
                      <p>Compute: episodic meta-training scales with tasks × inner steps × outer steps; second-order gradients increase memory/compute.</p>
                      <p>Efficiency levers: first-order methods (FOMAML/Reptile), gradient checkpointing, smaller inner steps, and mixed precision.</p>
                      <p>LLM agents: in-context meta-adaptation consumes tokens for demonstrations; cap K, cache exemplars, and compress context.</p>
                      <p>Storage: maintain per-task splits and metadata; consider sharded datasets and lazy loading.</p>
                    </div>
                  </section>

                  {/* Best Use Cases */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-fuchsia-500 rounded-full"></div>
                      Best Use Cases
                    </h2>
                    <div className="bg-gray-800/40 rounded-lg p-6 border border-gray-700/40 text-sm text-gray-300 space-y-2">
                      <p>Few-shot classification and detection across domains (vision, NLP).</p>
                      <p>Personalization with scarce per-user data; rapid domain adaptation.</p>
                      <p>Warm-start hyperparameter optimization and neural architecture search.</p>
                      <p>Robotics skill adaptation and sim-to-real transfer (e.g., Meta-World tasks).</p>
                    </div>
                  </section>

                  {/* References & Further Reading */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-orange-500 rounded-full"></div>
                      References & Further Reading
                    </h2>
                    <div className="bg-gray-800/40 rounded-lg p-6 border border-gray-700/40 space-y-4">
                      <div>
                        <h3 className="text-white font-semibold mb-2 text-sm">Academic Papers</h3>
                        <ul className="list-disc list-inside space-y-1 text-gray-300 text-sm">
                          <li><a href="https://arxiv.org/abs/1703.03400" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">Finn et al. — Model-Agnostic Meta-Learning (MAML, 2017)</a></li>
                          <li><a href="https://arxiv.org/abs/1803.02999" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">Nichol et al. — Reptile: A Scalable Meta-Learning Algorithm (2018)</a></li>
                          <li><a href="https://arxiv.org/abs/1606.04080" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">Vinyals et al. — Matching Networks for One Shot Learning (2016)</a></li>
                          <li><a href="https://arxiv.org/abs/1703.05175" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">Snell et al. — Prototypical Networks (2017)</a></li>
                          <li><a href="https://arxiv.org/abs/2004.05439" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">Hospedales et al. — Meta-Learning in Neural Networks: A Survey (TPAMI 2021)</a></li>
                          <li><a href="https://arxiv.org/abs/1909.02790" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">Raghu et al. — Rapid Learning or Feature Reuse? (2019)</a></li>
                          <li><a href="https://arxiv.org/abs/1903.03096" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">Triantafillou et al. — Meta-Dataset: A Dataset of Datasets (2019)</a></li>
                        </ul>
                      </div>
                      <div>
                        <h3 className="text-white font-semibold mb-2 text-sm">Implementation Guides</h3>
                        <ul className="list-disc list-inside space-y-1 text-gray-300 text-sm">
                          <li><a href="https://arxiv.org/abs/2008.12284" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">learn2learn: A Library for Meta-Learning Research (2020)</a></li>
                          <li><a href="https://arxiv.org/abs/1909.06576" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">Torchmeta: A Meta-Learning library for PyTorch (2019)</a></li>
                          <li><a href="https://github.com/facebookresearch/higher" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">PyTorch higher: differentiable optimizers</a></li>
                        </ul>
                      </div>
                      <div>
                        <h3 className="text-white font-semibold mb-2 text-sm">Tools & Libraries</h3>
                        <ul className="list-disc list-inside space-y-1 text-gray-300 text-sm">
                          <li><a href="https://github.com/learnables/learn2learn" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">learn2learn</a>, <a href="https://github.com/tristandeleu/torchmeta" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">Torchmeta</a>, <a href="https://github.com/facebookresearch/higher" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">higher</a></li>
                          <li><a href="https://github.com/google-research/meta-dataset" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">Meta-Dataset</a>, <a href="https://github.com/rlworkgroup/metaworld" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">Meta-World</a></li>
                        </ul>
                      </div>
                      <div>
                        <h3 className="text-white font-semibold mb-2 text-sm">Community & Discussions</h3>
                        <ul className="list-disc list-inside space-y-1 text-gray-300 text-sm">
                          <li><a href="https://paperswithcode.com/task/few-shot-image-classification" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">Papers with Code — Few-shot benchmarks</a></li>
                          <li><a href="https://meta-learning.ml/" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">NeurIPS Meta-Learning Workshop</a></li>
                          <li><a href="https://github.com/sudharsan13296/Awesome-Meta-Learning" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">Awesome Meta-Learning (curated resources)</a></li>
                        </ul>
                      </div>
                    </div>
                  </section>
                </>
              ) : selectedTechnique.id === 'distributed-coordination' ? (
                <>
                  {/* Core Mechanism (short conceptual overview) */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-blue-500 rounded-full"></div>
                      Core Mechanism (short conceptual overview)
                    </h2>
                    <div className="bg-gradient-to-br from-blue-500/10 to-gray-500/10 border border-blue-500/20 rounded-xl p-6">
                      <p className="text-gray-200 text-base leading-relaxed mb-3">
                        Coordinate multiple processes/agents across machines using a strongly consistent coordination
                        service (e.g., etcd, Consul, ZooKeeper). Use leases/sessions with heartbeats, watches for
                        change notifications, and primitives such as leader election, distributed locks with fencing
                        tokens, barriers, and membership. Favor quorum-based linearizable writes and carefully chosen
                        read semantics. Design for partial synchrony, process crashes, and network partitions.
                      </p>
                      <p className="text-gray-400 text-sm">Safety first: pair lease-based locks with <span className="font-medium">fencing tokens</span> to prevent split-brain and
                        stale holders from acting after expiration.</p>
                    </div>
                  </section>

                  {/* Workflow / Steps */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-purple-500 rounded-full"></div>
                      Workflow / Steps
                    </h2>
                    <div className="bg-gradient-to-br from-purple-500/10 to-blue-500/10 border border-purple-500/20 rounded-xl p-6">
                      <ol className="list-decimal list-inside space-y-2 text-gray-200 text-sm">
                        <li><span className="font-medium">Choose a backend</span>: etcd/Consul/ZooKeeper; document consistency guarantees and failure model.</li>
                        <li><span className="font-medium">Identity & sessions</span>: establish client IDs; create sessions/leases; send heartbeats at safe intervals.</li>
                        <li><span className="font-medium">Leader election</span>: campaign, observe, and resign using lease-bound keys; attach a monotonic fencing token.</li>
                        <li><span className="font-medium">Locks and critical sections</span>: acquire via lease; include fencing token in all downstream writes; keep sections short.</li>
                        <li><span className="font-medium">Coordination patterns</span>: implement membership, barriers, sharding/partition assignment, and queues with watches.</li>
                        <li><span className="font-medium">Failure handling</span>: detect expirations; backoff with jitter; rejoin cleanly; ensure idempotency and deduplication.</li>
                        <li><span className="font-medium">Observability & testing</span>: metrics, tracing, and Jepsen-style chaos tests for partitions, clock skew, GC pauses.</li>
                      </ol>
                    </div>
                  </section>

                  {/* Best Practices */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-green-500 rounded-full"></div>
                      Best Practices
                    </h2>
                    <div className="grid gap-3">
                      {[
                        'Use quorum/linearizable writes for elections and locks; prefer linearizable reads when correctness requires it.',
                        'Always pair leases with fencing tokens; reject stale tokens at the resource to prevent split-brain.',
                        'Set lease TTLs well above max GC pauses and network jitter; renew at <50% of TTL.',
                        'Keep critical sections tiny; avoid network calls while holding a lock; use try-lock + retries with jitter.',
                        'Prefer monotonic clocks for timeouts; avoid wall-clock assumptions; handle clock skew.',
                        'Design idempotent operations and deduplication to tolerate retries and duplicate leadership.',
                        'Use watches with backpressure and resumable progress (revision/index); handle watch compaction.',
                        'Harden authN/authZ on the store (TLS, mTLS, ACLs); audit coordination actions; snapshot and back up state.',
                        'Practice failure drills (partitions, node deaths); run Jepsen/chaos tests before production changes.'
                      ].map((tip) => (
                        <div key={tip} className="flex items-start gap-3 p-3 bg-gray-800/40 rounded-lg">
                          <Check className="w-5 h-5 text-green-400 mt-0.5 flex-shrink-0" />
                          <span className="text-gray-300 text-sm leading-relaxed">{tip}</span>
                        </div>
                      ))}
                    </div>
                  </section>

                  {/* When NOT to Use */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-red-500 rounded-full"></div>
                      When NOT to Use
                    </h2>
                    <div className="bg-gray-800/40 rounded-lg p-6 border border-gray-700/40 text-sm text-gray-300 space-y-2">
                      <p>Single-node or single-writer systems where a database provides required durability and availability.</p>
                      <p>Low-stakes or ephemeral work where occasional duplication is acceptable and simpler heuristics suffice.</p>
                      <p>Adversarial/Byzantine environments requiring BFT consensus; use BFT protocols instead of CFT coordination stores.</p>
                      <p>Hard real-time paths intolerant of quorum round-trips; choose local algorithms with eventual reconciliation.</p>
                    </div>
                  </section>

                  {/* Common Pitfalls */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-amber-500 rounded-full"></div>
                      Common Pitfalls
                    </h2>
                    <div className="bg-gray-800/40 rounded-lg p-6 border border-gray-700/40 text-sm text-gray-300 space-y-2">
                      <p>Relying on wall-clock time for safety; ignoring GC pauses and clock skew causing lease expirations.</p>
                      <p>Using distributed locks without fencing tokens, leading to split-brain and lost updates.</p>
                      <p>Holding locks during slow I/O; thundering-herd re-elections due to synchronized retries.</p>
                      <p>Assuming strong reads when using stale/read-only replicas; mixing read modes incorrectly.</p>
                      <p>Unbounded watch buffers and missing compaction handling causing memory blow-ups.</p>
                    </div>
                  </section>

                  {/* Key Features */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-cyan-500 rounded-full"></div>
                      Key Features
                    </h2>
                    <div className="grid grid-cols-1 md:grid-cols-2 gap-3">
                      {[
                        'Strongly consistent KV with quorum commits and optional linearizable reads',
                        'Sessions/leases, keep-alives, and ephemeral keys',
                        'Leader election, distributed locks, and barriers',
                        'Watches/notifications with revisions and compaction semantics',
                        'Fine-grained ACLs, TLS/mTLS, and audit trails',
                        'Snapshot/restore for disaster recovery; health checks and alarms'
                      ].map((feat) => (
                        <div key={feat} className="p-3 bg-gray-800/40 rounded-lg text-gray-300 text-sm border border-gray-700/40">
                          {feat}
                        </div>
                      ))}
                    </div>
                  </section>

                  {/* KPIs / Success Metrics */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-emerald-500 rounded-full"></div>
                      KPIs / Success Metrics
                    </h2>
                    <div className="bg-gray-800/40 rounded-lg p-6 border border-gray-700/40 text-sm text-gray-300 grid grid-cols-1 md:grid-cols-2 gap-3">
                      <div>Failure detection time and failover time (p50/p95); election stability and churn rate.</div>
                      <div>Lost-update or dual-writer incidents; fencing-token violation count.</div>
                      <div>Watch lag and drop/compaction rates; client reconnect success and backlog size.</div>
                      <div>Store latency/throughput; quorum unavailability minutes; read/write error rates.</div>
                      <div>Lease expiration frequency; GC-pause-induced expirations; clock-skew alarms.</div>
                      <div>Duplicate/omitted task execution rate in orchestrated workflows.</div>
                    </div>
                  </section>

                  {/* Token / Resource Usage */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-indigo-500 rounded-full"></div>
                      Token / Resource Usage
                    </h2>
                    <div className="bg-gray-800/40 rounded-lg p-6 border border-gray-700/40 text-sm text-gray-300 space-y-2">
                      <p>Coordination store load: election/lock QPS, lease keep-alives, and watch streams consume network and CPU.</p>
                      <p>Tune heartbeat intervals, batch writes, and watch coalescing to reduce bandwidth; prefer small values and compaction-aware reads.</p>
                      <p>Client memory/CPU for watch replay and deduplication; enable TLS offload where appropriate.</p>
                      <p>For LLM multi-agent systems, minimize token chatter by coordinating via IDs and concise state, not full transcripts.</p>
                    </div>
                  </section>

                  {/* Best Use Cases */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-fuchsia-500 rounded-full"></div>
                      Best Use Cases
                    </h2>
                    <div className="bg-gray-800/40 rounded-lg p-6 border border-gray-700/40 text-sm text-gray-300 space-y-2">
                      <p>Cluster leader election and failover for controllers, schedulers, or orchestrators.</p>
                      <p>Distributed job scheduling, partition/lease assignment, and worker sharding.</p>
                      <p>Exclusive access to scarce external resources (rate limits, hardware, third-party APIs).</p>
                      <p>Dynamic configuration, feature flags with strong consistency, service discovery metadata.</p>
                    </div>
                  </section>

                  {/* References & Further Reading */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-orange-500 rounded-full"></div>
                      References & Further Reading
                    </h2>
                    <div className="bg-gray-800/40 rounded-lg p-6 border border-gray-700/40 space-y-4">
                      <div>
                        <h3 className="text-white font-semibold mb-2 text-sm">Academic Papers</h3>
                        <ul className="list-disc list-inside space-y-1 text-gray-300 text-sm">
                          <li><a href="https://research.google/pubs/pub27897/" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">The Chubby lock service for loosely-coupled distributed systems — Burrows (OSDI 2006)</a></li>
                          <li><a href="https://www.usenix.org/legacy/event/atc10/tech/full_papers/Hunt.pdf" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">ZooKeeper: Wait-free coordination for internet-scale systems — Hunt et al. (USENIX 2010)</a></li>
                          <li><a href="https://dl.acm.org/doi/10.1145/248052.248106" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">Impossibility of Distributed Consensus with One Faulty Process (FLP) — Fischer, Lynch, Paterson (1985)</a></li>
                          <li><a href="https://dl.acm.org/doi/10.1145/564585.564601" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">On Unreliable Failure Detectors — Chandra & Toueg (1996)</a></li>
                          <li><a href="https://dl.acm.org/doi/10.1145/564585.564601" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">Brewer’s CAP, formalized by Gilbert & Lynch (2002)</a></li>
                        </ul>
                      </div>
                      <div>
                        <h3 className="text-white font-semibold mb-2 text-sm">Implementation Guides</h3>
                        <ul className="list-disc list-inside space-y-1 text-gray-300 text-sm">
                          <li><a href="https://etcd.io/docs/" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">etcd Documentation (leases, elections, concurrency API)</a></li>
                          <li><a href="https://developer.hashicorp.com/consul/docs/dynamic-app-config/sessions" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">Consul Sessions and Locks</a></li>
                          <li><a href="https://zookeeper.apache.org/doc/current/recipes.html" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">ZooKeeper Recipes and Curator Framework</a></li>
                          <li><a href="https://kubernetes.io/docs/reference/coordination/" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">Kubernetes Coordination API (Lease/Leader Election)</a></li>
                          <li><a href="https://jepsen.io/analyses" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">Jepsen Analyses: Guidance on testing coordination systems</a></li>
                        </ul>
                      </div>
                      <div>
                        <h3 className="text-white font-semibold mb-2 text-sm">Tools & Libraries</h3>
                        <ul className="list-disc list-inside space-y-1 text-gray-300 text-sm">
                          <li><a href="https://github.com/etcd-io/etcd" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">etcd</a>, <a href="https://www.consul.io/" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">HashiCorp Consul</a>, <a href="https://zookeeper.apache.org/" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">Apache ZooKeeper</a></li>
                          <li><a href="https://curator.apache.org/" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">Apache Curator</a> (high-level ZooKeeper patterns)</li>
                          <li><a href="https://pkg.go.dev/k8s.io/client-go/tools/leaderelection" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">Kubernetes client-go Leader Election</a></li>
                          <li><a href="https://github.com/zalando/patroni" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">Patroni</a> (Postgres HA using etcd/Consul/ZK)</li>
                          <li><a href="https://martin.kleppmann.com/2016/02/08/how-to-do-distributed-locking.html" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">Distributed locking with fencing tokens (discussion)</a></li>
                        </ul>
                      </div>
                      <div>
                        <h3 className="text-white font-semibold mb-2 text-sm">Community & Discussions</h3>
                        <ul className="list-disc list-inside space-y-1 text-gray-300 text-sm">
                          <li><a href="https://groups.google.com/g/etcd-dev" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">etcd-dev mailing list</a> and <a href="https://github.com/etcd-io/etcd/issues" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">etcd issues</a></li>
                          <li><a href="https://discuss.hashicorp.com/c/consul/20" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">HashiCorp Discuss: Consul</a></li>
                          <li><a href="https://mail-archives.apache.org/mod_mbox/zookeeper-user/" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">ZooKeeper user mailing list</a></li>
                          <li><a href="https://jepsen.io/" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">Jepsen</a> (failure testing methodologies and reports)</li>
                        </ul>
                      </div>
                    </div>
                  </section>
                </>
              ) : selectedTechnique.id === 'hierarchical-coordination' ? (
                <>
                  {/* Core Mechanism (short conceptual overview) */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-blue-500 rounded-full"></div>
                      Core Mechanism (short conceptual overview)
                    </h2>
                    <div className="bg-gradient-to-br from-blue-500/10 to-indigo-500/10 border border-blue-500/20 rounded-xl p-6">
                      <p className="text-gray-200 text-base leading-relaxed">
                        Multi-level supervisor–subordinate structure that decomposes goals and decisions across tiers. Upper levels handle
                        objectives, policy, escalation, and resource authorization; lower levels execute concrete subtasks with local context.
                        Information aggregates upward; directives and approvals flow downward. This mirrors Hierarchical Task Networks (HTN),
                        hierarchical RL/options, and practical supervisor–worker patterns in modern agent frameworks.
                      </p>
                    </div>
                  </section>

                  {/* Workflow / Steps */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-purple-500 rounded-full"></div>
                      Workflow / Steps
                    </h2>
                    <div className="bg-gradient-to-br from-purple-500/10 to-blue-500/10 border border-purple-500/20 rounded-xl p-6">
                      <ol className="list-decimal list-inside space-y-2 text-gray-200 text-sm">
                        <li>Define tiers: supervisor(s) → managers/leads → workers; clarify authority and escalation rules.</li>
                        <li>Decompose goals (HTN-style): break tasks into ordered/subtasks with preconditions and required artifacts.</li>
                        <li>Plan and delegate: supervisor assigns subtasks with acceptance criteria, SLAs, and resource caps.</li>
                        <li>Execute and report: workers act (tools, retrieval, code) and return structured results + traces.</li>
                        <li>Aggregate and verify: intermediate managers consolidate outputs; supervisors verify against policy/rubrics.</li>
                        <li>Escalate exceptions: unresolved conflicts, missing authority, or safety flags bubble up with context.</li>
                        <li>Learn and adapt: log decisions, costs, and outcomes; refine task schemas, routing, and escalation policies.</li>
                      </ol>
                    </div>
                  </section>

                  {/* Best Practices */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-green-500 rounded-full"></div>
                      Best Practices
                    </h2>
                    <div className="grid gap-3">
                      {[
                        'Make tiers explicit: roles, permissions, approval limits, and escalation criteria.',
                        'Use structured task specs (inputs, preconditions, success criteria, KPIs) for delegations.',
                        'Enforce policy at higher tiers; sandbox execution at lower tiers; apply least privilege.',
                        'Summarize between levels to control context growth; persist artifacts instead of full transcripts.',
                        'Use smaller models for routine checks at lower tiers; reserve stronger models for planning/reviews.',
                        'Instrument traces: who delegated what, cost/latency per tier, and decision rationales.',
                        'Add retries with backoff and bounded re-decomposition for failed subtasks; cap recursion depth.',
                        'Define clear stop conditions to avoid infinite escalation or delegation loops.',
                      ].map((tip) => (
                        <div key={tip} className="flex items-start gap-3 p-3 bg-gray-800/40 rounded-lg">
                          <Check className="w-5 h-5 text-green-400 mt-0.5 flex-shrink-0" />
                          <span className="text-gray-300 text-sm leading-relaxed">{tip}</span>
                        </div>
                      ))}
                    </div>
                  </section>

                  {/* When NOT to Use */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-red-500 rounded-full"></div>
                      When NOT to Use
                    </h2>
                    <div className="bg-gray-800/40 rounded-lg p-6 border border-gray-700/40">
                      <ul className="list-disc list-inside space-y-2 text-gray-300 text-sm">
                        <li>Simple, single-step tasks where a single agent meets quality and SLOs.</li>
                        <li>Hard real-time constraints where extra review/approval hops break latency budgets.</li>
                        <li>Highly creative brainstorming where rigid tiers reduce idea diversity and speed.</li>
                        <li>Teams so small that hierarchy adds overhead without coordination benefits.</li>
                      </ul>
                    </div>
                  </section>

                  {/* Common Pitfalls */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-amber-500 rounded-full"></div>
                      Common Pitfalls
                    </h2>
                    <div className="bg-gray-800/40 rounded-lg p-6 border border-gray-700/40">
                      <ul className="list-disc list-inside space-y-2 text-gray-300 text-sm">
                        <li>Single points of failure at the supervisor; bottlenecks and queueing delays.</li>
                        <li>Over-escalation: excessive approvals and rechecks inflate latency and cost.</li>
                        <li>Ambiguous authority: workers lack permissions or clarity to complete tasks.</li>
                        <li>Token bloat: forwarding full transcripts across tiers instead of concise summaries.</li>
                        <li>Policy drift: inconsistent enforcement across managers; missing audit trails.</li>
                      </ul>
                    </div>
                  </section>

                  {/* Key Features */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-cyan-500 rounded-full"></div>
                      Key Features
                    </h2>
                    <div className="grid grid-cols-1 md:grid-cols-2 gap-3">
                      {[
                        'Supervisor–manager–worker tiers with clear permissions',
                        'HTN-style task decomposition and recomposition',
                        'Escalation workflows and exception handling',
                        'Policy enforcement and approval gates at higher tiers',
                        'Artifact-centric communication and summarization between tiers',
                        'Observability: per-tier metrics, traces, and audit logs',
                      ].map((feat) => (
                        <div key={feat} className="p-3 bg-gray-800/40 rounded-lg text-gray-300 text-sm border border-gray-700/40">
                          {feat}
                        </div>
                      ))}
                    </div>
                  </section>

                  {/* KPIs / Success Metrics */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-emerald-500 rounded-full"></div>
                      KPIs / Success Metrics
                    </h2>
                    <div className="bg-gray-800/40 rounded-lg p-6 border border-gray-700/40">
                      <ul className="list-disc list-inside space-y-2 text-gray-300 text-sm">
                        <li>Task success rate vs. flat baseline; defect/rollback rate after approval.</li>
                        <li>Latency p50/p95 per tier; time-in-queue at supervisor and managers.</li>
                        <li>Cost per task by tier; tokens per delegation, per escalation, and per artifact.</li>
                        <li>Escalation rate and resolution time; rework rate after supervisor review.</li>
                        <li>Policy violations caught at higher tiers; audit completeness.</li>
                      </ul>
                    </div>
                  </section>

                  {/* Token / Resource Usage */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-indigo-500 rounded-full"></div>
                      Token / Resource Usage
                    </h2>
                    <div className="bg-gray-800/40 rounded-lg p-6 border border-gray-700/40">
                      <ul className="list-disc list-inside space-y-2 text-gray-300 text-sm">
                        <li>Summarize cross-tier messages; pass references to artifacts instead of full text where possible.</li>
                        <li>Use small/fast models for routine checks at lower tiers; reserve larger models for planning and audits.</li>
                        <li>Batch approvals and aggregations; parallelize independent delegations.</li>
                        <li>Set explicit token and cost budgets per tier; enforce max recursion/decomposition depth.</li>
                        <li>Cache shared context at the supervisor; avoid re-sending unchanged evidence.</li>
                      </ul>
                    </div>
                  </section>

                  {/* Best Use Cases */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-fuchsia-500 rounded-full"></div>
                      Best Use Cases
                    </h2>
                    <div className="bg-gray-800/40 rounded-lg p-6 border border-gray-700/40">
                      <ul className="list-disc list-inside space-y-2 text-gray-300 text-sm">
                        <li>Enterprise workflows requiring approvals: compliance, finance, procurement, policy changes.</li>
                        <li>Complex operations with interdependent subtasks: incident response, product launches, SRE runbooks.</li>
                        <li>Research and report generation with section owners and editorial review.</li>
                        <li>Multi-robot/drone coordination with mission control and local autonomy.</li>
                      </ul>
                    </div>
                  </section>

                  {/* References & Further Reading */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-orange-500 rounded-full"></div>
                      References & Further Reading
                    </h2>
                    <div className="bg-gray-800/40 rounded-lg p-6 border border-gray-700/40 space-y-4">
                      <div>
                        <h3 className="text-white font-semibold mb-2 text-sm">Academic Papers</h3>
                        <ul className="list-disc list-inside space-y-1 text-gray-300 text-sm">
                          <li><a href="https://arxiv.org/abs/1403.7426" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">An Overview of Hierarchical Task Network Planning (2014)</a></li>
                          <li><a href="https://www.jmlr.org/papers/volume2/sutton00a/sutton00a.pdf" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">Options: Temporal Abstraction in Reinforcement Learning (Sutton, Precup, Singh, 1999/2000)</a></li>
                          <li><a href="https://arxiv.org/abs/1712.08266" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">Federated Control with Hierarchical Multi‑Agent Deep RL (2017)</a></li>
                          <li><a href="https://arxiv.org/abs/2303.17580" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">HuggingGPT: A System to Connect LLMs with ML Community (Planner–Expert pattern, 2023)</a></li>
                        </ul>
                      </div>
                      <div>
                        <h3 className="text-white font-semibold mb-2 text-sm">Implementation Guides</h3>
                        <ul className="list-disc list-inside space-y-1 text-gray-300 text-sm">
                          <li><a href="https://langchain-ai.github.io/langgraph/how-tos/supervisor/" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">LangGraph: Supervisor pattern (graph orchestration)</a></li>
                          <li><a href="https://microsoft.github.io/autogen/" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">Microsoft AutoGen: Manager–Worker Agent Patterns</a></li>
                          <li><a href="https://docs.crewai.com/" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">CrewAI: Manager and Worker Agents</a></li>
                          <li><a href="https://learn.microsoft.com/en-us/azure/architecture/ai-ml/guide/ai-agent-design-patterns" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">Azure Architecture: AI Agent Design Patterns</a></li>
                        </ul>
                      </div>
                      <div>
                        <h3 className="text-white font-semibold mb-2 text-sm">Tools & Libraries</h3>
                        <ul className="list-disc list-inside space-y-1 text-gray-300 text-sm">
                          <li><a href="https://github.com/langchain-ai/langgraph" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">LangGraph</a></li>
                          <li><a href="https://microsoft.github.io/autogen/" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">AutoGen</a></li>
                          <li><a href="https://www.crewai.com/" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">CrewAI</a></li>
                          <li><a href="https://github.com/openai/swarm" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">OpenAI Swarm</a></li>
                          <li><a href="https://github.com/modelscope/agentscope" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">AgentScope</a></li>
                        </ul>
                      </div>
                      <div>
                        <h3 className="text-white font-semibold mb-2 text-sm">Community & Discussions</h3>
                        <ul className="list-disc list-inside space-y-1 text-gray-300 text-sm">
                          <li><a href="https://pubs.opengroup.org/dpbok/latest/KLP-chap-coordination.html" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">The Open Group: Coordination & Process (DPBoK)</a></li>
                          <li><a href="https://ccs.mit.edu/21c/mgtsci/" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">MIT CCS: Coordination theory & organizational processes</a></li>
                        </ul>
                      </div>
                    </div>
                  </section>
                </>
              ) : selectedTechnique.id === 'json-schema' ? (
                <>
                  {/* Core Mechanism (short conceptual overview) */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-blue-500 rounded-full"></div>
                      Core Mechanism (short conceptual overview)
                    </h2>
                    <div className="bg-gradient-to-br from-blue-500/10 to-purple-500/10 border border-blue-500/20 rounded-xl p-6">
                      <p className="text-gray-200 text-base leading-relaxed">
                        JSON Schema defines machine-validated constraints and annotations for JSON data using a standardized vocabulary
                        (e.g., types, enums, ranges, formats, references). Schemas travel with data contracts, enabling validation,
                        type/code generation, documentation, and interop across services, SDKs, and UI forms.
                      </p>
                    </div>
                  </section>

                  {/* Workflow / Steps */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-purple-500 rounded-full"></div>
                      Workflow / Steps
                    </h2>
                    <div className="bg-gradient-to-br from-purple-500/10 to-blue-500/10 border border-purple-500/20 rounded-xl p-6">
                      <ol className="list-decimal list-inside space-y-2 text-gray-200 text-sm">
                        <li>Choose dialect and declare it with <code className="text-gray-300">$schema</code> (commonly JSON Schema 2020-12).</li>
                        <li>Model data: <code className="text-gray-300">type</code>, <code className="text-gray-300">properties</code>, <code className="text-gray-300">required</code>, constraints (<code className="text-gray-300">minimum</code>, <code className="text-gray-300">pattern</code>, <code className="text-gray-300">format</code>).</li>
                        <li>Factor shared parts into <code className="text-gray-300">$defs</code>; reference with <code className="text-gray-300">$ref</code> (and optional <code className="text-gray-300">$id</code>/<code className="text-gray-300">$anchor</code>).</li>
                        <li>Compose with <code className="text-gray-300">oneOf</code>/<code className="text-gray-300">anyOf</code>/<code className="text-gray-300">allOf</code>/<code className="text-gray-300">not</code> and conditional <code className="text-gray-300">if/then/else</code>.</li>
                        <li>Validate instances in CI and at runtime using a standards-compliant validator.</li>
                        <li>Generate types, docs, or forms; wire schema into API contracts and tool/function parameters.</li>
                        <li>Version schemas; publish and deprecate safely; monitor validation failures and drift.</li>
                      </ol>
                    </div>
                  </section>

                  {/* Best Practices */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-green-500 rounded-full"></div>
                      Best Practices
                    </h2>
                    <div className="grid gap-3">
                      {[
                        'Declare the dialect via $schema and stick to one (e.g., 2020-12) per system boundary.',
                        'Keep schemas tight: use enums, const, min/max, patterns, and formats for strong guarantees.',
                        'Use $defs for reuse; avoid duplication; prefer stable $id for reusable modules.',
                        'Be explicit about additionalProperties/items (set to false when appropriate).',
                        'Validate both inbound requests and outbound responses; gate CI on schema checks.',
                        'Document examples and default values; keep examples valid against the schema.',
                        'Align with OpenAPI 3.1 when exposing HTTP APIs; note 3.1 adopts JSON Schema 2020-12.',
                        'Benchmark validators (e.g., Ajv options) and enable strict modes and format assertions.',
                        'Version schemas semantically; include changelogs and migration notes.',
                        'Centralize $ref resolution; bundle for environments without network access.'
                      ].map((tip) => (
                        <div key={tip} className="flex items-start gap-3 p-3 bg-gray-800/40 rounded-lg">
                          <Check className="w-5 h-5 text-green-400 mt-0.5 flex-shrink-0" />
                          <span className="text-gray-300 text-sm leading-relaxed">{tip}</span>
                        </div>
                      ))}
                    </div>
                  </section>

                  {/* When NOT to Use */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-red-500 rounded-full"></div>
                      When NOT to Use
                    </h2>
                    <div className="bg-gray-800/40 rounded-lg p-6 border border-gray-700/40">
                      <ul className="list-disc list-inside space-y-2 text-gray-300 text-sm">
                        <li>Deeply procedural or stateful validation that exceeds JSON Schema’s declarative model.</li>
                        <li>Cross-record validations requiring external lookups or temporal state (use custom logic).</li>
                        <li>Binary payloads or streams where JSON structure does not apply.</li>
                        <li>Domains needing complex inference or computation rather than structural validation.</li>
                      </ul>
                    </div>
                  </section>

                  {/* Common Pitfalls */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-amber-500 rounded-full"></div>
                      Common Pitfalls
                    </h2>
                    <div className="bg-gray-800/40 rounded-lg p-6 border border-gray-700/40">
                      <ul className="list-disc list-inside space-y-2 text-gray-300 text-sm">
                        <li>Dialect mismatch (Draft-07 vs 2019-09 vs 2020-12) causing validator differences.</li>
                        <li>Assuming OpenAPI 3.0 compatibility with JSON Schema (use 3.1 for alignment).</li>
                        <li>Unbounded <code className="text-gray-300">additionalProperties</code> allowing unexpected fields.</li>
                        <li>Misusing <code className="text-gray-300">oneOf</code> vs <code className="text-gray-300">anyOf</code>; missing <code className="text-gray-300">discriminator</code> patterns for unions.</li>
                        <li>Relying on <code className="text-gray-300">format</code> without enabling format assertions in the validator.</li>
                        <li>Broken or cyclic <code className="text-gray-300">$ref</code> and remote resolution issues.</li>
                        <li>Conditional <code className="text-gray-300">if/then/else</code> that is too permissive; missing negative tests.</li>
                      </ul>
                    </div>
                  </section>

                  {/* Key Features */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-cyan-500 rounded-full"></div>
                      Key Features
                    </h2>
                    <div className="grid grid-cols-1 md:grid-cols-2 gap-3">
                      {[
                        'Types, enums, const, numeric and string constraints',
                        '$ref, $id, $anchor, $defs for modularity and reuse',
                        'Combinators: oneOf, anyOf, allOf, not',
                        'Conditionals: if / then / else',
                        'Array/object controls: prefixItems/items, unevaluatedItems/properties',
                        'Dependent schemas and required relations',
                        'Formats and content assertions (contentMediaType/Encoding)',
                        'Vocabularies and annotations for tooling',
                      ].map((feat) => (
                        <div key={feat} className="p-3 bg-gray-800/40 rounded-lg text-gray-300 text-sm border border-gray-700/40">
                          {feat}
                        </div>
                      ))}
                    </div>
                  </section>

                  {/* KPIs / Success Metrics */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-emerald-500 rounded-full"></div>
                      KPIs / Success Metrics
                    </h2>
                    <div className="bg-gray-800/40 rounded-lg p-6 border border-gray-700/40">
                      <ul className="list-disc list-inside space-y-2 text-gray-300 text-sm">
                        <li>Validation pass/fail rate; false-positive/false-negative rate on test suites.</li>
                        <li>Schema drift incidents and rollback frequency.</li>
                        <li>Type/codegen accuracy and compile-time error reduction.</li>
                        <li>Production incident rate attributable to contract mismatches.</li>
                        <li>Schema reuse coverage (% refs vs duplicates) and bundle size.</li>
                      </ul>
                    </div>
                  </section>

                  {/* Token / Resource Usage */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-indigo-500 rounded-full"></div>
                      Token / Resource Usage
                    </h2>
                    <div className="bg-gray-800/40 rounded-lg p-6 border border-gray-700/40">
                      <ul className="list-disc list-inside space-y-2 text-gray-300 text-sm">
                        <li>Prompt tokens: small when embedding parameter schemas; constrain outputs with enums/const to reduce tokens.</li>
                        <li>Favor short, composable schemas; avoid verbose descriptions in hot paths.</li>
                        <li>Cache shared schemas; inline critical $refs to avoid repeated transmission.</li>
                        <li>Validator CPU cost depends on combinators and deep nesting; benchmark and cap depth.</li>
                      </ul>
                    </div>
                  </section>

                  {/* Best Use Cases */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-fuchsia-500 rounded-full"></div>
                      Best Use Cases
                    </h2>
                    <div className="bg-gray-800/40 rounded-lg p-6 border border-gray-700/40">
                      <ul className="list-disc list-inside space-y-2 text-gray-300 text-sm">
                        <li>Tool/function calling parameter contracts for LLMs.</li>
                        <li>HTTP APIs (OpenAPI 3.1), events (CloudEvents), and message schemas.</li>
                        <li>Configuration files and feature flags with safe defaults.</li>
                        <li>Data pipelines and storage validation at ingestion boundaries.</li>
                        <li>Form generation and UI input validation backed by a single source of truth.</li>
                      </ul>
                    </div>
                  </section>

                  {/* References & Further Reading */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-orange-500 rounded-full"></div>
                      References & Further Reading
                    </h2>
                    <div className="bg-gray-800/40 rounded-lg p-6 border border-gray-700/40 space-y-4">
                      <div>
                        <h3 className="text-white font-semibold mb-2 text-sm">Academic Papers</h3>
                        <ul className="list-disc list-inside space-y-1 text-gray-300 text-sm">
                          <li>JSON Pointer (RFC 6901), JSON Patch (RFC 6902) for related standards</li>
                          <li>Schema languages survey and validation theory (general background)</li>
                        </ul>
                      </div>
                      <div>
                        <h3 className="text-white font-semibold mb-2 text-sm">Implementation Guides</h3>
                        <ul className="list-disc list-inside space-y-1 text-gray-300 text-sm">
                          <li>Understanding JSON Schema (official guide)</li>
                          <li>OpenAPI 3.1 and JSON Schema 2020-12 alignment notes</li>
                          <li>Schema versioning and $ref/$id best practices</li>
                        </ul>
                      </div>
                      <div>
                        <h3 className="text-white font-semibold mb-2 text-sm">Tools & Libraries</h3>
                        <ul className="list-disc list-inside space-y-1 text-gray-300 text-sm">
                          <li>JavaScript/TypeScript: Ajv, TypeBox, zod-to-json-schema</li>
                          <li>Python: jsonschema, fastjsonschema, Pydantic v2 JSON Schema</li>
                          <li>Java: everit-org/json-schema, networknt/json-schema-validator</li>
                          <li>Go: gojsonschema, invopop/jsonschema</li>
                          <li>Rust: schemars</li>
                          <li>Codegen: quicktype</li>
                        </ul>
                      </div>
                      <div>
                        <h3 className="text-white font-semibold mb-2 text-sm">Community & Discussions</h3>
                        <ul className="list-disc list-inside space-y-1 text-gray-300 text-sm">
                          <li>JSON Schema organization website and GitHub discussions</li>
                          <li>Validator maintainers’ docs (Ajv, jsonschema)</li>
                          <li>OpenAPI/AsyncAPI community posts on schema alignment</li>
                        </ul>
                      </div>
                    </div>
                  </section>
                </>
              ) : selectedTechnique.id === 'api-integration' ? (
                <>
                  {/* Core Mechanism (short conceptual overview) */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-blue-500 rounded-full"></div>
                      Core Mechanism (short conceptual overview)
                    </h2>
                    <div className="bg-gradient-to-br from-blue-500/10 to-purple-500/10 border border-blue-500/20 rounded-xl p-6">
                      <p className="text-gray-200 text-base leading-relaxed">
                        Securely authenticate, construct requests, respect rate limits, handle pagination and errors with retries/circuit breakers, validate and normalize responses, and emit structured results with full observability.
                      </p>
                    </div>
                  </section>

                  {/* Workflow / Steps */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-purple-500 rounded-full"></div>
                      Workflow / Steps
                    </h2>
                    <div className="bg-gradient-to-br from-purple-500/10 to-blue-500/10 border border-purple-500/20 rounded-xl p-6">
                      <ol className="list-decimal list-inside space-y-2 text-gray-200 text-sm">
                        <li>Discover API contract and scopes (OpenAPI/GraphQL schema) and define typed models.</li>
                        <li>Configure secrets and auth: API Key, OAuth2 (client credentials, auth code + refresh), HMAC/signing as needed.</li>
                        <li>Build request: method, path/query/body, headers; include correlation/request IDs.</li>
                        <li>Send with timeouts, retries (exponential backoff + jitter), and circuit breakers; honor rate limits.</li>
                        <li>Handle pagination/streaming; aggregate pages or process incrementally.</li>
                        <li>Validate and normalize response schemas; redact PII/secrets; map provider errors to typed errors.</li>
                        <li>Cache idempotent reads; deduplicate in-flight requests; enforce idempotency keys for writes.</li>
                        <li>Emit metrics, structured logs, and traces; surface actionable error messages.</li>
                        <li>Write contract tests and sandbox/integration tests; pin versions; monitor drifts.</li>
                      </ol>
                    </div>
                  </section>

                  {/* Best Practices */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-green-500 rounded-full"></div>
                      Best Practices
                    </h2>
                    <div className="grid gap-3">
                      {[ 
                        'Use typed clients and schema validators (OpenAPI/GraphQL → types + runtime validation).',
                        'Separate auth from transport; rotate/refresh tokens automatically with safe storage.',
                        'Honor Retry-After and provider-specific rate-limit headers; centralize throttling.',
                        'Design idempotent writes and provide idempotency keys; avoid duplicate side effects.',
                        'Implement robust error taxonomy (retryable, fatal, user-correctable).',
                        'Prefer incremental pagination and backpressure for large result sets.',
                        'Cache-safe GETs with short TTLs; invalidate on writes or use ETags/If-None-Match.',
                        'Encrypt secrets in transit and at rest; never log credentials or sensitive payloads.',
                        'Add SLOs per endpoint and per operation; alert on error/latency/cost anomalies.',
                      ].map((tip) => (
                        <div key={tip} className="flex items-start gap-3 p-3 bg-gray-800/40 rounded-lg">
                          <Check className="w-5 h-5 text-green-400 mt-0.5 flex-shrink-0" />
                          <span className="text-gray-300 text-sm leading-relaxed">{tip}</span>
                        </div>
                      ))}
                    </div>
                  </section>

                  {/* When NOT to Use */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-red-500 rounded-full"></div>
                      When NOT to Use
                    </h2>
                    <div className="bg-gray-800/40 rounded-lg p-6 border border-gray-700/40">
                      <ul className="list-disc list-inside space-y-2 text-gray-300 text-sm">
                        <li>Answer is reliably in-model and timeliness/accuracy needs are met without external calls.</li>
                        <li>Hard real-time paths where network latency jeopardizes SLAs.</li>
                        <li>Unstable or non-compliant third parties where reliability/compliance risks outweigh benefits.</li>
                        <li>Highly sensitive data without a compliant processing path or DPA in place.</li>
                        <li>Unbounded cost exposure from per-call pricing without budget controls.</li>
                      </ul>
                    </div>
                  </section>

                  {/* Common Pitfalls */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-amber-500 rounded-full"></div>
                      Common Pitfalls
                    </h2>
                    <div className="bg-gray-800/40 rounded-lg p-6 border border-gray-700/40">
                      <ul className="list-disc list-inside space-y-2 text-gray-300 text-sm">
                        <li>Ignoring provider rate limits or Retry-After headers leading to throttling or bans.</li>
                        <li>Retrying non-idempotent writes and causing duplicated side effects.</li>
                        <li>Poor pagination handling (missing pages, duplicates, memory blowups).</li>
                        <li>Schema drift and silent parse failures due to weak validation.</li>
                        <li>Leaking secrets/PII in prompts, URLs, logs, or error messages.</li>
                        <li>Naive timezones/locale/number parsing causing subtle data bugs.</li>
                        <li>Unbounded concurrency → rate-limit storms and cost spikes.</li>
                      </ul>
                    </div>
                  </section>

                  {/* Key Features */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-cyan-500 rounded-full"></div>
                      Key Features
                    </h2>
                    <div className="grid grid-cols-1 md:grid-cols-2 gap-3">
                      {[
                        'Typed client with OpenAPI/GraphQL codegen',
                        'Auth: API key, OAuth2 (+ PKCE/refresh), HMAC/signatures',
                        'Automatic retries, backoff + jitter, circuit breakers',
                        'Rate-limiters with per-key/tenant quotas',
                        'Pagination/streaming helpers and result aggregation',
                        'Response validation and normalization layer',
                        'Idempotency keys and request de-duplication',
                        'Caching with ETags/conditional requests',
                        'Structured logging, tracing, metrics, and alerting',
                      ].map((feat) => (
                        <div key={feat} className="p-3 bg-gray-800/40 rounded-lg text-gray-300 text-sm border border-gray-700/40">
                          {feat}
                        </div>
                      ))}
                    </div>
                  </section>

                  {/* KPIs / Success Metrics */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-emerald-500 rounded-full"></div>
                      KPIs / Success Metrics
                    </h2>
                    <div className="bg-gray-800/40 rounded-lg p-6 border border-gray-700/40">
                      <ul className="list-disc list-inside space-y-2 text-gray-300 text-sm">
                        <li>Request success rate; 4xx/5xx rates per endpoint; retry/fallback rates.</li>
                        <li>Latency p50/p95; end-to-end time including pagination.</li>
                        <li>Cost per successful operation; cache hit ratio; duplicate suppression rate.</li>
                        <li>Rate-limit violation rate; token refresh success rate; auth error rate.</li>
                        <li>Data freshness (staleness minutes) and schema drift incidents.</li>
                      </ul>
                    </div>
                  </section>

                  {/* Token / Resource Usage */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-indigo-500 rounded-full"></div>
                      Token / Resource Usage
                    </h2>
                    <div className="bg-gray-800/40 rounded-lg p-6 border border-gray-700/40">
                      <ul className="list-disc list-inside space-y-2 text-gray-300 text-sm">
                        <li>Prompt tokens: request planning + minimal response schemas; response tokens: summarization/normalization only.</li>
                        <li>External costs dominate for large responses; prefer selective fields and server-side filtering.</li>
                        <li>Cap parallel calls; batch where supported; use streaming to avoid large in-memory buffers.</li>
                        <li>Cache common reads to reduce both token and API spend.</li>
                      </ul>
                    </div>
                  </section>

                  {/* Best Use Cases */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-fuchsia-500 rounded-full"></div>
                      Best Use Cases
                    </h2>
                    <div className="bg-gray-800/40 rounded-lg p-6 border border-gray-700/40">
                      <ul className="list-disc list-inside space-y-2 text-gray-300 text-sm">
                        <li>Live data retrieval: finance, weather, inventory, logistics.</li>
                        <li>Transactional operations: CRM/ERP updates with audit and idempotency.</li>
                        <li>Data enrichment and aggregation across multiple providers.</li>
                        <li>Search/fetch with post-processing and summarization.
                        </li>
                        <li>Long-running workflows with checkpoints and retries.</li>
                      </ul>
                    </div>
                  </section>

                  {/* References & Further Reading */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-orange-500 rounded-full"></div>
                      References & Further Reading
                    </h2>
                    <div className="bg-gray-800/40 rounded-lg p-6 border border-gray-700/40 space-y-4">
                      <div>
                        <h3 className="text-white font-semibold mb-2 text-sm">Academic Papers</h3>
                        <ul className="list-disc list-inside space-y-1 text-gray-300 text-sm">
                          <li>ReAct (2022)</li>
                          <li>Toolformer (2023)</li>
                          <li>Gorilla / APIBench (2023–2024)</li>
                          <li>Self-RAG / Corrective RAG for tool/retrieval decisions (2023–2024)</li>
                        </ul>
                      </div>
                      <div>
                        <h3 className="text-white font-semibold mb-2 text-sm">Implementation Guides</h3>
                        <ul className="list-disc list-inside space-y-1 text-gray-300 text-sm">
                          <li>OpenAPI/Swagger design and codegen workflows</li>
                          <li>OAuth 2.0 + OIDC basics, PKCE, token refresh best practices</li>
                          <li>HTTP Semantics and conditional requests (RFC 9110/9111)</li>
                          <li>Retry with exponential backoff and jitter; circuit breaker patterns</li>
                        </ul>
                      </div>
                      <div>
                        <h3 className="text-white font-semibold mb-2 text-sm">Tools & Libraries</h3>
                        <ul className="list-disc list-inside space-y-1 text-gray-300 text-sm">
                          <li>OpenAPI generators (openapi-generator, Swagger Codegen)</li>
                          <li>HTTP clients: Axios/Fetch, Requests/HTTPX, Got</li>
                          <li>Validation: Zod, Ajv, Pydantic</li>
                          <li>Auth: oauthlib, simple-oauth2, passport, next-auth</li>
                          <li>LangChain/LlamaIndex tool adapters</li>
                        </ul>
                      </div>
                      <div>
                        <h3 className="text-white font-semibold mb-2 text-sm">Community & Discussions</h3>
                        <ul className="list-disc list-inside space-y-1 text-gray-300 text-sm">
                          <li>Engineering blogs on resilient API clients and rate limiting</li>
                          <li>Provider status pages and best practice docs</li>
                          <li>Conference talks on reliability patterns and observability</li>
                        </ul>
                      </div>
                    </div>
                  </section>
                </>
              ) : selectedTechnique.id === 'code-execution' ? (
                <>
                  {/* Core Mechanism (short conceptual overview) */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-blue-500 rounded-full"></div>
                      Core Mechanism (short conceptual overview)
                    </h2>
                    <div className="bg-gradient-to-br from-blue-500/10 to-purple-500/10 border border-blue-500/20 rounded-xl p-6">
                      <p className="text-gray-200 text-base leading-relaxed">
                        Generate minimal, purpose-built code from the request; validate for safety; execute in a hardened sandbox (e.g., Firecracker microVMs) with strict resource, file system, and network limits; capture outputs and errors; summarize results.
                      </p>
                    </div>
                  </section>

                  {/* Workflow / Steps */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-purple-500 rounded-full"></div>
                      Workflow / Steps
                    </h2>
                    <div className="bg-gradient-to-br from-purple-500/10 to-blue-500/10 border border-purple-500/20 rounded-xl p-6">
                      <ol className="list-decimal list-inside space-y-2 text-gray-200 text-sm">
                        <li>Analyze intent and choose language/runtime (Python, Node/Deno, Rust, etc.).</li>
                        <li>Generate code with clear inputs/outputs; avoid side effects and external I/O by default.</li>
                        <li>Static checks: denylist imports, syscall patterns, network/file access; enforce policies.</li>
                        <li>Select sandbox: pre-warmed Firecracker VM or WASI runtime; set CPU/mem/time limits.</li>
                        <li>Stage inputs; execute with timeouts; stream stdout/stderr; capture exit status.</li>
                        <li>Post-validate outputs (schema/size); redact secrets; summarize and return results.</li>
                        <li>Reset or recycle the environment to guarantee isolation and reproducibility.</li>
                      </ol>
                    </div>
                  </section>

                  {/* Best Practices */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-green-500 rounded-full"></div>
                      Best Practices
                    </h2>
                    <div className="grid gap-3">
                      {[
                        'Generate the smallest viable program; prefer pure functions and bounded data.',
                        'Default to no-network, read-only FS; enable least-privilege capabilities per task.',
                        'Use allowlists for packages/imports; pin versions; checksum artifacts.',
                        'Set strict time/CPU/memory/file-size limits; kill long-running or fork bombs.',
                        'Capture structured outputs (JSON) to simplify validation and downstream use.',
                        'Log decisions, package versions, resource usage, and execution metadata for auditability.',
                        'Cache cold-start artifacts; keep a warm VM pool to reduce latency while preserving isolation.',
                        'Add unit examples/tests for generated code when feasible; prefer deterministic operations.'
                      ].map((tip) => (
                        <div key={tip} className="flex items-start gap-3 p-3 bg-gray-800/40 rounded-lg">
                          <Check className="w-5 h-5 text-green-400 mt-0.5 flex-shrink-0" />
                          <span className="text-gray-300 text-sm leading-relaxed">{tip}</span>
                        </div>
                      ))}
                    </div>
                  </section>

                  {/* When NOT to Use */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-red-500 rounded-full"></div>
                      When NOT to Use
                    </h2>
                    <div className="bg-gray-800/40 rounded-lg p-6 border border-gray-700/40">
                      <ul className="list-disc list-inside space-y-2 text-gray-300 text-sm">
                        <li>The answer is reliably available via reasoning without computation.</li>
                        <li>Hard real-time constraints where sandbox startup/exec overhead violates SLAs.</li>
                        <li>Tasks requiring privileged host access or unrestricted network/filesystem.</li>
                        <li>Highly sensitive data without an approved compliant execution path.</li>
                      </ul>
                    </div>
                  </section>

                  {/* Common Pitfalls */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-amber-500 rounded-full"></div>
                      Common Pitfalls
                    </h2>
                    <div className="bg-gray-800/40 rounded-lg p-6 border border-gray-700/40">
                      <ul className="list-disc list-inside space-y-2 text-gray-300 text-sm">
                        <li>Prompt injections leading to unsafe imports, network calls, or data exfiltration.</li>
                        <li>Unbounded loops or heavy allocations causing timeouts/OOM kills.</li>
                        <li>Nondeterministic libraries (randomness, time, network) breaking reproducibility.</li>
                        <li>Large outputs (plots, arrays) overwhelming token/cost limits without summarization.</li>
                        <li>State leakage across runs when environments aren’t fully reset.</li>
                      </ul>
                    </div>
                  </section>

                  {/* Key Features */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-cyan-500 rounded-full"></div>
                      Key Features
                    </h2>
                    <div className="grid grid-cols-1 md:grid-cols-2 gap-3">
                      {[
                        'Hardened sandboxing (Firecracker microVMs, WASI/wasmtime)',
                        'Resource quotas: CPU, memory, wall-clock, file size',
                        'Network isolation by default; fine-grained, audited opt-ins',
                        'Package allowlists and supply-chain controls',
                        'Multi-language support (Python, TypeScript/Deno, Rust)',
                        'Structured output capture and log collection',
                        'Deterministic mode options and environment pinning',
                        'Warm-pool management for low-latency starts'
                      ].map((feat) => (
                        <div key={feat} className="p-3 bg-gray-800/40 rounded-lg text-gray-300 text-sm border border-gray-700/40">
                          {feat}
                        </div>
                      ))}
                    </div>
                  </section>

                  {/* KPIs / Success Metrics */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-emerald-500 rounded-full"></div>
                      KPIs / Success Metrics
                    </h2>
                    <div className="bg-gray-800/40 rounded-lg p-6 border border-gray-700/40">
                      <ul className="list-disc list-inside space-y-2 text-gray-300 text-sm">
                        <li>Execution success rate; compile/runtime error rate; timeout rate.</li>
                        <li>p50/p95 cold-start and warm-start latency; execution time distribution.</li>
                        <li>Resource usage efficiency (CPU-seconds, memory peak) per task.</li>
                        <li>Sandbox incident rate (escapes: 0), policy violation blocks, and audit coverage.</li>
                        <li>Determinism/reproducibility rate across reruns; cache hit rate for warm pools.</li>
                      </ul>
                    </div>
                  </section>

                  {/* Token / Resource Usage */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-indigo-500 rounded-full"></div>
                      Token / Resource Usage
                    </h2>
                    <div className="bg-gray-800/40 rounded-lg p-6 border border-gray-700/40">
                      <ul className="list-disc list-inside space-y-2 text-gray-300 text-sm">
                        <li>Prompt tokens: planning + code generation + result summarization; minimize code size.</li>
                        <li>External compute: VM startup, compilation, runtime; prefer warm pools and caching.</li>
                        <li>Stream logs/stdout and chunk large outputs; validate and compress if needed.</li>
                        <li>Cap execution time and output size; prefer structured (JSON) results over raw dumps.</li>
                      </ul>
                    </div>
                  </section>

                  {/* Best Use Cases */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-fuchsia-500 rounded-full"></div>
                      Best Use Cases
                    </h2>
                    <div className="bg-gray-800/40 rounded-lg p-6 border border-gray-700/40">
                      <ul className="list-disc list-inside space-y-2 text-gray-300 text-sm">
                        <li>Data analysis and visualization on user-provided datasets.</li>
                        <li>Mathematical computation, simulation, and algorithm prototyping.</li>
                        <li>Format conversion and code validation/linting in isolation.</li>
                        <li>Education and safe experimentation with constrained libraries.</li>
                      </ul>
                    </div>
                  </section>

                  {/* References & Further Reading */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-orange-500 rounded-full"></div>
                      References & Further Reading
                    </h2>
                    <div className="bg-gray-800/40 rounded-lg p-6 border border-gray-700/40 space-y-4">
                      <div>
                        <h3 className="text-white font-semibold mb-2 text-sm">Academic Papers</h3>
                        <ul className="list-disc list-inside space-y-1 text-gray-300 text-sm">
                          <li>Secure sandboxing: Firecracker (AWS, 2018) design paper</li>
                          <li>ReAct/Toolformer/Gorilla: tool-augmented reasoning for code + tools</li>
                          <li>WASI/WebAssembly isolation models and capability security</li>
                        </ul>
                      </div>
                      <div>
                        <h3 className="text-white font-semibold mb-2 text-sm">Implementation Guides</h3>
                        <ul className="list-disc list-inside space-y-1 text-gray-300 text-sm">
                          <li>Firecracker microVM setup and VM pooling strategies</li>
                          <li>Package allowlists, syscall filtering, and network isolation policies</li>
                          <li>Schema-first output validation and redaction pipelines</li>
                        </ul>
                      </div>
                      <div>
                        <h3 className="text-white font-semibold mb-2 text-sm">Tools & Libraries</h3>
                        <ul className="list-disc list-inside space-y-1 text-gray-300 text-sm">
                          <li>Firecracker, gVisor, nsjail, Kata Containers</li>
                          <li>WASI runtimes: wasmtime, wasmer; Pyodide for browser Python</li>
                          <li>Deno/Node sandboxes; Docker with seccomp/AppArmor</li>
                        </ul>
                      </div>
                      <div>
                        <h3 className="text-white font-semibold mb-2 text-sm">Community & Discussions</h3>
                        <ul className="list-disc list-inside space-y-1 text-gray-300 text-sm">
                          <li>Security engineering blogs on sandbox escapes and mitigations</li>
                          <li>Open-source sandboxes (e2b, Modal-style runners) design notes</li>
                          <li>Conference talks on WASI, microVM isolation, and secure execution</li>
                        </ul>
                      </div>
                    </div>
                  </section>
                </>
              ) : selectedTechnique.id === 'plugin-architecture' ? (
                <>
                  {/* Core Mechanism (short conceptual overview) */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-blue-500 rounded-full"></div>
                      Core Mechanism (short conceptual overview)
                    </h2>
                    <div className="bg-gradient-to-br from-blue-500/10 to-purple-500/10 border border-blue-500/20 rounded-xl p-6">
                      <p className="text-gray-200 text-base leading-relaxed mb-4">
                        A host application exposes a stable plugin interface for third-party capabilities. A plugin manager handles discovery, installation, versioning, sandboxing, and routing. Plugins advertise capabilities via schemas and lifecycle hooks; the host enforces permissions, isolation, and observability while brokering calls between the model/agent and plugins.
                      </p>
                      <div className="grid grid-cols-1 md:grid-cols-3 gap-4 mt-4">
                        <div className="text-center p-4 bg-gray-800/30 rounded-lg">
                          <div className="text-2xl mb-2">🧩</div>
                          <div className="text-xs text-gray-400 mb-1">Extensibility</div>
                          <div className="text-sm font-medium text-white">Capabilities via plugins</div>
                        </div>
                        <div className="text-center p-4 bg-gray-800/30 rounded-lg">
                          <div className="text-2xl mb-2">🛡️</div>
                          <div className="text-xs text-gray-400 mb-1">Safety</div>
                          <div className="text-sm font-medium text-white">Sandbox + permissions</div>
                        </div>
                        <div className="text-center p-4 bg-gray-800/30 rounded-lg">
                          <div className="text-2xl mb-2">🔁</div>
                          <div className="text-xs text-gray-400 mb-1">Lifecycle</div>
                          <div className="text-sm font-medium text-white">Install, upgrade, revoke</div>
                        </div>
                      </div>
                    </div>
                  </section>

                  {/* Workflow / Steps */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-purple-500 rounded-full"></div>
                      Workflow / Steps
                    </h2>
                    <div className="bg-gradient-to-br from-purple-500/10 to-blue-500/10 border border-purple-500/20 rounded-xl p-6">
                      <ol className="list-decimal list-inside space-y-2 text-gray-200 text-sm">
                        <li>Publish manifest and capability schemas (name, version, permissions, endpoints).</li>
                        <li>Install and grant permissions with human-in-the-loop approval and policy checks.</li>
                        <li>Validate version and compatibility; pin or negotiate semver ranges.</li>
                        <li>Initialize sandbox/runtime (e.g., WASI, container, microVM) with resource limits.</li>
                        <li>Discover capabilities and register routes in the host registry.</li>
                        <li>Invoke capabilities with structured inputs; stream or batch results.</li>
                        <li>Handle errors, retries, and fallbacks; emit typed errors.</li>
                        <li>Collect telemetry, logs, and billing/quotas per plugin.</li>
                        <li>Upgrade or revoke; migrate data and roll back safely if needed.</li>
                      </ol>
                    </div>
                  </section>

                  {/* Best Practices */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-green-500 rounded-full"></div>
                      Best Practices
                    </h2>
                    <div className="grid gap-3">
                      <div className="bg-gray-800/40 rounded-lg p-4 border border-gray-700/40 text-sm text-gray-300">Stable, versioned contracts (semantic versioning) with clear deprecation policy.</div>
                      <div className="bg-gray-800/40 rounded-lg p-4 border border-gray-700/40 text-sm text-gray-300">Schema-first design (JSON Schema/Protobuf) and strict validation at boundaries.</div>
                      <div className="bg-gray-800/40 rounded-lg p-4 border border-gray-700/40 text-sm text-gray-300">Principle of least privilege: granular permissions, consent screens, scoped tokens.</div>
                      <div className="bg-gray-800/40 rounded-lg p-4 border border-gray-700/40 text-sm text-gray-300">Deterministic, idempotent handlers; timeouts, circuit breakers, exponential backoff.</div>
                      <div className="bg-gray-800/40 rounded-lg p-4 border border-gray-700/40 text-sm text-gray-300">Isolation by default (sandboxing), per-plugin quotas, and rate limits.</div>
                      <div className="bg-gray-800/40 rounded-lg p-4 border border-gray-700/40 text-sm text-gray-300">Observability: structured logs, metrics, traces, and auditable activity trails.</div>
                      <div className="bg-gray-800/40 rounded-lg p-4 border border-gray-700/40 text-sm text-gray-300">Supply-chain hygiene: SBOM, code signing, provenance (SLSA), and review process.</div>
                    </div>
                  </section>

                  {/* When NOT to Use */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-red-500 rounded-full"></div>
                      When NOT to Use
                    </h2>
                    <div className="bg-gray-800/40 rounded-lg p-6 border border-gray-700/40 text-sm text-gray-300 space-y-2">
                      <p>Small, fixed toolsets that rarely change—prefer built-in functions.</p>
                      <p>Ultra-low-latency critical paths where sandbox/dispatch overhead is unacceptable.</p>
                      <p>Tightly coupled core features that benefit from first-party control and QA.</p>
                      <p>Regulated data flows without sufficient isolation and audit controls.</p>
                      <p>Early-stage products where ecosystem and governance overhead is premature.</p>
                    </div>
                  </section>

                  {/* Common Pitfalls */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-amber-500 rounded-full"></div>
                      Common Pitfalls
                    </h2>
                    <div className="bg-gray-800/40 rounded-lg p-6 border border-gray-700/40 text-sm text-gray-300 space-y-2">
                      <p>API churn breaking ecosystems; missing deprecation windows.</p>
                      <p>Over-broad permissions and inadequate consent flows.</p>
                      <p>State leakage between sessions or tenants; weak scoping.</p>
                      <p>Unbounded resource consumption; lack of quotas and rate limits.</p>
                      <p>Insecure update channels; lack of signature verification.</p>
                      <p>Missing version pinning and compatibility checks.</p>
                      <p>Poor error typing causing brittle host fallbacks.</p>
                    </div>
                  </section>

                  {/* Key Features */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-cyan-500 rounded-full"></div>
                      Key Features
                    </h2>
                    <div className="grid grid-cols-1 md:grid-cols-2 gap-3">
                      <div className="bg-gray-800/40 rounded-lg p-4 border border-gray-700/40 text-sm text-gray-300">Dynamic loading/unloading and hot-reload.</div>
                      <div className="bg-gray-800/40 rounded-lg p-4 border border-gray-700/40 text-sm text-gray-300">Capability discovery and routing registry.</div>
                      <div className="bg-gray-800/40 rounded-lg p-4 border border-gray-700/40 text-sm text-gray-300">Sandboxing and policy enforcement (permissions, ACLs, OPA).</div>
                      <div className="bg-gray-800/40 rounded-lg p-4 border border-gray-700/40 text-sm text-gray-300">Versioning, compatibility gates, and gradual rollouts.</div>
                      <div className="bg-gray-800/40 rounded-lg p-4 border border-gray-700/40 text-sm text-gray-300">Dependency and permission management UI.</div>
                      <div className="bg-gray-800/40 rounded-lg p-4 border border-gray-700/40 text-sm text-gray-300">Marketplace distribution and trust signals (reviews, signing).</div>
                    </div>
                  </section>

                  {/* KPIs / Success Metrics */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-emerald-500 rounded-full"></div>
                      KPIs / Success Metrics
                    </h2>
                    <div className="bg-gray-800/40 rounded-lg p-6 border border-gray-700/40 text-sm text-gray-300 grid grid-cols-1 md:grid-cols-2 gap-3">
                      <div>Plugin adoption: installs, active plugins/session, retention.</div>
                      <div>Capability coverage and utilization by scenario.</div>
                      <div>Success/error rates per capability; MTTR for failures.</div>
                      <div>Latency: median and p95 plugin invocation time.</div>
                      <div>Crash/isolation events and blast radius containment.</div>
                      <div>Security: blocked permission violations, signed-updates coverage.</div>
                      <div>Upgrade adoption time; rollback frequency.</div>
                      <div>Marketplace KPIs (GMV/revenue share) if applicable.</div>
                    </div>
                  </section>

                  {/* Token / Resource Usage */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-indigo-500 rounded-full"></div>
                      Token / Resource Usage
                    </h2>
                    <div className="bg-gray-800/40 rounded-lg p-6 border border-gray-700/40 text-sm text-gray-300 space-y-2">
                      <p>Registration and discovery prompts should be small; avoid embedding large manifests into every turn.</p>
                      <p>Invocation overhead: tool-call messages add tokens—prefer concise schemas and streaming outputs.</p>
                      <p>Keep capability descriptions out of main context; store in a registry and retrieve on demand.</p>
                      <p>Enforce per-plugin budgets: CPU, memory, network egress, and API rate limits.</p>
                      <p>Warm sandboxes and caching to reduce cold-start and repeated token use.</p>
                      <p>Use structured error codes to prevent verbose failure payloads.</p>
                    </div>
                  </section>

                  {/* Best Use Cases */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-fuchsia-500 rounded-full"></div>
                      Best Use Cases
                    </h2>
                    <div className="bg-gray-800/40 rounded-lg p-6 border border-gray-700/40 text-sm text-gray-300 space-y-2">
                      <p>Integrations marketplace for third-party capabilities.</p>
                      <p>Enterprise onboarding of internal/custom tools across teams.</p>
                      <p>Domain-specialized toolchains (finance, healthcare, geospatial).</p>
                      <p>Multi-tenant agent platforms requiring isolation and governance.</p>
                      <p>Offline or partner-managed tools where first-party hosting is not feasible.</p>
                    </div>
                  </section>

                  {/* References & Further Reading */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-orange-500 rounded-full"></div>
                      References & Further Reading
                    </h2>
                    <div className="bg-gray-800/40 rounded-lg p-6 border border-gray-700/40 space-y-4">
                      <div>
                        <h3 className="text-white font-semibold mb-2 text-sm">Academic Papers</h3>
                        <ul className="list-disc list-inside space-y-1 text-gray-300 text-sm">
                          <li>Microkernel and plugin-based architectures; component-based software engineering.</li>
                          <li>Tool-augmented LLMs: ReAct (2022), Toolformer (2023), Gorilla (2023).</li>
                          <li>Capability security and isolation models (WASI, microVMs).</li>
                        </ul>
                      </div>
                      <div>
                        <h3 className="text-white font-semibold mb-2 text-sm">Implementation Guides</h3>
                        <ul className="list-disc list-inside space-y-1 text-gray-300 text-sm">
                          <li>Model Context Protocol (MCP) capability and transport design.</li>
                          <li>Function calling/tool schemas and adapter patterns.</li>
                          <li>Semantic versioning and backward-compatibility strategies.</li>
                        </ul>
                      </div>
                      <div>
                        <h3 className="text-white font-semibold mb-2 text-sm">Tools & Libraries</h3>
                        <ul className="list-disc list-inside space-y-1 text-gray-300 text-sm">
                          <li>MCP servers/clients; LangChain tool adapters; OpenAPI/JSON Schema.</li>
                          <li>Policy engines (OPA/Rego); signing (cosign); SBOM (Syft/Grype).</li>
                          <li>Isolation runtimes: Wasmtime/Wasmer, Firecracker/gVisor, Docker.</li>
                        </ul>
                      </div>
                      <div>
                        <h3 className="text-white font-semibold mb-2 text-sm">Community & Discussions</h3>
                        <ul className="list-disc list-inside space-y-1 text-gray-300 text-sm">
                          <li>Open-source plugin ecosystems and governance discussions.</li>
                          <li>Security incident write-ups on sandbox escapes and mitigations.</li>
                          <li>Architecture forums on extensibility and capability routing.</li>
                        </ul>
                      </div>
                    </div>
                  </section>
                </>
              ) : selectedTechnique.id === 'rest-apis' ? (
                <>
                  {/* Core Mechanism (short conceptual overview) */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-blue-500 rounded-full"></div>
                      Core Mechanism (short conceptual overview)
                    </h2>
                    <div className="bg-gradient-to-br from-blue-500/10 to-purple-500/10 border border-blue-500/20 rounded-xl p-6">
                      <p className="text-gray-200 text-base leading-relaxed mb-4">
                        REST exposes resources via URIs and uses standard HTTP methods. Requests are stateless and leverage
                        HTTP semantics for caching, validation, content negotiation, and conditional requests.
                      </p>
                      <div className="grid grid-cols-1 md:grid-cols-3 gap-4">
                        <div className="text-center p-4 bg-gray-800/30 rounded-lg">
                          <div className="text-2xl mb-2">🧭</div>
                          <div className="text-xs text-gray-400 mb-1">Methods</div>
                          <div className="text-sm font-medium text-white">GET, POST, PUT, DELETE, PATCH (RFC 5789)</div>
                        </div>
                        <div className="text-center p-4 bg-gray-800/30 rounded-lg">
                          <div className="text-2xl mb-2">📦</div>
                          <div className="text-xs text-gray-400 mb-1">Representations</div>
                          <div className="text-sm font-medium text-white">application/json; content negotiation</div>
                        </div>
                        <div className="text-center p-4 bg-gray-800/30 rounded-lg">
                          <div className="text-2xl mb-2">🧩</div>
                          <div className="text-xs text-gray-400 mb-1">Semantics</div>
                          <div className="text-sm font-medium text-white">HTTP Semantics (RFC 9110), Caching (RFC 9111)</div>
                        </div>
                      </div>
                      <div className="mt-4 text-xs text-gray-400">
                        Transport note: HTTP/2 multiplexing and HTTP/3 (RFC 9114) improve performance.
                      </div>
                    </div>
                  </section>

                  {/* Workflow / Steps */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-purple-500 rounded-full"></div>
                      Workflow / Steps
                    </h2>
                    <div className="bg-gradient-to-br from-purple-500/10 to-blue-500/10 border border-purple-500/20 rounded-xl p-6">
                      <ol className="list-decimal list-inside space-y-2 text-gray-200 text-sm">
                        <li>Model resources and relationships; define URIs and representations.</li>
                        <li>Author an OpenAPI 3.1 contract (auth, schemas, status codes, errors).</li>
                        <li>Implement methods, validation, caching, and conditional requests (ETag/If-Match, If-None-Match).</li>
                        <li>Secure with OAuth 2.0/OIDC; enforce scopes and least privilege; TLS everywhere.</li>
                        <li>Observability: structured logs, metrics, and tracing; standardize errors with Problem Details.</li>
                        <li>Govern change: versioning, deprecations (Sunset header), rollout and compatibility testing.</li>
                      </ol>
                    </div>
                  </section>

                  {/* Best Practices */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-green-500 rounded-full"></div>
                      Best Practices
                    </h2>
                    <div className="grid gap-3">
                      {[ 
                        'Use correct HTTP methods and status codes; prefer RFC 9457 Problem Details for errors.',
                        'Implement caching and validators (ETag/Last-Modified) and support conditional requests (RFC 9110/9111).',
                        'Provide pagination, filtering, sorting; advertise links with Web Linking (RFC 8288).',
                        'Rate limits and quotas; return 429 with clear retry guidance and headers.',
                        'Contract-first with OpenAPI 3.1; validate requests/responses in CI; include examples.',
                        'Security: TLS, strict input validation, OAuth 2.0/OIDC, short-lived tokens, audience/issuer checks.',
                        'Backward-compatible changes; explicit versioning and deprecation policy (Sunset, RFC 8594).',
                        'Observability: p50/p95/p99 latency per endpoint, error budgets, distributed tracing (OpenTelemetry).'
                      ].map((tip) => (
                        <div key={tip} className="flex items-start gap-3 p-3 bg-gray-800/40 rounded-lg">
                          <Check className="w-5 h-5 text-green-400 mt-0.5 flex-shrink-0" />
                          <span className="text-gray-300 text-sm leading-relaxed">{tip}</span>
                        </div>
                      ))}
                    </div>
                  </section>

                  {/* When NOT to Use */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-red-500 rounded-full"></div>
                      When NOT to Use
                    </h2>
                    <div className="bg-gray-800/40 rounded-lg p-6 border border-gray-700/40 text-sm text-gray-300 space-y-2">
                      <p>Real-time bidirectional streaming or sub-100ms tail latency requirements → consider WebSockets or gRPC streaming.</p>
                      <p>Strongly-typed, low-latency inter-service RPC → consider gRPC/Protobuf.</p>
                      <p>Complex graph queries with over/under-fetching pain → consider GraphQL.</p>
                      <p>Legacy/enterprise WS-* compliance → consider SOAP where mandated.</p>
                    </div>
                  </section>

                  {/* Common Pitfalls */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-amber-500 rounded-full"></div>
                      Common Pitfalls
                    </h2>
                    <div className="bg-gray-800/40 rounded-lg p-6 border border-gray-700/40 text-sm text-gray-300 space-y-2">
                      <p>Using 200 for errors; non-standard error bodies; omitting Problem Details.</p>
                      <p>Ignoring caching/validators; missing ETag leading to unnecessary load.</p>
                      <p>Breaking changes without versioning or deprecation windows.</p>
                      <p>Weak authZ: missing scopes/ABAC; long-lived tokens; no audience checks.</p>
                      <p>Missing timeouts/retries/backoff; no idempotency strategy for retried writes.</p>
                      <p>Inconsistent resource naming and representations; missing pagination.</p>
                    </div>
                  </section>

                  {/* Key Features */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-cyan-500 rounded-full"></div>
                      Key Features
                    </h2>
                    <div className="grid grid-cols-1 md:grid-cols-2 gap-3">
                      <div className="bg-gray-800/40 rounded-lg p-4 border border-gray-700/40 text-sm text-gray-300">Stateless requests; cache-aware design; layered architecture.</div>
                      <div className="bg-gray-800/40 rounded-lg p-4 border border-gray-700/40 text-sm text-gray-300">Standard HTTP semantics (RFC 9110) and transport evolvability (HTTP/2, HTTP/3).</div>
                      <div className="bg-gray-800/40 rounded-lg p-4 border border-gray-700/40 text-sm text-gray-300">Interoperability via common media types and OpenAPI contracts.</div>
                      <div className="bg-gray-800/40 rounded-lg p-4 border border-gray-700/40 text-sm text-gray-300">Uniform interface with content negotiation and hypermedia links.</div>
                    </div>
                  </section>

                  {/* KPIs / Success Metrics */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-emerald-500 rounded-full"></div>
                      KPIs / Success Metrics
                    </h2>
                    <div className="bg-gray-800/40 rounded-lg p-6 border border-gray-700/40 text-sm text-gray-300 grid grid-cols-1 md:grid-cols-2 gap-3">
                      <div>Latency p50/p95/p99 by endpoint and tenant; cold vs warm performance.</div>
                      <div>Availability SLO and error budget burn; 2xx/4xx/5xx distribution.</div>
                      <div>Throughput (RPS) and saturation (CPU/memory); queue depth.</div>
                      <div>Cache hit ratio; conditional request effectiveness.</div>
                      <div>Spec/SDK drift defects; backward-compatibility violations.</div>
                      <div>Security: authN/authZ failures, token misuse incidents.</div>
                    </div>
                  </section>

                  {/* Token / Resource Usage */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-indigo-500 rounded-full"></div>
                      Token / Resource Usage
                    </h2>
                    <div className="bg-gray-800/40 rounded-lg p-6 border border-gray-700/40 text-sm text-gray-300 space-y-2">
                      <p>Authentication/Authorization: OAuth 2.0 + OIDC; PKCE for public clients; short-lived access tokens; rotate refresh tokens; enforce scopes, audience, issuer, and clock skew tolerance.</p>
                      <p>Idempotency: provide an Idempotency-Key pattern for safely retrying POST-like writes; use ETag/If-Match for optimistic concurrency on updates.</p>
                      <p>Resource controls: rate limits and quotas with 429 responses and retry guidance; pagination and field selection; gzip/br compression; strict payload limits and timeouts.</p>
                      <p>Caching: validators (ETag/Last-Modified) and conditional GET to reduce bandwidth; explicit Cache-Control.</p>
                    </div>
                  </section>

                  {/* Best Use Cases */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-fuchsia-500 rounded-full"></div>
                      Best Use Cases
                    </h2>
                    <div className="bg-gray-800/40 rounded-lg p-6 border border-gray-700/40 text-sm text-gray-300 space-y-2">
                      <p>Public/partner APIs and third-party integrations.</p>
                      <p>Mobile/web backends and BFFs requiring broad compatibility and caching.</p>
                      <p>Cross-language, cross-platform interoperability with stable contracts.</p>
                      <p>Microservices boundaries where human/web clients consume JSON over HTTP.</p>
                    </div>
                  </section>

                  {/* References & Further Reading */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-orange-500 rounded-full"></div>
                      References & Further Reading
                    </h2>
                    <div className="bg-gray-800/40 rounded-lg p-6 border border-gray-700/40 space-y-4">
                      <div>
                        <h3 className="text-white font-semibold mb-2 text-sm">Academic Papers</h3>
                        <ul className="list-disc list-inside space-y-1 text-gray-300 text-sm">
                          <li><a href="https://www.ics.uci.edu/~fielding/pubs/dissertation/fielding_dissertation.pdf" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">Fielding, R. T. Architectural Styles and the Design of Network-based Software Architectures</a></li>
                          <li><a href="https://owasp.org/API-Security/" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">OWASP API Security Top 10 (2023)</a></li>
                        </ul>
                      </div>
                      <div>
                        <h3 className="text-white font-semibold mb-2 text-sm">Implementation Guides</h3>
                        <ul className="list-disc list-inside space-y-1 text-gray-300 text-sm">
                          <li><a href="https://www.rfc-editor.org/rfc/rfc9110" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">HTTP Semantics (RFC 9110)</a>, <a href="https://www.rfc-editor.org/rfc/rfc9111" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">Caching (RFC 9111)</a>, <a href="https://www.rfc-editor.org/rfc/rfc9114" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">HTTP/3 (RFC 9114)</a></li>
                          <li><a href="https://www.rfc-editor.org/rfc/rfc9457" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">Problem Details for HTTP APIs (RFC 9457)</a></li>
                          <li><a href="https://www.rfc-editor.org/rfc/rfc5789" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">PATCH Method (RFC 5789)</a>, <a href="https://www.rfc-editor.org/rfc/rfc8288" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">Web Linking (RFC 8288)</a>, <a href="https://www.rfc-editor.org/rfc/rfc8594" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">Sunset Header (RFC 8594)</a></li>
                          <li><a href="https://spec.openapis.org/oas/latest.html" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">OpenAPI Specification 3.1.x</a></li>
                          <li><a href="https://jsonapi.org/format/1.1/" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">JSON:API 1.1</a></li>
                        </ul>
                      </div>
                      <div>
                        <h3 className="text-white font-semibold mb-2 text-sm">Tools & Libraries</h3>
                        <ul className="list-disc list-inside space-y-1 text-gray-300 text-sm">
                          <li>OpenAPI toolchain: Swagger UI/Editor/Codegen, Redocly, Prism, Dredd</li>
                          <li>Frameworks: Spring Boot, FastAPI, Express/Koa, ASP.NET Core</li>
                          <li>Testing/observability: Postman/Insomnia, k6, OpenTelemetry</li>
                        </ul>
                      </div>
                      <div>
                        <h3 className="text-white font-semibold mb-2 text-sm">Community & Discussions</h3>
                        <ul className="list-disc list-inside space-y-1 text-gray-300 text-sm">
                          <li><a href="https://httpwg.org/" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">IETF HTTP Working Group</a></li>
                          <li><a href="https://www.openapis.org/" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">OpenAPI Initiative</a></li>
                          <li><a href="https://stackoverflow.com/questions/tagged/rest" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">Stack Overflow: REST</a></li>
                        </ul>
                      </div>
                    </div>
                  </section>
                </>
              ) : selectedTechnique.id === 'grpc-protocols' ? (
                <>
                  {/* Core Mechanism (short conceptual overview) */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-blue-500 rounded-full"></div>
                      Core Mechanism (short conceptual overview)
                    </h2>
                    <div className="bg-gradient-to-br from-blue-500/10 to-purple-500/10 border border-blue-500/20 rounded-xl p-6">
                      <p className="text-gray-200 text-base leading-relaxed mb-4">
                        gRPC is a high-performance, open-source RPC framework that uses Protocol Buffers (Protobuf) as its IDL and binary serialization format and runs primarily over HTTP/2 for transport. It supports unary and streaming RPCs (server, client, and bidirectional), deadlines and cancellation, metadata, compression, and pluggable authentication including TLS/mTLS. Many languages also support modern features such as retries, interceptors, health checking, reflection, and client-side load balancing via service configuration and xDS.
                      </p>
                      <div className="grid grid-cols-1 md:grid-cols-3 gap-4 mt-2">
                        <div className="text-center p-4 bg-gray-800/30 rounded-lg">
                          <div className="text-2xl mb-2">🧾</div>
                          <div className="text-xs text-gray-400 mb-1">IDL & Serialization</div>
                          <div className="text-sm font-medium text-white">Protobuf (binary, schema-first)</div>
                        </div>
                        <div className="text-center p-4 bg-gray-800/30 rounded-lg">
                          <div className="text-2xl mb-2">🌐</div>
                          <div className="text-xs text-gray-400 mb-1">Transport</div>
                          <div className="text-sm font-medium text-white">HTTP/2 multiplexing, flow control</div>
                        </div>
                        <div className="text-center p-4 bg-gray-800/30 rounded-lg">
                          <div className="text-2xl mb-2">🔁</div>
                          <div className="text-xs text-gray-400 mb-1">RPC Types</div>
                          <div className="text-sm font-medium text-white">Unary, server/client/bidi streaming</div>
                        </div>
                      </div>
                    </div>
                  </section>

                  {/* Workflow / Steps */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-purple-500 rounded-full"></div>
                      Workflow / Steps
                    </h2>
                    <div className="bg-gradient-to-br from-purple-500/10 to-blue-500/10 border border-purple-500/20 rounded-xl p-6">
                      <ol className="list-decimal list-inside space-y-2 text-gray-200 text-sm">
                        <li>Define services and messages in <code>.proto</code> files (schema-first).</li>
                        <li>Generate server/client stubs with <code>protoc</code> and language plugins.</li>
                        <li>Implement the server handlers; enable TLS/mTLS, health checks, and reflection.</li>
                        <li>Configure timeouts/deadlines, retries, compression, and message size limits.</li>
                        <li>Choose name resolution and load balancing (DNS, service config, xDS/Envoy/Istio).</li>
                        <li>Build the client using generated stubs; attach auth metadata and interceptors.</li>
                        <li>Deploy behind gRPC-aware L4/L7 infra; monitor with metrics, logs, and tracing.</li>
                      </ol>
                    </div>
                  </section>

                  {/* Best Practices */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-green-500 rounded-full"></div>
                      Best Practices
                    </h2>
                    <div className="grid gap-3">
                      {[ 
                        'Set deadlines on every RPC; treat unbounded calls as defects.',
                        'Use idempotent methods where possible; enable safe retries with backoff.',
                        'Prefer streaming for long-lived or large data transfers; apply backpressure.',
                        'Keep Protobufs backward-compatible; never reuse or change existing field numbers; reserve removed fields.',
                        'Bound message sizes and use compression judiciously (balance CPU vs bandwidth).',
                        'Pool channels; reuse connections; tune HTTP/2 keepalive to survive proxies/LBs.',
                        'Enforce TLS/mTLS; pass auth and tenant context via metadata; validate on server.',
                        'Standardize error handling with gRPC status codes and rich error details.',
                        'Adopt observability (OpenTelemetry), health checking, and server reflection (dev only).',
                        'Use service config/xDS for LB, retries, timeouts; test under failure modes.',
                      ].map((tip) => (
                        <div key={tip} className="flex items-start gap-3 p-3 bg-gray-800/40 rounded-lg">
                          <Check className="w-5 h-5 text-green-400 mt-0.5 flex-shrink-0" />
                          <span className="text-gray-300 text-sm leading-relaxed">{tip}</span>
                        </div>
                      ))}
                    </div>
                  </section>

                  {/* When NOT to Use */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-red-500 rounded-full"></div>
                      When NOT to Use
                    </h2>
                    <div className="bg-gray-800/40 rounded-lg p-6 border border-gray-700/40 text-sm text-gray-300 space-y-2">
                      <p>Browser-only clients without a proxy; prefer gRPC-Web or REST for direct browser access.</p>
                      <p>Public, third-party APIs needing human-readable JSON, broad compatibility, and CDN caching.</p>
                      <p>Very large payloads over the public internet; consider chunking, storage links, or REST.</p>
                      <p>Environments with HTTP/2-incompatible proxies/LBs or where adding gRPC-aware infra is infeasible.</p>
                      <p>Workloads requiring transparent HTTP caching, URL addressability, or extensive query semantics.</p>
                    </div>
                  </section>

                  {/* Common Pitfalls */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-amber-500 rounded-full"></div>
                      Common Pitfalls
                    </h2>
                    <div className="bg-gray-800/40 rounded-lg p-6 border border-gray-700/40 text-sm text-gray-300 space-y-2">
                      <p>Missing deadlines and cancellation → leaking resources and stuck clients.</p>
                      <p>Chatty designs (many tiny RPCs) instead of batching/streaming → overhead and tail latency.</p>
                      <p>Unbounded message sizes/streams → memory pressure and OOM under load.</p>
                      <p>Improper keepalive settings → idle timeouts or broken connections behind proxies/LBs.</p>
                      <p>Using non-gRPC-aware L7 proxies → HTTP/2 downgrades, header limits, or connection churn.</p>
                      <p>Breaking Protobuf compatibility by reusing field numbers or changing types.</p>
                      <p>Not propagating auth/trace metadata across hops; losing context for security/observability.</p>
                    </div>
                  </section>

                  {/* Key Features */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-cyan-500 rounded-full"></div>
                      Key Features
                    </h2>
                    <div className="grid grid-cols-1 md:grid-cols-2 gap-3">
                      <div className="bg-gray-800/40 rounded-lg p-4 border border-gray-700/40 text-sm text-gray-300">Unary and streaming RPCs; deadlines, cancellation, and flow control.</div>
                      <div className="bg-gray-800/40 rounded-lg p-4 border border-gray-700/40 text-sm text-gray-300">Binary Protobuf serialization; schema-first contracts and codegen.</div>
                      <div className="bg-gray-800/40 rounded-lg p-4 border border-gray-700/40 text-sm text-gray-300">TLS/mTLS, per-RPC metadata, interceptors, and auth integration.</div>
                      <div className="bg-gray-800/40 rounded-lg p-4 border border-gray-700/40 text-sm text-gray-300">Retries, hedging (language-dependent), and client-side load balancing.</div>
                      <div className="bg-gray-800/40 rounded-lg p-4 border border-gray-700/40 text-sm text-gray-300">Health checking and server reflection (dev tooling and discovery).</div>
                      <div className="bg-gray-800/40 rounded-lg p-4 border border-gray-700/40 text-sm text-gray-300">Service config, xDS/Envoy/Istio integration, and observability hooks.</div>
                    </div>
                  </section>

                  {/* KPIs / Success Metrics */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-emerald-500 rounded-full"></div>
                      KPIs / Success Metrics
                    </h2>
                    <div className="bg-gray-800/40 rounded-lg p-6 border border-gray-700/40 text-sm text-gray-300 grid grid-cols-1 md:grid-cols-2 gap-3">
                      <div>RPC latency p50/p95/p99, streaming start time, and tail behavior under load.</div>
                      <div>Throughput (RPS/streams) per CPU core; connection reuse and pool hit ratio.</div>
                      <div>Error rates by gRPC status code; retry/hedge rates and effectiveness.</div>
                      <div>Server memory per active stream; peak message sizes; backpressure events.</div>
                      <div>Handshake and TLS metrics; keepalive ping success; connection churn.</div>
                      <div>Load balancer distribution (pick_first vs round_robin/xDS) and endpoint health.</div>
                    </div>
                  </section>

                  {/* Token / Resource Usage */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-indigo-500 rounded-full"></div>
                      Token / Resource Usage
                    </h2>
                    <div className="bg-gray-800/40 rounded-lg p-6 border border-gray-700/40 text-sm text-gray-300">
                      <ul className="list-disc list-inside space-y-2">
                        <li>Pass auth tokens via metadata (e.g., OAuth2/JWT); avoid embedding in payloads; rotate and scope.</li>
                        <li>Set max send/receive message sizes; use compression for large messages where CPU allows.</li>
                        <li>Leverage HTTP/2 multiplexing; tune flow-control windows and concurrent streams per channel.</li>
                        <li>Right-size keepalive and idle timeouts to reduce unnecessary reconnects and CPU wakeups.</li>
                        <li>Prefer references (URIs) or chunked transfers for blobs; avoid multi‑MB messages when possible.</li>
                      </ul>
                    </div>
                  </section>

                  {/* Best Use Cases */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-fuchsia-500 rounded-full"></div>
                      Best Use Cases
                    </h2>
                    <div className="bg-gray-800/40 rounded-lg p-6 border border-gray-700/40 text-sm text-gray-300 space-y-2">
                      <p>High-throughput, low-latency internal microservice APIs with strict contracts.</p>
                      <p>Real-time streaming (telemetry, chat, collaborative apps) with bidi streams.</p>
                      <p>Mobile and IoT backends where bandwidth and latency efficiency matter.</p>
                      <p>Polyglot systems needing consistent cross-language code generation and tooling.</p>
                    </div>
                  </section>
                  
                  {/* References & Further Reading */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-orange-500 rounded-full"></div>
                      References & Further Reading
                    </h2>
                    <div className="bg-gray-800/40 rounded-lg p-6 border border-gray-700/40 space-y-4">
                      <div>
                        <h3 className="text-white font-semibold mb-2 text-sm">Academic Papers</h3>
                        <ul className="list-disc list-inside space-y-1 text-gray-300 text-sm">
                          <li><a href="https://arxiv.org/abs/1804.01138" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">Designing a Micro-Benchmark Suite to Evaluate gRPC for TensorFlow (2018)</a></li>
                          <li><a href="https://arxiv.org/abs/2404.05598" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">Hook-in Privacy Techniques for gRPC-based Microservice Communication (2024)</a></li>
                        </ul>
                      </div>
                      <div>
                        <h3 className="text-white font-semibold mb-2 text-sm">Implementation Guides</h3>
                        <ul className="list-disc list-inside space-y-1 text-gray-300 text-sm">
                          <li><a href="https://grpc.io/docs/" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">gRPC Official Documentation</a> (guides on deadlines, errors, auth, LB, retries)</li>
                          <li><a href="https://grpc.io/docs/guides/grpc-web/" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">gRPC-Web</a> and <a href="https://github.com/grpc-ecosystem/grpc-gateway" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">gRPC-Gateway</a> for HTTP/JSON interop</li>
                          <li><a href="https://www.envoyproxy.io/docs/envoy/latest/intro/arch_overview/upstream/load_balancing/grpc" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">Envoy and xDS for gRPC</a></li>
                          <li><a href="https://opentelemetry.io/docs/" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">OpenTelemetry</a> for metrics, logs, and traces</li>
                        </ul>
                      </div>
                      <div>
                        <h3 className="text-white font-semibold mb-2 text-sm">Tools & Libraries</h3>
                        <ul className="list-disc list-inside space-y-1 text-gray-300 text-sm">
                          <li><a href="https://github.com/fullstorydev/grpcurl" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">grpcurl</a>, <a href="https://github.com/fullstorydev/grpcui" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">grpcui</a>, <a href="https://github.com/ktr0731/evans" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">Evans</a></li>
                          <li><a href="https://buf.build/" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">Buf</a> (lint, breaking-change detection, remote registry)</li>
                          <li><a href="https://www.envoyproxy.io/" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">Envoy</a>, <a href="https://istio.io/" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">Istio</a>, <a href="https://github.com/grpc-ecosystem/grpc-gateway" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">grpc-gateway</a></li>
                          <li><a href="https://github.com/grpc-ecosystem/awesome-grpc" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">awesome-grpc</a> (curated ecosystem)</li>
                        </ul>
                      </div>
                      <div>
                        <h3 className="text-white font-semibold mb-2 text-sm">Community & Discussions</h3>
                        <ul className="list-disc list-inside space-y-1 text-gray-300 text-sm">
                          <li><a href="https://github.com/grpc/grpc" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">gRPC GitHub</a> (issues, discussions)</li>
                          <li><a href="https://groups.google.com/g/grpc-io" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">gRPC Google Group</a></li>
                          <li><a href="https://stackoverflow.com/questions/tagged/grpc" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">StackOverflow: grpc</a></li>
                        </ul>
                      </div>
                    </div>
                  </section>
                </>
              ) : selectedTechnique.id === 'pub-sub-patterns' ? (
                <>
                  {/* Core Mechanism (short conceptual overview) */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-blue-500 rounded-full"></div>
                      Core Mechanism (short conceptual overview)
                    </h2>
                    <div className="bg-gradient-to-br from-blue-500/10 to-purple-500/10 border border-blue-500/20 rounded-xl p-6">
                      <p className="text-gray-200 text-base leading-relaxed mb-3">
                        Publish-Subscribe decouples producers (publishers) from consumers (subscribers) via a broker that routes
                        events to topics/subjects and fans-out to subscriptions. Delivery semantics are platform-dependent
                        (typically at-least-once; sometimes exactly-once). Ordering is scoped by keys/FIFO groups. Delivery models
                        include pull and push with acknowledgments, redelivery, and optional dead-letter queues.
                      </p>
                    </div>
                  </section>

                  {/* Workflow / Steps */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-purple-500 rounded-full"></div>
                      Workflow / Steps
                    </h2>
                    <div className="bg-gradient-to-br from-purple-500/10 to-blue-500/10 border border-purple-500/20 rounded-xl p-6">
                      <ol className="list-decimal list-inside space-y-2 text-gray-200 text-sm">
                        <li>Design topics/subjects and access policies; create subscriptions (pull or push) and optional filters.</li>
                        <li>Publishers serialize and publish events with attributes and optional ordering/deduplication keys.</li>
                        <li>Broker persists/replicates (as configured), applies filters, and fans out to matching subscriptions.</li>
                        <li>Subscribers receive via pull (with prefetch/flow control) or push (with ack deadlines); ack or nack to trigger retry.</li>
                        <li>Failed deliveries follow retry policy; poison messages are routed to DLQs for offline handling.</li>
                        <li>Operators monitor backlog, redelivery/DLQ, throughput, and latency; scale partitions/consumers accordingly.</li>
                      </ol>
                    </div>
                  </section>

                  {/* Best Practices */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-green-500 rounded-full"></div>
                      Best Practices
                    </h2>
                    <div className="grid gap-3">
                      {[
                        'Make consumers idempotent; use message IDs or deduplication keys to avoid duplicate side-effects.',
                        'Use ordering keys/FIFO topics only when required; otherwise design for out-of-order delivery.',
                        'Bound message size (e.g., ~256 KB SNS/SQS, ~10 MB Google Pub/Sub, Kafka configurable); store blobs externally and pass references.',
                        'Validate event schemas (Avro/Protobuf/JSON Schema) and use a schema registry with compatibility modes.',
                        'Tune flow control: batching/prefetch, max in-flight, backpressure; apply exponential backoff with jitter.',
                        'Configure DLQs and retry policies; surface error reasons for triage; cap redelivery attempts.',
                        'Harden security: TLS, encryption at rest, IAM/RBAC scoped per topic/subscription; isolate tenants and rate-limit.',
                        'Choose the right semantics: at-least-once is typical; enable transactions/exactly-once where supported.',
                        'Plan partition/subject keys to spread load and avoid hot keys; monitor skew and rebalance.',
                        'Set retention and replay policies intentionally (audit/regulatory needs vs cost and storage).'
                      ].map((tip) => (
                        <div key={tip} className="flex items-start gap-3 p-3 bg-gray-800/40 rounded-lg">
                          <Check className="w-5 h-5 text-green-400 mt-0.5 flex-shrink-0" />
                          <span className="text-gray-300 text-sm leading-relaxed">{tip}</span>
                        </div>
                      ))}
                    </div>
                  </section>

                  {/* When NOT to Use */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-red-500 rounded-full"></div>
                      When NOT to Use
                    </h2>
                    <div className="bg-gray-800/40 rounded-lg p-6 border border-gray-700/40 text-sm text-gray-300 space-y-2">
                      <p>Hard real-time request/response paths requiring synchronous, low-latency interactions → use RPC (gRPC/HTTP).</p>
                      <p>Strict global ordering across very high-throughput streams where partitioning would violate requirements.</p>
                      <p>Simple, tightly coupled integrations where a broker adds operational overhead without clear benefit.</p>
                      <p>Distributed ACID transactions spanning multiple services; prefer Outbox/Transaction log patterns.</p>
                      <p>Real-time media (voice/video) where Pub/Sub buffering breaks interactivity; use RTC transports.</p>
                    </div>
                  </section>

                  {/* Common Pitfalls */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-amber-500 rounded-full"></div>
                      Common Pitfalls
                    </h2>
                    <div className="bg-gray-800/40 rounded-lg p-6 border border-gray-700/40 text-sm text-gray-300 space-y-2">
                      <p>Assuming exactly-once by default; most systems are at-least-once → duplicates happen without idempotency.</p>
                      <p>No DLQ or redrive strategy → poison messages trigger infinite retries and backlog growth.</p>
                      <p>Overlooking subscription filters → unnecessary fanout inflates egress and subscriber load.</p>
                      <p>Relying on cross-partition ordering; not using ordering/FIFO keys where needed.</p>
                      <p>Embedding large payloads in events; causing high latency, memory pressure, and broker strain.</p>
                    </div>
                  </section>

                  {/* Key Features */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-cyan-500 rounded-full"></div>
                      Key Features
                    </h2>
                    <div className="grid grid-cols-1 md:grid-cols-2 gap-3">
                      {[
                        'Topic/subject-based routing with fanout to multiple subscriptions.',
                        'Subscription filtering (attributes/content) to reduce unnecessary delivery.',
                        'Delivery semantics: at-least-once; platform-specific exactly-once options.',
                        'Ordering controls: ordering keys / FIFO groups; per-key sequencing.',
                        'Durable retention and replay (platform-dependent); ack/redelivery policies.',
                        'Push and pull delivery modes; flow control and prefetch.',
                        'Consumer groups/subscriptions for horizontal scale and fault isolation.',
                        'Dead-letter queues and retry policies with backoff.'
                      ].map((feat) => (
                        <div key={feat} className="p-3 bg-gray-800/40 rounded-lg text-gray-300 text-sm border border-gray-700/40">{feat}</div>
                      ))}
                    </div>
                  </section>

                  {/* KPIs / Success Metrics */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-emerald-500 rounded-full"></div>
                      KPIs / Success Metrics
                    </h2>
                    <div className="bg-gray-800/40 rounded-lg p-6 border border-gray-700/40 text-sm text-gray-300 grid grid-cols-1 md:grid-cols-2 gap-3">
                      <div>End-to-end latency (publish → subscriber ack) p50/p95/p99.</div>
                      <div>Throughput (msgs/s, MB/s) per topic and per subscription/consumer group.</div>
                      <div>Backlog/lag: unacked count, oldest message age per subscription.</div>
                      <div>Redelivery and DLQ rates; processing success/failure rates.</div>
                      <div>Duplicate and ordering-violation rates (per key).</div>
                      <div>Cost KPIs: egress, request operations, storage/retention charges.</div>
                    </div>
                  </section>

                  {/* Token / Resource Usage */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-indigo-500 rounded-full"></div>
                      Token / Resource Usage
                    </h2>
                    <div className="bg-gray-800/40 rounded-lg p-6 border border-gray-700/40 text-sm text-gray-300 space-y-2">
                      <p>CPU for serialization/compression and broker coordination; memory for buffers; disk I/O for durable logs/streams; network for replication and client traffic.</p>
                      <p>Optimize with batching and compression; bound payload size (e.g., SNS/SQS ≈256 KB, Google Pub/Sub ≈10 MB, Kafka configurable); store large blobs externally.</p>
                      <p>Apply quotas and rate limits per tenant/topic; monitor egress and retention costs; tune prefetch/parallelism to match downstream capacity.</p>
                    </div>
                  </section>

                  {/* Best Use Cases */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-fuchsia-500 rounded-full"></div>
                      Best Use Cases
                    </h2>
                    <div className="bg-gray-800/40 rounded-lg p-6 border border-gray-700/40 text-sm text-gray-300 space-y-2">
                      <p>Event broadcasting and notifications; multi-tenant fanout; real-time product updates and dashboards.</p>
                      <p>Microservices eventing (domain events, CQRS/event sourcing) and decoupled multi-agent coordination.</p>
                      <p>IoT telemetry ingestion with selective delivery to analytics, alerting, and storage pipelines.</p>
                      <p>Cross-region/event bus replication and replay for audit and recovery.</p>
                    </div>
                  </section>

                  {/* References & Further Reading */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-orange-500 rounded-full"></div>
                      References & Further Reading
                    </h2>
                    <div className="bg-gray-800/40 rounded-lg p-6 border border-gray-700/40 space-y-4">
                      <div>
                        <h3 className="text-white font-semibold mb-2 text-sm">Academic Papers</h3>
                        <ul className="list-disc list-inside space-y-1 text-gray-300 text-sm">
                          <li><a href="https://arxiv.org/abs/1709.00333" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">Kafka versus RabbitMQ (2017)</a></li>
                          <li><a href="https://www.confluent.io/blog/what-is-a-log-what-every-software-engineer-should-know/" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">The Log: What every software engineer should know (Kreps)</a></li>
                        </ul>
                      </div>
                      <div>
                        <h3 className="text-white font-semibold mb-2 text-sm">Implementation Guides</h3>
                        <ul className="list-disc list-inside space-y-1 text-gray-300 text-sm">
                          <li><a href="https://kafka.apache.org/documentation/#semantics_eos" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">Apache Kafka: Exactly-Once Semantics</a></li>
                          <li><a href="https://www.rabbitmq.com/tutorials/amqp-concepts.html#exchanges-topic" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">RabbitMQ: Topic Exchanges</a>, <a href="https://www.rabbitmq.com/dlx.html" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">Dead Letter Exchanges</a></li>
                          <li><a href="https://cloud.google.com/pubsub/docs/ordering" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">Google Pub/Sub: Ordering Keys</a>, <a href="https://cloud.google.com/pubsub/docs/exactly-once-delivery" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">Exactly-Once Delivery</a></li>
                          <li><a href="https://docs.aws.amazon.com/sns/latest/dg/fifo.html" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">AWS SNS FIFO & Ordering</a></li>
                          <li><a href="https://learn.microsoft.com/azure/architecture/patterns/publisher-subscriber" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">Azure Architecture Center: Publisher-Subscriber</a></li>
                        </ul>
                      </div>
                      <div>
                        <h3 className="text-white font-semibold mb-2 text-sm">Tools & Libraries</h3>
                        <ul className="list-disc list-inside space-y-1 text-gray-300 text-sm">
                          <li>Apache Kafka, RabbitMQ, Google Pub/Sub, AWS SNS/SQS, NATS JetStream, Redis Streams</li>
                          <li>Client SDKs: confluent-kafka/librdkafka, Sarama (Go), Spring Cloud Stream, aio-pika, AWS SDKs</li>
                        </ul>
                      </div>
                      <div>
                        <h3 className="text-white font-semibold mb-2 text-sm">Community & Discussions</h3>
                        <ul className="list-disc list-inside space-y-1 text-gray-300 text-sm">
                          <li><a href="https://lists.apache.org/list.html?users@kafka.apache.org" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">Kafka Users Mailing List</a></li>
                          <li><a href="https://groups.google.com/g/rabbitmq-users" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">RabbitMQ Users</a></li>
                          <li><a href="https://stackoverflow.com/questions/tagged/publish-subscribe" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">StackOverflow: publish-subscribe</a></li>
                        </ul>
                      </div>
                    </div>
                  </section>
                </>
              ) : selectedTechnique.id === 'stateful-graph-workflows' ? (
                <>
                  {/* Core Mechanism (short conceptual overview) */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-blue-500 rounded-full"></div>
                      Core Mechanism (short conceptual overview)
                    </h2>
                    <div className="bg-gradient-to-br from-blue-500/10 to-purple-500/10 border border-blue-500/20 rounded-xl p-6">
                      <p className="text-gray-200 text-base leading-relaxed mb-3">
                        Stateful Graph Workflows model a process as a directed graph of nodes (steps) and edges (control flow),
                        with a persistent state carried across steps. Execution proceeds per session/thread, with checkpoints that
                        allow pause/resume, replay, branching, and time-travel for debugging. Conditional edges and loops enable
                        dynamic routing; parallel branches allow concurrent work. This pattern underpins modern agentic systems
                        (e.g., LangGraph, LlamaIndex Workflows) and general workflow engines (e.g., Temporal) where reliability
                        and auditability matter.
                      </p>
                    </div>
                  </section>

                  {/* Workflow / Steps */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-purple-500 rounded-full"></div>
                      Workflow / Steps
                    </h2>
                    <div className="bg-gradient-to-br from-purple-500/10 to-blue-500/10 border border-purple-500/20 rounded-xl p-6">
                      <ol className="list-decimal list-inside space-y-2 text-gray-200 text-sm">
                        <li>Define a typed state schema (inputs, working memory, outputs, metadata, provenance).</li>
                        <li>Implement nodes as deterministic steps (tool/LLM calls, functions) that read/write state.</li>
                        <li>Connect nodes with edges; add conditional routing and loop guards; enable parallel branches where safe.</li>
                        <li>Configure persistence (checkpoint store) and thread/session keys for resumability and replay.</li>
                        <li>Run per thread: advance node → write checkpoint → decide next edge; support human-in-the-loop stops.</li>
                        <li>Observe and govern: logs/traces, metrics, cost/latency budgets, policy and safety checks.</li>
                      </ol>
                    </div>
                  </section>

                  {/* Best Practices */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-green-500 rounded-full"></div>
                      Best Practices
                    </h2>
                    <div className="grid gap-3">
                      {[
                        'Keep state compact and structured; persist artifacts by reference (URIs) with provenance.',
                        'Make nodes idempotent and side‑effect safe; store dedupe keys and retry metadata in state.',
                        'Version graphs and state schemas; support migrations and backward‑compatible checkpoints.',
                        'Add explicit termination criteria and loop guards; cap max steps/iterations per thread.',
                        'Separate orchestration from business logic; keep prompts/tools modular and testable.',
                        'Instrument per‑node KPIs (latency, cost/tokens, success/fallbacks) and enforce budgets.',
                        'Use checkpointing for resume/replay; redact or encrypt sensitive fields at rest.',
                        'Prefer parallel branches only for independent, side‑effect‑free steps; bound concurrency.',
                        'Write table‑driven tests for routing; fuzz edge conditions; record/replay tricky sessions.'
                      ].map((tip) => (
                        <div key={tip} className="flex items-start gap-3 p-3 bg-gray-800/40 rounded-lg">
                          <Check className="w-5 h-5 text-green-400 mt-0.5 flex-shrink-0" />
                          <span className="text-gray-300 text-sm leading-relaxed">{tip}</span>
                        </div>
                      ))}
                    </div>
                  </section>

                  {/* When NOT to Use */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-red-500 rounded-full"></div>
                      When NOT to Use
                    </h2>
                    <div className="bg-gray-800/40 rounded-lg p-6 border border-gray-700/40 text-sm text-gray-300 space-y-2">
                      <p>Simple, linear request→response flows without branching or long‑lived context.</p>
                      <p>Ultra low‑latency paths where orchestration/LLM round‑trips would violate SLOs.</p>
                      <p>One‑off scripts or stateless batch jobs where checkpointing adds no value.</p>
                      <p>Strict cross‑service ACID transactions; use transactional workflow engines or sagas.</p>
                      <p>Domains better served by rules engines or SQL pipelines with minimal control flow.</p>
                    </div>
                  </section>

                  {/* Common Pitfalls */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-amber-500 rounded-full"></div>
                      Common Pitfalls
                    </h2>
                    <div className="bg-gray-800/40 rounded-lg p-6 border border-gray-700/40 text-sm text-gray-300 space-y-2">
                      <p>Unbounded loops or recursive retries without caps or convergence checks.</p>
                      <p>Global mutable state shared across threads; race conditions in parallel branches.</p>
                      <p>Missing idempotency → duplicate side effects when resuming/retrying.</p>
                      <p>Checkpointing large blobs instead of references → storage bloat and slow resumes.</p>
                      <p>Token blowups from over‑stuffed prompts and missing summarization of state/history.</p>
                      <p>Mixing orchestration and business logic tightly; hard‑to‑test, brittle graphs.</p>
                    </div>
                  </section>

                  {/* Key Features */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-cyan-500 rounded-full"></div>
                      Key Features
                    </h2>
                    <div className="grid grid-cols-1 md:grid-cols-2 gap-3">
                      {[
                        'Persistent state per thread/session with typed schema.',
                        'Checkpointing, resume, replay, and time‑travel debugging.',
                        'Conditional routing, loops with guards, and parallel branches.',
                        'Human‑in‑the‑loop steps and approvals; pause/resume points.',
                        'Pluggable storage/backends for checkpoints and artifacts.',
                        'Deterministic step execution with side‑effect controls.',
                        'Rich observability: traces, metrics, and audit logs.',
                        'Policy gates and budgets (latency, cost/tokens) per node.'
                      ].map((feat) => (
                        <div key={feat} className="p-3 bg-gray-800/40 rounded-lg text-gray-300 text-sm border border-gray-700/40">{feat}</div>
                      ))}
                    </div>
                  </section>

                  {/* KPIs / Success Metrics */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-emerald-500 rounded-full"></div>
                      KPIs / Success Metrics
                    </h2>
                    <div className="bg-gray-800/40 rounded-lg p-6 border border-gray-700/40 text-sm text-gray-300 grid grid-cols-1 md:grid-cols-2 gap-3">
                      <div>Time‑to‑completion per thread; p50/p95/p99 per node; throughput.</div>
                      <div>Success rate vs. fallback/human‑assist; rollback/resume counts.</div>
                      <div>Tokens per run and per node; cost per run; cache hit rate.</div>
                      <div>Retry/DLQ rates; loop/iteration counts; parallelism utilization.</div>
                      <div>Policy/SLA adherence: budget breaches (latency, cost, tokens).</div>
                      <div>Quality metrics (task‑specific accuracy, evaluation pass rate).</div>
                    </div>
                  </section>

                  {/* Token / Resource Usage */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-indigo-500 rounded-full"></div>
                      Token / Resource Usage
                    </h2>
                    <div className="bg-gray-800/40 rounded-lg p-6 border border-gray-700/40 text-sm text-gray-300 space-y-2">
                      <p>Drivers: planning/analysis prompts, retrieval/context packing, per‑node LLM calls, self‑checks, and state growth.</p>
                      <p>Controls: per‑node token caps, summarize history/state, early‑exit on high confidence, batch parallelizable nodes, cache aggressively.</p>
                      <p>Storage/CPU: compact checkpoints (diffs), externalize large artifacts, dedupe state; bound concurrency to match budgets.</p>
                    </div>
                  </section>

                  {/* Best Use Cases */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-fuchsia-500 rounded-full"></div>
                      Best Use Cases
                    </h2>
                    <div className="bg-gray-800/40 rounded-lg p-6 border border-gray-700/40 text-sm text-gray-300 space-y-2">
                      <p>Multi‑step AI task automation (plan→act→verify→report) with resumability and audit.</p>
                      <p>RAG pipelines with routing/verification (e.g., CoVe/CRAG) and fallback paths.</p>
                      <p>Agent teams invoking tools/skills with human approvals and safe rollbacks.</p>
                      <p>Compliance/regulated workflows requiring deterministic replay and traceability.</p>
                      <p>Long‑running operations with external dependencies and intermittent failures.</p>
                    </div>
                  </section>

                  {/* References & Further Reading */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-orange-500 rounded-full"></div>
                      References & Further Reading
                    </h2>
                    <div className="bg-gray-800/40 rounded-lg p-6 border border-gray-700/40 space-y-4">
                      <div>
                        <h3 className="text-white font-semibold mb-2 text-sm">Academic Papers</h3>
                        <ul className="list-disc list-inside space-y-1 text-gray-300 text-sm">
                          <li><a href="https://arxiv.org/abs/2312.06893" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">Styx: Transactional Stateful Functions on Streaming Dataflows (2023)</a></li>
                          <li><a href="https://arxiv.org/abs/1912.12740" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">Streaming Processing of Dynamic Graphs: Concepts, Models, and Systems (2019)</a></li>
                          <li><a href="https://arxiv.org/abs/1902.10345" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">Stateful Dataflow Multigraphs for Performance Portability (2019)</a></li>
                        </ul>
                      </div>
                      <div>
                        <h3 className="text-white font-semibold mb-2 text-sm">Implementation Guides</h3>
                        <ul className="list-disc list-inside space-y-1 text-gray-300 text-sm">
                          <li><a href="https://langchain-ai.github.io/langgraph/" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">LangGraph Documentation (StateGraph, Threads, Checkpoints)</a></li>
                          <li><a href="https://docs.llamaindex.ai/en/latest/module_guides/workflows/" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">LlamaIndex Workflows</a></li>
                          <li><a href="https://docs.temporal.io/" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">Temporal Documentation</a></li>
                          <li><a href="https://beam.apache.org/documentation/programming-guide/" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">Apache Beam Programming Guide</a></li>
                        </ul>
                      </div>
                      <div>
                        <h3 className="text-white font-semibold mb-2 text-sm">Tools & Libraries</h3>
                        <ul className="list-disc list-inside space-y-1 text-gray-300 text-sm">
                          <li>LangGraph, LlamaIndex Workflows</li>
                          <li><a href="https://flink.apache.org/stateful-functions/" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">Apache Flink Stateful Functions</a></li>
                          <li><a href="https://beam.apache.org/" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">Apache Beam</a>, <a href="https://www.elastic.co/guide/en/kibana/current/workflows.html" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">Workflow tooling</a></li>
                        </ul>
                      </div>
                      <div>
                        <h3 className="text-white font-semibold mb-2 text-sm">Community & Discussions</h3>
                        <ul className="list-disc list-inside space-y-1 text-gray-300 text-sm">
                          <li><a href="https://github.com/langchain-ai/langgraph/discussions" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">LangGraph Discussions</a></li>
                          <li><a href="https://community.temporal.io/" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">Temporal Community</a></li>
                          <li><a href="https://flink.apache.org/community.html#mailing-lists" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">Flink User Mailing Lists</a></li>
                        </ul>
                      </div>
                    </div>
                  </section>
                </>
              ) : selectedTechnique.id === 'graph-state-machines' ? (
                <>
                  {/* Core Mechanism (short conceptual overview) */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-blue-500 rounded-full"></div>
                      Core Mechanism (short conceptual overview)
                    </h2>
                    <div className="bg-gradient-to-br from-red-500/10 to-orange-500/10 border border-red-500/20 rounded-xl p-6">
                      <p className="text-gray-200 text-base leading-relaxed mb-3">
                        Graph State Machines represent control flow as states (nodes) and event-driven transitions (edges) with
                        guard conditions and actions. Statecharts augment this with hierarchical states, orthogonal regions
                        (parallelism), and history to capture complex real-world behavior. This gives deterministic, auditable
                        flow control for agent/tool invocations, approvals, retries, and human-in-the-loop checkpoints.
                      </p>
                    </div>
                  </section>

                  {/* Workflow / Steps */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-purple-500 rounded-full"></div>
                      Workflow / Steps
                    </h2>
                    <div className="bg-gradient-to-br from-purple-500/10 to-blue-500/10 border border-purple-500/20 rounded-xl p-6">
                      <ol className="list-decimal list-inside space-y-2 text-gray-200 text-sm">
                        <li>Enumerate states (initial, intermediate, terminal) and define state/context schema.</li>
                        <li>List events; define transitions with guards and actions (include error/timeouts as events).</li>
                        <li>Design the graph: priorities/defaults per state; add hierarchy/parallel regions if using statecharts.</li>
                        <li>Implement pure transition logic; run side effects in effect handlers with retries and idempotency.</li>
                        <li>Persist state + minimal context; version the machine; enable visualization from source.</li>
                        <li>Test transitions (table-driven), fuzz guards, and validate invariants; add observability.</li>
                      </ol>
                    </div>
                  </section>

                  {/* Best Practices */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-green-500 rounded-full"></div>
                      Best Practices
                    </h2>
                    <div className="grid gap-3">
                      {[
                        'Minimize state explosion: encode data checks in guards, not separate states.',
                        'Use statecharts for hierarchy/parallelism; leverage history for resumption.',
                        'Keep transition functions pure; isolate I/O and side effects with idempotency keys.',
                        'Model failures/timeouts explicitly; add compensations and rollback paths.',
                        'Source-of-truth diagrams from machine definition; review diffs in PRs.',
                        'Persist only necessary context; externalize large artifacts via URIs; protect sensitive data.',
                        'Comprehensive tests for guards/transitions; property tests for safety invariants.'
                      ].map((tip) => (
                        <div key={tip} className="flex items-start gap-3 p-3 bg-gray-800/40 rounded-lg">
                          <Check className="w-5 h-5 text-green-400 mt-0.5 flex-shrink-0" />
                          <span className="text-gray-300 text-sm leading-relaxed">{tip}</span>
                        </div>
                      ))}
                    </div>
                  </section>

                  {/* When NOT to Use */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-red-500 rounded-full"></div>
                      When NOT to Use
                    </h2>
                    <div className="bg-gray-800/40 rounded-lg p-6 border border-gray-700/40 text-sm text-gray-300 space-y-2">
                      <p>Simple linear flows where a straight-line function or DAG is clearer and cheaper.</p>
                      <p>Heavy dataflow/ETL where stream/DAG engines fit better than event-guard machines.</p>
                      <p>Ultra low-latency paths sensitive to event loop/guard evaluation overhead.</p>
                      <p>Strict ACID cross-service transactions; prefer workflow engines with sagas/transactions.</p>
                    </div>
                  </section>

                  {/* Common Pitfalls */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-amber-500 rounded-full"></div>
                      Common Pitfalls
                    </h2>
                    <div className="bg-gray-800/40 rounded-lg p-6 border border-gray-700/40 text-sm text-gray-300 space-y-2">
                      <p>State explosion from encoding fine-grained data conditions as states rather than guards.</p>
                      <p>Ambiguous or overlapping guards; missing default transitions → nondeterminism.</p>
                      <p>Embedding side effects inside transitions → non-determinism and retry hazards.</p>
                      <p>Missing persistence/idempotency → unrecoverable or duplicated effects on retry.</p>
                      <p>Parallel regions without proper isolation → races and deadlocks.</p>
                    </div>
                  </section>

                  {/* Key Features */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-cyan-500 rounded-full"></div>
                      Key Features
                    </h2>
                    <div className="grid grid-cols-1 md:grid-cols-2 gap-3">
                      {[
                        'Deterministic event→transition semantics with guards and actions',
                        'Hierarchical and parallel states (statecharts); history/restoration',
                        'Explicit error/timeout and compensation transitions',
                        'Visual models and formal reasoning about reachability/invariants',
                        'Composable submachines; reuse via regions and invoked machines'
                      ].map((feat) => (
                        <div key={feat} className="p-3 bg-gray-800/40 rounded-lg text-gray-300 text-sm border border-gray-700/40">{feat}</div>
                      ))}
                    </div>
                  </section>

                  {/* KPIs / Success Metrics */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-emerald-500 rounded-full"></div>
                      KPIs / Success Metrics
                    </h2>
                    <div className="bg-gray-800/40 rounded-lg p-6 border border-gray-700/40 text-sm text-gray-300 grid grid-cols-1 md:grid-cols-2 gap-3">
                      <div>Transition coverage and unreachable-state detection in tests.</div>
                      <div>Mean steps-to-completion; time-in-state distributions; p50/p95 per transition.</div>
                      <div>Failure/compensation transition rates; replay/resume success rates.</div>
                      <div>For LLM steps: tokens per state and per run; cost per run; cache hit rate.</div>
                    </div>
                  </section>

                  {/* Token / Resource Usage */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-indigo-500 rounded-full"></div>
                      Token / Resource Usage
                    </h2>
                    <div className="bg-gray-800/40 rounded-lg p-6 border border-gray-700/40 text-sm text-gray-300 space-y-2">
                      <p>Drivers: per-state LLM/tool calls, validation/self-check prompts, and context growth in state data.</p>
                      <p>Controls: per-state token budgets; summarize/trim context; cache deterministic steps; bound concurrency.</p>
                      <p>Storage/CPU: persist minimal state + references; avoid logging sensitive context; instrument per-transition cost.</p>
                    </div>
                  </section>

                  {/* Best Use Cases */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-fuchsia-500 rounded-full"></div>
                      Best Use Cases
                    </h2>
                    <div className="bg-gray-800/40 rounded-lg p-6 border border-gray-700/40 text-sm text-gray-300 space-y-2">
                      <p>Order/approval/fulfillment flows with retries, compensations, and human approvals.</p>
                      <p>Agent/dialog controllers gating tool calls and safety checks per step.</p>
                      <p>Compliance workflows requiring deterministic replay and audit trails.</p>
                      <p>Device/process controllers with hierarchical/parallel modes.</p>
                    </div>
                  </section>

                  {/* References & Further Reading */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-orange-500 rounded-full"></div>
                      References & Further Reading
                    </h2>
                    <div className="bg-gray-800/40 rounded-lg p-6 border border-gray-700/40 space-y-4">
                      <div>
                        <h3 className="text-white font-semibold mb-2 text-sm">Academic Papers</h3>
                        <ul className="list-disc list-inside space-y-1 text-gray-300 text-sm">
                          <li><a href="https://dl.acm.org/doi/10.1145/40204.40205" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">Harel (1987): Statecharts—A Visual Formalism for Complex Systems</a></li>
                          <li><a href="https://ieeexplore.ieee.org/document/34753" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">Murata (1989): Petri Nets—Properties, Analysis and Applications</a></li>
                          <li><a href="https://www.workflowpatterns.com/" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">Workflow Patterns (van der Aalst et al.)</a></li>
                        </ul>
                      </div>
                      <div>
                        <h3 className="text-white font-semibold mb-2 text-sm">Implementation Guides</h3>
                        <ul className="list-disc list-inside space-y-1 text-gray-300 text-sm">
                          <li><a href="https://stately.ai/docs" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">XState/Stately Docs (Statecharts)</a></li>
                          <li><a href="https://docs.aws.amazon.com/step-functions/" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">AWS Step Functions</a></li>
                          <li><a href="https://docs.temporal.io/" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">Temporal Docs</a></li>
                          <li><a href="https://langchain-ai.github.io/langgraph/" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">LangGraph (StateGraph, Threads, Checkpoints)</a></li>
                          <li><a href="https://docs.llamaindex.ai/en/latest/module_guides/workflows/" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">LlamaIndex Workflows</a></li>
                        </ul>
                      </div>
                      <div>
                        <h3 className="text-white font-semibold mb-2 text-sm">Tools & Libraries</h3>
                        <ul className="list-disc list-inside space-y-1 text-gray-300 text-sm">
                          <li>XState/Statecharts, AWS Step Functions, Temporal, Camunda BPMN 2.0</li>
                          <li>LangGraph, LlamaIndex Workflows</li>
                        </ul>
                      </div>
                      <div>
                        <h3 className="text-white font-semibold mb-2 text-sm">Community & Discussions</h3>
                        <ul className="list-disc list-inside space-y-1 text-gray-300 text-sm">
                          <li><a href="https://discord.gg/xstate" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">XState/Stately Community</a></li>
                          <li><a href="https://community.temporal.io/" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">Temporal Community</a></li>
                          <li><a href="https://forum.camunda.io/" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">Camunda Forum</a></li>
                          <li><a href="https://github.com/langchain-ai/langgraph/discussions" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">LangGraph Discussions</a></li>
                        </ul>
                      </div>
                    </div>
                  </section>
                </>
              ) : selectedTechnique.id === 'actor-model-coordination' ? (
                <>
                  {/* Core Mechanism (short conceptual overview) */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-blue-500 rounded-full"></div>
                      Core Mechanism (short conceptual overview)
                    </h2>
                    <div className="bg-gradient-to-br from-orange-500/10 to-yellow-500/10 border border-orange-500/20 rounded-xl p-6">
                      <p className="text-gray-200 text-base leading-relaxed mb-3">
                        The Actor Model coordinates independent actors that communicate exclusively via asynchronous
                        message passing. Each actor encapsulates its own state and behavior, processes one message
                        at a time, can create new actors, and can send messages to known addresses. Supervision
                        hierarchies handle failures through isolation and restarts, and location transparency enables
                        distributed placement without changing messaging semantics.
                      </p>
                    </div>
                  </section>

                  {/* Workflow / Steps */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-purple-500 rounded-full"></div>
                      Workflow / Steps
                    </h2>
                    <div className="bg-gradient-to-br from-purple-500/10 to-orange-500/10 border border-purple-500/20 rounded-xl p-6">
                      <ol className="list-decimal list-inside space-y-2 text-gray-200 text-sm">
                        <li>Define actor roles, responsibilities, and message protocols (types, headers, routing keys).</li>
                        <li>Design supervision tree: parent actors supervise children with restart strategies and backoff.</li>
                        <li>Choose dispatching and mailboxes (bounded where possible) and configure routing/sharding.</li>
                        <li>Implement actor handlers as pure, non-blocking message processors; externalize I/O via async APIs.</li>
                        <li>Persist critical actor state (event sourcing/snapshots) if durability or replay is required.</li>
                        <li>Deploy with location transparency; scale via partitioning/sharding and consumer groups per shard.</li>
                        <li>Observe with tracing/metrics; enforce SLAs with backpressure, circuit breakers, and timeouts.</li>
                      </ol>
                    </div>
                  </section>

                  {/* Best Practices */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-green-500 rounded-full"></div>
                      Best Practices
                    </h2>
                    <div className="grid gap-3">
                      {[
                        'Keep actors small and single‑purpose; treat them like lightweight processes with clear protocols.',
                        'Use bounded mailboxes and apply backpressure; avoid unbounded queues and hot partitions.',
                        'Make handlers non‑blocking; offload I/O to async tasks; avoid shared mutable state between actors.',
                        'Model failures explicitly with supervision strategies (restart, resume, stop, escalate).',
                        'Use sharding/partitioning keys that balance load; avoid hotspots; enable rebalancing.',
                        'Persist state with event sourcing/snapshots where durability matters; ensure idempotency on replay.',
                        'Prefer location transparency; do not encode physical addresses in protocol designs.',
                        'Instrument with per‑actor metrics (mailbox depth, processing latency, restarts) and distributed tracing.'
                      ].map((tip) => (
                        <div key={tip} className="flex items-start gap-3 p-3 bg-gray-800/40 rounded-lg">
                          <Check className="w-5 h-5 text-green-400 mt-0.5 flex-shrink-0" />
                          <span className="text-gray-300 text-sm leading-relaxed">{tip}</span>
                        </div>
                      ))}
                    </div>
                  </section>

                  {/* When NOT to Use */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-red-500 rounded-full"></div>
                      When NOT to Use
                    </h2>
                    <div className="bg-gray-800/40 rounded-lg p-6 border border-gray-700/40 text-sm text-gray-300 space-y-2">
                      <p>Workloads requiring strict shared‑memory transactions or global locks across many entities.</p>
                      <p>Ultra low‑latency single‑threaded paths where mailbox scheduling and messaging overhead dominate.</p>
                      <p>Simple CRUD services where synchronous RPC with a database is sufficient and easier to operate.</p>
                      <p>Teams without experience in concurrent/distributed debugging and supervision can accrue complexity fast.</p>
                    </div>
                  </section>

                  {/* Common Pitfalls */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-amber-500 rounded-full"></div>
                      Common Pitfalls
                    </h2>
                    <div className="bg-gray-800/40 rounded-lg p-6 border border-gray-700/40 text-sm text-gray-300 space-y-2">
                      <p>Unbounded actor creation and mailbox growth → memory pressure and GC pauses.</p>
                      <p>Blocking calls inside actors → deadlocks, throughput collapse, and missed SLAs.</p>
                      <p>Assuming in‑order delivery across the system; failing to handle retries and duplicates.</p>
                      <p>Hot sharding keys causing skew; missing rebalancing; poor addressability design.</p>
                      <p>Restart storms from improper supervision or non‑idempotent side effects on replay.</p>
                    </div>
                  </section>

                  {/* Key Features */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-cyan-500 rounded-full"></div>
                      Key Features
                    </h2>
                    <div className="grid grid-cols-1 md:grid-cols-2 gap-3">
                      {[
                        'Asynchronous message passing with mailboxes and backpressure controls',
                        'State encapsulation and single‑threaded execution per actor',
                        'Supervision hierarchies and fault isolation with restart policies',
                        'Location transparency and dynamic actor creation',
                        'Cluster sharding/partitioning for scale‑out',
                        'Persistence via event sourcing and snapshots (optional)'
                      ].map((feat) => (
                        <div key={feat} className="p-3 bg-gray-800/40 rounded-lg text-gray-300 text-sm border border-gray-700/40">{feat}</div>
                      ))}
                    </div>
                  </section>

                  {/* KPIs / Success Metrics */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-emerald-500 rounded-full"></div>
                      KPIs / Success Metrics
                    </h2>
                    <div className="bg-gray-800/40 rounded-lg p-6 border border-gray-700/40 text-sm text-gray-300 grid grid-cols-1 md:grid-cols-2 gap-3">
                      <div>Mailbox depth distribution and time‑in‑queue; p50/p95/p99 processing latency per actor.</div>
                      <div>Throughput (msgs/s) per shard; CPU/memory utilization per node.</div>
                      <div>Restart rate, failure domains impacted, and successful recovery time.</div>
                      <div>Message loss/duplicate rate (with/without persistence); dead letter queue incidence.</div>
                      <div>Shard rebalancing time; hotspot detection; load skew metrics.</div>
                      <div>Cost and efficiency: messages per dollar, tokens per task (for LLM‑backed actors).</div>
                    </div>
                  </section>

                  {/* Token / Resource Usage */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-indigo-500 rounded-full"></div>
                      Token / Resource Usage
                    </h2>
                    <div className="bg-gray-800/40 rounded-lg p-6 border border-gray-700/40 text-sm text-gray-300 space-y-2">
                      <p>LLM tokens scale with per‑message context and number of actor hops. Use compact schemas, summaries, and
                      references to external state instead of full transcripts to control prompt size.</p>
                      <p>Bound retries and apply early‑exit heuristics on high confidence; cache frequent tool/LLM results.</p>
                      <p>System resources: cap mailboxes, limit parallelism per shard, and monitor persistence I/O for event‑sourced actors.</p>
                    </div>
                  </section>

                  {/* Best Use Cases */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-fuchsia-500 rounded-full"></div>
                      Best Use Cases
                    </h2>
                    <div className="bg-gray-800/40 rounded-lg p-6 border border-gray-700/40 text-sm text-gray-300 space-y-2">
                      <p>Real‑time coordination with fault isolation (e.g., chat/agent assistants per session, IoT/device control).</p>
                      <p>Distributed stream processing and pipelines requiring stateful, independent workers.</p>
                      <p>Online gaming, trading, or telemetry where entities map naturally to actors.</p>
                      <p>Large multi‑agent systems where supervision trees and actor sharding provide resilience and scale.</p>
                    </div>
                  </section>

                  {/* References & Further Reading */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-orange-500 rounded-full"></div>
                      References & Further Reading
                    </h2>
                    <div className="bg-gray-800/40 rounded-lg p-6 border border-gray-700/40 space-y-4">
                      <div>
                        <h3 className="text-white font-semibold mb-2 text-sm">Academic Papers</h3>
                        <ul className="list-disc list-inside space-y-1 text-gray-300 text-sm">
                          <li><a href="https://dl.acm.org/doi/10.5555/7929.7925" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">Agha (1986): Actors: A Model of Concurrent Computation</a></li>
                          <li><a href="https://dl.acm.org/doi/10.1145/360248.360251" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">Hewitt, Bishop, Steiger (1973): A Universal Modular ACTOR Formalism for AI</a></li>
                          <li><a href="https://www.microsoft.com/en-us/research/publication/orleans-distributed-virtual-actors-for-programmability-and-scalability/" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">Orleans: Distributed Virtual Actors (Microsoft Research)</a></li>
                        </ul>
                      </div>
                      <div>
                        <h3 className="text-white font-semibold mb-2 text-sm">Implementation Guides</h3>
                        <ul className="list-disc list-inside space-y-1 text-gray-300 text-sm">
                          <li><a href="https://www.erlang.org/doc/system/architecture.html" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">Erlang/OTP: System Architecture & Supervision Trees</a></li>
                          <li><a href="https://doc.akka.io/docs/akka/current/typed/index.html" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">Akka Typed Documentation</a></li>
                          <li><a href="https://learn.microsoft.com/azure/architecture/reference-architectures/actors/virtual-actor" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">Azure Architecture: Virtual Actor (Orleans)</a></li>
                          <li><a href="https://docs.dapr.io/developing-applications/building-blocks/actors/" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">Dapr Actors</a></li>
                          <li><a href="https://docs.ray.io/en/latest/ray-core/actors.html" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">Ray Actors</a></li>
                        </ul>
                      </div>
                      <div>
                        <h3 className="text-white font-semibold mb-2 text-sm">Tools & Libraries</h3>
                        <ul className="list-disc list-inside space-y-1 text-gray-300 text-sm">
                          <li>Erlang/OTP, Elixir GenServer/OTP, Akka Typed, Akka.NET, Microsoft Orleans, Dapr Actors</li>
                          <li>Ray Actors, Cloudflare Durable Objects (actor‑like), CAF (C++ Actor Framework), Proto.Actor, Actix</li>
                        </ul>
                      </div>
                      <div>
                        <h3 className="text-white font-semibold mb-2 text-sm">Community & Discussions</h3>
                        <ul className="list-disc list-inside space-y-1 text-gray-300 text-sm">
                          <li><a href="https://erlangforums.com/" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">Erlang Forums</a></li>
                          <li><a href="https://discuss.lightbend.com/c/akka/41" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">Akka Discussions</a></li>
                          <li><a href="https://discord.gg/dapr" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">Dapr Discord</a> · <a href="https://discuss.ray.io/" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">Ray Discuss</a></li>
                          <li><a href="https://github.com/dotnet/orleans/discussions" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">Orleans Discussions</a></li>
                        </ul>
                      </div>
                    </div>
                  </section>
                </>
              ) : selectedTechnique.id === 'event-driven-hierarchical' ? (
                <>
                  {/* Core Mechanism (short conceptual overview) */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-blue-500 rounded-full"></div>
                      Core Mechanism (short conceptual overview)
                    </h2>
                    <div className="bg-gradient-to-br from-blue-500/10 to-purple-500/10 border border-blue-500/20 rounded-xl p-6">
                      <p className="text-gray-200 text-base leading-relaxed mb-3">
                        Event-Driven Hierarchical Agents (EDHA) organize agents into supervisor→worker levels coordinated by
                        events. Higher levels publish directives to level-specific topics; lower levels consume, decompose, and act,
                        emitting status and results upward. Each level isolates concerns, uses consumer groups for scale, and applies
                        policies (retries, backoff, dead-letter queues) with clear topic taxonomy and correlation/causation IDs for
                        traceability. This blends hierarchical planning with event-driven architecture for resilient orchestration.
                      </p>
                    </div>
                  </section>

                  {/* Workflow / Steps */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-purple-500 rounded-full"></div>
                      Workflow / Steps
                    </h2>
                    <div className="bg-gradient-to-br from-purple-500/10 to-blue-500/10 border border-purple-500/20 rounded-xl p-6">
                      <ol className="list-decimal list-inside space-y-2 text-gray-200 text-sm">
                        <li>Define hierarchy: levels (e.g., executive → manager → team) and role capabilities per level.</li>
                        <li>Design topic taxonomy and naming: level-prefixed topics (e.g., exec.directives, mgr.assignments, team.tasks).</li>
                        <li>Provision transport: Kafka/RabbitMQ/NATS/Cloud Pub/Sub with partitions/FIFO groups and retention.</li>
                        <li>Specify contracts: message schemas (JSON/Avro/Protobuf), headers (correlationId, causationId, tenant, ttl).</li>
                        <li>Implement supervisors: publish directives, evaluate status events, handle escalation/approval gates.</li>
                        <li>Implement workers: consume assignments, decompose tasks, invoke tools/LLMs, publish progress/results.</li>
                        <li>Apply reliability: retries with jittered backoff, idempotency keys, DLQs, circuit breakers, timeouts.</li>
                        <li>Observe and govern: tracing, metrics per level, quotas, cost/latency budgets, policy and safety checks.</li>
                        <li>Reconfigure dynamically: scale consumer groups, change routing, or insert review agents without downtime.</li>
                      </ol>
                    </div>
                  </section>

                  {/* Best Practices */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-green-500 rounded-full"></div>
                      Best Practices
                    </h2>
                    <div className="grid gap-3">
                      {[
                        'Use stable hierarchical topic naming; segregate control vs data planes; keep messages small, reference large artifacts.',
                        'Include correlation/causation IDs and versioned schemas; validate with schema registry; ensure backward compatibility.',
                        'Design idempotent consumers; de-duplicate via message IDs and idempotency keys; avoid non-atomic side effects.',
                        'Bound fan-out and depth; enforce per-level SLAs, budgets, and termination criteria to prevent runaway cascades.',
                        'Apply backpressure and concurrency caps; tune prefetch/flow control; avoid hot partitions via well-chosen keys.',
                        'Implement DLQs with triage workflows; add human-in-the-loop for irrecoverable or policy-sensitive escalations.',
                        'Gate cross-level transactions with sagas/compensation; avoid global locks; prefer eventual consistency patterns.',
                        'Instrument with tracing (OpenTelemetry) and per-level KPIs; maintain audit logs and reproducible event replays.',
                        'Secure by level and tenant: authN/Z, encryption, PII redaction; isolate noisy tenants with quotas.',
                      ].map((tip) => (
                        <div key={tip} className="flex items-start gap-3 p-3 bg-gray-800/40 rounded-lg">
                          <Check className="w-5 h-5 text-green-400 mt-0.5 flex-shrink-0" />
                          <span className="text-gray-300 text-sm leading-relaxed">{tip}</span>
                        </div>
                      ))}
                    </div>
                  </section>

                  {/* When NOT to Use */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-red-500 rounded-full"></div>
                      When NOT to Use
                    </h2>
                    <div className="bg-gray-800/40 rounded-lg p-6 border border-gray-700/40 text-sm text-gray-300 space-y-2">
                      <p>Single-team, short-lived tasks with simple synchronous call graphs and no need for hierarchical oversight.</p>
                      <p>Strict globally ordered workflows or ACID transactions spanning many agents without broker support.</p>
                      <p>Ultra low-latency paths where queuing/LLM round-trips break SLOs; prefer direct RPC or in-process coordination.</p>
                      <p>Domains where centralized optimization beats decomposed local decisions (noisy consensus, tight coupling).</p>
                    </div>
                  </section>

                  {/* Common Pitfalls */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-amber-500 rounded-full"></div>
                      Common Pitfalls
                    </h2>
                    <div className="bg-gray-800/40 rounded-lg p-6 border border-gray-700/40 text-sm text-gray-300 space-y-2">
                      <p>Feedback loops between levels causing churn; missing acyclic flow design and escalation rules.</p>
                      <p>Unbounded fan-out and hidden dependencies; no caps on depth, retries, or parallelism.</p>
                      <p>Consumer group misconfiguration leading to duplicate work or idle workers; hot keys causing skew.</p>
                      <p>No DLQ triage; mixing control and data payloads; large blobs in the bus inflating cost/latency.</p>
                      <p>Missing idempotency and exactly-once semantics where needed; lack of schema evolution strategy.</p>
                    </div>
                  </section>

                  {/* Key Features */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-cyan-500 rounded-full"></div>
                      Key Features
                    </h2>
                    <div className="grid grid-cols-1 md:grid-cols-2 gap-3">
                      {[
                        'Supervisor→worker hierarchy with cascading task decomposition and approvals.',
                        'Level-scoped topics and consumer groups; isolation domains per level/tenant.',
                        'Upward status aggregation, downward directives; event replay for audit and recovery.',
                        'Policy gates per level (SLAs, budgets, safety checks, review workflows).',
                        'Dynamic reconfiguration: hot-add agents/levels, reroute topics, scale consumer groups.',
                        'Interoperation with planning (HTN/options) and actor-style supervision trees.',
                      ].map((feat) => (
                        <div key={feat} className="p-3 bg-gray-800/40 rounded-lg text-gray-300 text-sm border border-gray-700/40">{feat}</div>
                      ))}
                    </div>
                  </section>

                  {/* KPIs / Success Metrics */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-emerald-500 rounded-full"></div>
                      KPIs / Success Metrics
                    </h2>
                    <div className="bg-gray-800/40 rounded-lg p-6 border border-gray-700/40 text-sm text-gray-300 grid grid-cols-1 md:grid-cols-2 gap-3">
                      <div>Directive→completion latency per level (p50/p95/p99) and end-to-end time to resolution.</div>
                      <div>Throughput and backlog per level (consumer lag, oldest event age, SLA breach rate).</div>
                      <div>Escalation and rework rates; approval turnaround; successful decomposition rate.</div>
                      <div>Duplicate/ordering-violation rates; retry/DLQ rates; idempotency failure incidence.</div>
                      <div>Cost per completed task by level; token per task; cache hit rate; utilization of consumers.</div>
                      <div>Change safety: incident count after reconfiguration; policy violation/override counts.</div>
                    </div>
                  </section>

                  {/* Token / Resource Usage */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-indigo-500 rounded-full"></div>
                      Token / Resource Usage
                    </h2>
                    <div className="bg-gray-800/40 rounded-lg p-6 border border-gray-700/40 text-sm text-gray-300 space-y-2">
                      <p>LLM tokens scale with hierarchy depth and event verbosity. Prefer status summaries and references over full logs.</p>
                      <p>Broker costs: storage/retention, egress, partitions/FIFO groups. Tune message size, compression, and batching.</p>
                      <p>Compute/memory: consumer concurrency, serialization, and tool execution; cap parallelism per level.</p>
                      <p>Adopt caching/materialized views for rollups; log per-level token/cost budgets with early-exit heuristics.</p>
                    </div>
                  </section>

                  {/* Best Use Cases */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-fuchsia-500 rounded-full"></div>
                      Best Use Cases
                    </h2>
                    <div className="bg-gray-800/40 rounded-lg p-6 border border-gray-700/40 text-sm text-gray-300 space-y-2">
                      <p>Enterprise program/portfolio management with cross-team decomposition and approvals.</p>
                      <p>Tiered customer support and incident management with escalation and review gates.</p>
                      <p>Supply chain and operations orchestration across regions/business units with local autonomy.</p>
                      <p>Regulatory and safety workflows requiring hierarchical review and auditable event trails.</p>
                    </div>
                  </section>

                  {/* References & Further Reading */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-orange-500 rounded-full"></div>
                      References & Further Reading
                    </h2>
                    <div className="bg-gray-800/40 rounded-lg p-6 border border-gray-700/40 space-y-4">
                      <div>
                        <h3 className="text-white font-semibold mb-2 text-sm">Academic Papers</h3>
                        <ul className="list-disc list-inside space-y-1 text-gray-300 text-sm">
                          <li><a href="https://arxiv.org/abs/1403.7426" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">Georgievski & Aiello (2014): An Overview of Hierarchical Task Network Planning</a></li>
                          <li><a href="https://www.jmlr.org/papers/volume4/sutton03a/sutton03a.pdf" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">Sutton, Precup, Singh (1999): Between MDPs and Semi-MDPs: A Framework for Temporal Abstraction</a></li>
                          <li><a href="https://dl.acm.org/doi/10.1145/7929.7925" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">Agha (1986): Actors: A Model of Concurrent Computation</a></li>
                        </ul>
                      </div>
                      <div>
                        <h3 className="text-white font-semibold mb-2 text-sm">Implementation Guides</h3>
                        <ul className="list-disc list-inside space-y-1 text-gray-300 text-sm">
                          <li><a href="https://kafka.apache.org/documentation/#semantics_eos" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">Apache Kafka: Exactly-Once Semantics</a></li>
                          <li><a href="https://www.rabbitmq.com/tutorials/amqp-concepts.html#exchanges-topic" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">RabbitMQ: Topic Exchanges</a> · <a href="https://www.rabbitmq.com/dlx.html" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">Dead Letter Exchanges</a></li>
                          <li><a href="https://cloud.google.com/pubsub/docs/ordering" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">Google Pub/Sub: Ordering Keys</a> · <a href="https://cloud.google.com/pubsub/docs/exactly-once-delivery" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">Exactly-Once Delivery</a></li>
                          <li><a href="https://learn.microsoft.com/azure/architecture/patterns/publisher-subscriber" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">Azure Architecture Center: Publisher–Subscriber</a></li>
                        </ul>
                      </div>
                      <div>
                        <h3 className="text-white font-semibold mb-2 text-sm">Tools & Libraries</h3>
                        <ul className="list-disc list-inside space-y-1 text-gray-300 text-sm">
                          <li>Apache Kafka, RabbitMQ, Google Pub/Sub, AWS SNS/SQS FIFO, NATS JetStream</li>
                          <li>LangGraph, AutoGen, OpenAI Swarm, CrewAI (multi-agent orchestration)</li>
                        </ul>
                      </div>
                      <div>
                        <h3 className="text-white font-semibold mb-2 text-sm">Community & Discussions</h3>
                        <ul className="list-disc list-inside space-y-1 text-gray-300 text-sm">
                          <li><a href="https://lists.apache.org/list.html?users@kafka.apache.org" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">Kafka Users Mailing List</a></li>
                          <li><a href="https://github.com/langchain-ai/langgraph" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">LangGraph GitHub</a> · <a href="https://github.com/microsoft/autogen" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">AutoGen GitHub</a></li>
                          <li><a href="https://community.openai.com/" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">OpenAI Developer Community</a></li>
                        </ul>
                      </div>
                    </div>
                  </section>
                </>
              ) : selectedTechnique.id === 'message-passing' ? (
                <>
                  {/* Core Mechanism (short conceptual overview) */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-blue-500 rounded-full"></div>
                      Core Mechanism (short conceptual overview)
                    </h2>
                    <div className="bg-gradient-to-br from-blue-500/10 to-purple-500/10 border border-blue-500/20 rounded-xl p-6">
                      <p className="text-gray-200 text-base leading-relaxed mb-3">
                        Message Passing in multi-agent systems is the exchange of typed messages between autonomous agents over
                        channels or mailboxes. Messages carry role, intent, and payload, and may be routed, buffered, retried,
                        and persisted. Agents react to inbound messages by reasoning (LLM calls), updating state/memory, invoking
                        tools, and emitting new messages. Communication can be synchronous (request/response) or asynchronous
                        (fire-and-forget), enabling decoupling, scalability, and fault isolation.
                      </p>
                    </div>
                  </section>

                  {/* Workflow / Steps */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-purple-500 rounded-full"></div>
                      Workflow / Steps
                    </h2>
                    <div className="bg-gradient-to-br from-purple-500/10 to-blue-500/10 border border-purple-500/20 rounded-xl p-6">
                      <ol className="list-decimal list-inside space-y-2 text-gray-200 text-sm">
                        <li>Define agent roles, capabilities, and message schema (type, headers: correlationId, causationId, tenant, ttl).</li>
                        <li>Establish transport: in-memory graph/runtime, brokered queue, or HTTP/WebSocket channels.</li>
                        <li>Initialize conversation thread/context; attach minimal, relevant state references rather than full transcripts.</li>
                        <li>Agent receives message → validates schema/policy → reasons (LLM/tool) → updates state → emits follow-up messages.</li>
                        <li>Route messages by topic/recipient, apply retries/backoff/DLQ for failures, and enforce stop/timeout criteria.</li>
                        <li>Observe with tracing and metrics; checkpoint critical state for recovery and reproducibility.</li>
                      </ol>
                    </div>
                  </section>

                  {/* Best Practices */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-green-500 rounded-full"></div>
                      Best Practices
                    </h2>
                    <div className="grid gap-3">
                      {[
                        'Use explicit message types and compact schemas; include correlation/trace IDs and sender role.',
                        'Bound conversations: define termination criteria (goal reached, max rounds, budget/time caps).',
                        'Minimize token usage: send deltas, references, and summaries instead of full transcripts.',
                        'Design idempotent handlers; deduplicate via message IDs and idempotency keys.',
                        'Apply backoff with jitter; cap retries; use DLQs and human-in-the-loop for irrecoverable cases.',
                        'Enforce safety/guardrails: input validation, tool-result grounding, policy checks before LLM calls.',
                        'Separate control vs. data planes; avoid large blobs in messages—store externally and reference.',
                        'Instrument with OpenTelemetry-style tracing; log message lifecycle and decisions for auditability.',
                        'Version message schemas; roll out with compatibility checks and canaries.',
                      ].map((tip) => (
                        <div key={tip} className="flex items-start gap-3 p-3 bg-gray-800/40 rounded-lg">
                          <Check className="w-5 h-5 text-green-400 mt-0.5 flex-shrink-0" />
                          <span className="text-gray-300 text-sm leading-relaxed">{tip}</span>
                        </div>
                      ))}
                    </div>
                  </section>

                  {/* When NOT to Use */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-red-500 rounded-full"></div>
                      When NOT to Use
                    </h2>
                    <div className="bg-gray-800/40 rounded-lg p-6 border border-gray-700/40 text-sm text-gray-300 space-y-2">
                      <p>Single-step, deterministic tasks where a single agent or direct function call suffices.</p>
                      <p>Ultra low-latency paths with strict SLOs where queuing/LLM round-trips are unacceptable.</p>
                      <p>Strong global ordering or transactional semantics across many agents without dedicated coordination.</p>
                      <p>When shared-memory within one process is simpler and cheaper than inter-agent messaging.</p>
                    </div>
                  </section>

                  {/* Common Pitfalls */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-amber-500 rounded-full"></div>
                      Common Pitfalls
                    </h2>
                    <div className="bg-gray-800/40 rounded-lg p-6 border border-gray-700/40 text-sm text-gray-300 space-y-2">
                      <p>Conversation drift and verbosity explosion → rising token costs and degraded reasoning.</p>
                      <p>Ping-pong loops without termination policies; lack of explicit goals or success criteria.</p>
                      <p>Non-idempotent side effects under retries → duplicates and inconsistent state.</p>
                      <p>Over-trusting unverified tool outputs; missing grounding and validations before propagation.</p>
                      <p>Unbounded fan-out or concurrency → rate-limit breaches and cost spikes.</p>
                    </div>
                  </section>

                  {/* Key Features */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-cyan-500 rounded-full"></div>
                      Key Features
                    </h2>
                    <div className="grid grid-cols-1 md:grid-cols-2 gap-3">
                      {[
                        'Asynchronous and synchronous patterns (request/response, publish/subscribe, mailboxes).',
                        'Routing, addressing, and topic-based delivery; conversation/thread IDs.',
                        'Delivery semantics (at-least-once, at-most-once) with retries and DLQs (when brokered).',
                        'Persistence and replay for auditability and recovery; checkpoints and summaries.',
                        'Policy enforcement per role/topic; safety filters; tool-result grounding.',
                        'Pluggable transports: in-memory graphs, HTTP/WebSocket, queues/brokers.',
                      ].map((feat) => (
                        <div key={feat} className="p-3 bg-gray-800/40 rounded-lg text-gray-300 text-sm border border-gray-700/40">{feat}</div>
                      ))}
                    </div>
                  </section>

                  {/* KPIs / Success Metrics */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-emerald-500 rounded-full"></div>
                      KPIs / Success Metrics
                    </h2>
                    <div className="bg-gray-800/40 rounded-lg p-6 border border-gray-700/40 text-sm text-gray-300 grid grid-cols-1 md:grid-cols-2 gap-3">
                      <div>Task success rate; goal attainment without human intervention.</div>
                      <div>Rounds-to-convergence; average and p95 conversation length.</div>
                      <div>Inter-agent latency and end-to-end time-to-resolution.</div>
                      <div>Token per task and per round; context growth and compression efficiency.</div>
                      <div>Error rates (tool failures, validation rejects); duplicate/redo rates.</div>
                      <div>Cost per successful task; rate-limit incidents; DLQ/redrive counts (if brokered).</div>
                    </div>
                  </section>

                  {/* Token / Resource Usage */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-indigo-500 rounded-full"></div>
                      Token / Resource Usage
                    </h2>
                    <div className="bg-gray-800/40 rounded-lg p-6 border border-gray-700/40 text-sm text-gray-300 space-y-2">
                      <p>LLM tokens dominate cost/latency: constrain message size, use summaries/deltas, and prune stale context.</p>
                      <p>Compute and network: serialize compactly (JSON/protobuf), avoid large payloads; store blobs externally.</p>
                      <p>Concurrency/quotas: cap parallel agent activity; budget per task to avoid cost runaways.</p>
                      <p>Brokered systems: account for queue storage, egress, replication; tune retries and backoff for cost.</p>
                    </div>
                  </section>

                  {/* Best Use Cases */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-fuchsia-500 rounded-full"></div>
                      Best Use Cases
                    </h2>
                    <div className="bg-gray-800/40 rounded-lg p-6 border border-gray-700/40 text-sm text-gray-300 space-y-2">
                      <p>Decomposed tasks requiring specialist agents (researcher ↔ planner ↔ executor) coordinating via messages.</p>
                      <p>Event-driven agent ecosystems: tools emit events that trigger targeted agent reactions.</p>
                      <p>Human-in-the-loop workflows with approvals, red-teaming, or review gates between agent steps.</p>
                      <p>Cross-system orchestration where agents bridge APIs, data stores, and long-running jobs.</p>
                    </div>
                  </section>

                  {/* References & Further Reading */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-orange-500 rounded-full"></div>
                      References & Further Reading
                    </h2>
                    <div className="bg-gray-800/40 rounded-lg p-6 border border-gray-700/40 space-y-4">
                      <div>
                        <h3 className="text-white font-semibold mb-2 text-sm">Academic Papers</h3>
                        <ul className="list-disc list-inside space-y-1 text-gray-300 text-sm">
                          <li><a href="https://arxiv.org/abs/2303.17760" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">CAMEL: Communicative Agents for Zero-Shot Task Completion (2023)</a></li>
                          <li><a href="https://arxiv.org/abs/2307.08131" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">AutoGen: Enabling Next-Gen LLM Applications via Multi-Agent Conversation (Microsoft)</a></li>
                          <li><a href="https://www.mpi-forum.org/docs/" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">MPI Forum Specifications (Message Passing Interface, ongoing)</a></li>
                          <li><a href="https://www.fipa.org/specs/fipa00061/" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">FIPA ACL: Agent Communication Language (spec)</a></li>
                        </ul>
                      </div>
                      <div>
                        <h3 className="text-white font-semibold mb-2 text-sm">Implementation Guides</h3>
                        <ul className="list-disc list-inside space-y-1 text-gray-300 text-sm">
                          <li><a href="https://langchain-ai.github.io/langgraph/" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">LangGraph Documentation</a> (graph-based agent message passing)</li>
                          <li><a href="https://microsoft.github.io/autogen/" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">AutoGen Docs</a> (conversational multi-agent patterns)</li>
                          <li><a href="https://github.com/openai/swarm" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">OpenAI Swarm</a> (lightweight agent-to-agent messaging)</li>
                          <li><a href="https://docs.crewai.com/" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">CrewAI Docs</a> (task/role-based agent collaboration)</li>
                        </ul>
                      </div>
                      <div>
                        <h3 className="text-white font-semibold mb-2 text-sm">Tools & Libraries</h3>
                        <ul className="list-disc list-inside space-y-1 text-gray-300 text-sm">
                          <li>LangGraph, AutoGen, OpenAI Swarm, CrewAI</li>
                          <li>FIPA ACL toolkits; Akka/Erlang actors for mailbox-style messaging</li>
                          <li>Broker options (when needed): Kafka, RabbitMQ, NATS, Redis Streams</li>
                        </ul>
                      </div>
                      <div>
                        <h3 className="text-white font-semibold mb-2 text-sm">Community & Discussions</h3>
                        <ul className="list-disc list-inside space-y-1 text-gray-300 text-sm">
                          <li><a href="https://github.com/langchain-ai/langgraph" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">LangGraph GitHub</a></li>
                          <li><a href="https://github.com/microsoft/autogen" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">AutoGen GitHub</a></li>
                          <li><a href="https://community.openai.com/" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">OpenAI Developer Community</a></li>
                          <li><a href="https://stackoverflow.com/questions/tagged/multi-agent" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">StackOverflow: multi-agent</a></li>
                        </ul>
                      </div>
                    </div>
                  </section>
                </>
              ) : selectedTechnique.id === 'message-queuing' ? (
                <>
                  {/* Core Mechanism (short conceptual overview) */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-blue-500 rounded-full"></div>
                      Core Mechanism (short conceptual overview)
                    </h2>
                    <div className="bg-gradient-to-br from-blue-500/10 to-purple-500/10 border border-blue-500/20 rounded-xl p-6">
                      <p className="text-gray-200 text-base leading-relaxed mb-3">
                        Message Queuing enables asynchronous, decoupled communication between producers and consumers via durable queues.
                        Brokers provide delivery guarantees (at-least-once, at-most-once, sometimes exactly-once), ordering options
                        (per-partition/group), acknowledgments, retries, and dead-lettering. Common implementations include Apache Kafka
                        (log-based partitions, consumer groups), RabbitMQ/AMQP (queues, exchanges, bindings), cloud queues like AWS SQS
                        and Google Pub/Sub, NATS JetStream, and Redis Streams.
                      </p>
                    </div>
                  </section>

                  {/* Workflow / Steps */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-purple-500 rounded-full"></div>
                      Workflow / Steps
                    </h2>
                    <div className="bg-gradient-to-br from-purple-500/10 to-blue-500/10 border border-purple-500/20 rounded-xl p-6">
                      <ol className="list-decimal list-inside space-y-2 text-gray-200 text-sm">
                        <li>Producer publishes message (optionally keyed for ordering/partitioning).</li>
                        <li>Broker persists/enqueues and replicates (as configured), exposing consumer lag/offsets or queue depth.</li>
                        <li>Consumer pulls/receives with prefetch/flow control; processes with a timeout/budget.</li>
                        <li>Acknowledge success; on failure, retry with backoff or route to a Dead-Letter Queue (DLQ).</li>
                        <li>Operators monitor metrics and adjust partitions/consumers/quotas for throughput and SLOs.</li>
                      </ol>
                    </div>
                  </section>

                  {/* Best Practices */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-green-500 rounded-full"></div>
                      Best Practices
                    </h2>
                    <div className="grid gap-3">
                      {[ 
                        'Design idempotent consumers and use idempotency keys to handle duplicates safely.',
                        'Bound processing with timeouts; implement exponential backoff + jitter; cap retries and use DLQs.',
                        'Choose delivery semantics explicitly; document ordering guarantees per topic/queue.',
                        'Use consumer groups and partitions/shards for horizontal scalability; avoid hot keys.',
                        'Apply backpressure: tune prefetch/flow control; batch where appropriate; limit inflight.',
                        'Validate message schemas (e.g., Avro/Protobuf/JSON Schema); use schema registry and compatibility rules.',
                        'Isolate side effects; use the Outbox pattern for DB→queue atomicity; ensure exactly-once where supported.',
                        'Encrypt in transit and at rest; enforce authZ (RBAC, IAM) and per-tenant quotas.',
                        'Keep messages small; store large blobs externally and pass references; compress carefully.',
                        'Observe: emit lag, queue depth, redrive counts, failure causes; add tracing with message IDs.'
                      ].map((tip) => (
                        <div key={tip} className="flex items-start gap-3 p-3 bg-gray-800/40 rounded-lg">
                          <Check className="w-5 h-5 text-green-400 mt-0.5 flex-shrink-0" />
                          <span className="text-gray-300 text-sm leading-relaxed">{tip}</span>
                        </div>
                      ))}
                    </div>
                  </section>

                  {/* When NOT to Use */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-red-500 rounded-full"></div>
                      When NOT to Use
                    </h2>
                    <div className="bg-gray-800/40 rounded-lg p-6 border border-gray-700/40 text-sm text-gray-300 space-y-2">
                      <p>Ultra low-latency, synchronous request/response paths where queueing overhead breaks SLOs → prefer direct RPC (gRPC/REST).</p>
                      <p>Strict global ordering across high-throughput streams when the broker cannot guarantee it without severe throughput loss.</p>
                      <p>Simple, tightly coupled integrations where a queue adds operational complexity without clear benefit.</p>
                    </div>
                  </section>

                  {/* Common Pitfalls */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-amber-500 rounded-full"></div>
                      Common Pitfalls
                    </h2>
                    <div className="bg-gray-800/40 rounded-lg p-6 border border-gray-700/40 text-sm text-gray-300 space-y-2">
                      <p>Relying on implicit ordering across partitions/queues; not keying messages consistently.</p>
                      <p>Non-idempotent side effects with retries → duplicates and data corruption.</p>
                      <p>Unbounded queue growth and consumer lag due to missing backpressure or insufficient scaling.</p>
                      <p>Retry storms and thundering herds; missing circuit breakers and jittered backoff.</p>
                      <p>Large payloads in the broker; lack of schema evolution strategy leading to consumer breakage.</p>
                    </div>
                  </section>

                  {/* Key Features */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-cyan-500 rounded-full"></div>
                      Key Features
                    </h2>
                    <div className="grid grid-cols-1 md:grid-cols-2 gap-3">
                      {[
                        'Delivery semantics: at-least-once / at-most-once / exactly-once (platform-dependent).',
                        'Ordering controls: partition keys, FIFO groups, ordering keys.',
                        'Durability and replication; acknowledgment and redelivery policies.',
                        'DLQs, TTLs, and scheduled/ delayed delivery.',
                        'Consumer groups, prefetch/flow control, and backpressure.',
                        'Schema registry and compatibility modes; message versioning.'
                      ].map((feat) => (
                        <div key={feat} className="p-3 bg-gray-800/40 rounded-lg text-gray-300 text-sm border border-gray-700/40">{feat}</div>
                      ))}
                    </div>
                  </section>

                  {/* KPIs / Success Metrics */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-emerald-500 rounded-full"></div>
                      KPIs / Success Metrics
                    </h2>
                    <div className="bg-gray-800/40 rounded-lg p-6 border border-gray-700/40 text-sm text-gray-300 grid grid-cols-1 md:grid-cols-2 gap-3">
                      <div>End-to-end latency p50/p95/p99; publish and consume latency.</div>
                      <div>Throughput (msgs/s, MB/s) per topic/queue and per consumer group.</div>
                      <div>Consumer lag/queue depth; oldest message age; redrive/DLQ rate.</div>
                      <div>Retry/duplicate rates; processing success/failure rates; MTTR.</div>
                      <div>Broker health: ISR/replication, partition leader balance, storage utilization.</div>
                      <div>Cost KPIs: egress, storage, request charges (for managed services).</div>
                    </div>
                  </section>

                  {/* Token / Resource Usage */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-indigo-500 rounded-full"></div>
                      Token / Resource Usage
                    </h2>
                    <div className="bg-gray-800/40 rounded-lg p-6 border border-gray-700/40 text-sm text-gray-300 space-y-2">
                      <p>Resource profile: CPU for serialization/compression and broker coordination; memory for buffers; disk I/O for durable logs; network for replication and client traffic.</p>
                      <p>Optimize with batching and compression; right-size partitions/consumer concurrency; bound message size (e.g., SQS 256 KB, Pub/Sub 10 MB, Kafka configurable).</p>
                      <p>Avoid embedding large blobs; store externally and send references; apply per-tenant quotas and rate limits.</p>
                    </div>
                  </section>

                  {/* Best Use Cases */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-fuchsia-500 rounded-full"></div>
                      Best Use Cases
                    </h2>
                    <div className="bg-gray-800/40 rounded-lg p-6 border border-gray-700/40 text-sm text-gray-300 space-y-2">
                      <p>Decoupling microservices; asynchronous workflows; background job processing.</p>
                      <p>Event-driven architectures and fan-out processing; audit/event logs.</p>
                      <p>Load leveling and burst smoothing; backpressure control in downstreams.</p>
                      <p>Cross-region buffering and intermittent-connectivity resilience.</p>
                    </div>
                  </section>

                  {/* References & Further Reading */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-orange-500 rounded-full"></div>
                      References & Further Reading
                    </h2>
                    <div className="bg-gray-800/40 rounded-lg p-6 border border-gray-700/40 space-y-4">
                      <div>
                        <h3 className="text-white font-semibold mb-2 text-sm">Academic Papers</h3>
                        <ul className="list-disc list-inside space-y-1 text-gray-300 text-sm">
                          <li><a href="https://pages.cs.wisc.edu/~remzi/Classes/739/Fall2001/Papers/seda.pdf" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">SEDA: An Architecture for Well-Conditioned, Scalable Internet Services (2001)</a></li>
                          <li><a href="https://assets.confluent.io/m/6e78838ea02980f6/original/20240311-white-paper-kafka-design.pdf" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">Kafka: a Distributed Messaging System for Log Processing (LinkedIn/Confluent)</a></li>
                          <li><a href="https://arxiv.org/abs/1709.00333" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">Kafka versus RabbitMQ (2017)</a></li>
                        </ul>
                      </div>
                      <div>
                        <h3 className="text-white font-semibold mb-2 text-sm">Implementation Guides</h3>
                        <ul className="list-disc list-inside space-y-1 text-gray-300 text-sm">
                          <li><a href="https://kafka.apache.org/documentation/#semantics_eos" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">Apache Kafka: Exactly-Once Semantics</a></li>
                          <li><a href="https://www.rabbitmq.com/dlx.html" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">RabbitMQ: Dead Letter Exchanges</a>, <a href="https://www.rabbitmq.com/consumers.html#channel-qos-prefetch" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">Prefetch/flow control</a></li>
                          <li><a href="https://docs.aws.amazon.com/AWSSimpleQueueService/latest/SQSDeveloperGuide/welcome.html" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">AWS SQS Developer Guide</a> (FIFO/Standard, visibility timeout, DLQs)</li>
                          <li><a href="https://cloud.google.com/pubsub/docs/ordering" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">Google Pub/Sub: Ordering Keys</a>, <a href="https://cloud.google.com/pubsub/docs/exactly-once-delivery" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">Exactly-Once Delivery</a></li>
                          <li><a href="https://docs.nats.io/nats-concepts/jetstream" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">NATS JetStream Concepts</a></li>
                          <li><a href="https://redis.io/docs/latest/develop/data-types/streams/" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">Redis Streams & Consumer Groups</a></li>
                        </ul>
                      </div>
                      <div>
                        <h3 className="text-white font-semibold mb-2 text-sm">Tools & Libraries</h3>
                        <ul className="list-disc list-inside space-y-1 text-gray-300 text-sm">
                          <li>Apache Kafka, RabbitMQ, AWS SQS, Google Pub/Sub, NATS JetStream, Redis Streams</li>
                          <li>Client SDKs: librdkafka/Confluent clients, Sarama (Go), Spring Kafka/AMQP, aio-pika, AWS SDKs</li>
                          <li>Job queues: Celery, Sidekiq, Resque, BullMQ, RQ</li>
                        </ul>
                      </div>
                      <div>
                        <h3 className="text-white font-semibold mb-2 text-sm">Community & Discussions</h3>
                        <ul className="list-disc list-inside space-y-1 text-gray-300 text-sm">
                          <li><a href="https://lists.apache.org/list.html?users@kafka.apache.org" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">Kafka Users Mailing List</a></li>
                          <li><a href="https://groups.google.com/g/rabbitmq-users" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">RabbitMQ Users Google Group</a></li>
                          <li><a href="https://stackoverflow.com/questions/tagged/message-queue" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">StackOverflow: message-queue</a></li>
                        </ul>
                      </div>
                    </div>
                  </section>
                </>
              ) : selectedTechnique.id === 'model-context-protocol' ? (
                <>
                  {/* Core Mechanism (short conceptual overview) */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-blue-500 rounded-full"></div>
                      Core Mechanism (short conceptual overview)
                    </h2>
                    <div className="bg-gradient-to-br from-blue-500/10 to-purple-500/10 border border-blue-500/20 rounded-xl p-6">
                      <p className="text-gray-200 text-base leading-relaxed mb-4">
                        Model Context Protocol (MCP) standardizes how AI clients discover and use external capabilities via a client–server model. Servers expose capabilities such as tools, resources (files/data), and prompts over transport-agnostic JSON-RPC (stdio or WebSocket). Clients initialize a session, discover capabilities, then invoke tools or fetch resources with structured requests and streaming responses, enabling context to live out-of-band from the prompt.
                      </p>
                      <div className="grid grid-cols-1 md:grid-cols-3 gap-4 mt-4">
                        <div className="text-center p-4 bg-gray-800/30 rounded-lg">
                          <div className="text-2xl mb-2">🔌</div>
                          <div className="text-xs text-gray-400 mb-1">Protocol</div>
                          <div className="text-sm font-medium text-white">JSON-RPC over stdio/WebSocket</div>
                        </div>
                        <div className="text-center p-4 bg-gray-800/30 rounded-lg">
                          <div className="text-2xl mb-2">🧭</div>
                          <div className="text-xs text-gray-400 mb-1">Discovery</div>
                          <div className="text-sm font-medium text-white">Initialize → capabilities</div>
                        </div>
                        <div className="text-center p-4 bg-gray-800/30 rounded-lg">
                          <div className="text-2xl mb-2">📦</div>
                          <div className="text-xs text-gray-400 mb-1">Artifacts</div>
                          <div className="text-sm font-medium text-white">Tools, resources, prompts</div>
                        </div>
                      </div>
                    </div>
                  </section>

                  {/* Workflow / Steps */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-purple-500 rounded-full"></div>
                      Workflow / Steps
                    </h2>
                    <div className="bg-gradient-to-br from-purple-500/10 to-blue-500/10 border border-purple-500/20 rounded-xl p-6">
                      <ol className="list-decimal list-inside space-y-2 text-gray-200 text-sm">
                        <li>Choose transport (stdio for local processes, WebSocket for networked servers).</li>
                        <li>Start server → client sends initialize; negotiate capabilities and session.</li>
                        <li>Discover capabilities: list tools, resources, prompts and their schemas.</li>
                        <li>Invoke tools with typed params; stream partial results where supported.</li>
                        <li>Fetch resources or prompts by handle; use server-side filtering to trim payloads.</li>
                        <li>Handle errors with typed codes; apply retries/backoff as policy dictates.</li>
                        <li>Update/close session; persist handles instead of raw blobs in model context.</li>
                      </ol>
                    </div>
                  </section>

                  {/* Best Practices */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-green-500 rounded-full"></div>
                      Best Practices
                    </h2>
                    <div className="grid gap-3">
                      {[ 
                        'Schema-first: define tool parameters and results with JSON Schema; validate on both sides.',
                        'Version capabilities; maintain backward-compatible changes with clear deprecation windows.',
                        'Principle of least privilege: scope credentials, network, and resource access per server.',
                        'Prefer resource handles over inlining large content; enable range/filtered reads.',
                        'Use streaming for large outputs; apply backpressure and chunk limits.',
                        'Emit structured error codes; map to actionable client fallbacks and retries.',
                        'Audit logs for calls, arguments shape, and data lineage; redact sensitive fields.',
                        'Timeouts, circuit breakers, and idempotency keys for safe retries.',
                        'Conformance tests in CI to prevent schema drift across server/client releases.'
                      ].map((tip) => (
                        <div key={tip} className="flex items-start gap-3 p-3 bg-gray-800/40 rounded-lg">
                          <Check className="w-5 h-5 text-green-400 mt-0.5 flex-shrink-0" />
                          <span className="text-gray-300 text-sm leading-relaxed">{tip}</span>
                        </div>
                      ))}
                    </div>
                  </section>

                  {/* When NOT to Use */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-red-500 rounded-full"></div>
                      When NOT to Use
                    </h2>
                    <div className="bg-gray-800/40 rounded-lg p-6 border border-gray-700/40 text-sm text-gray-300 space-y-2">
                      <p>Single, static integrations where native function-calling is sufficient and simpler.</p>
                      <p>Ultra-low-latency paths that cannot afford transport and discovery overhead.</p>
                      <p>Workloads with highly sensitive data but without strong isolation and auditing.</p>
                      <p>Environments where introducing an always-on server process is operationally infeasible.</p>
                    </div>
                  </section>

                  {/* Common Pitfalls */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-amber-500 rounded-full"></div>
                      Common Pitfalls
                    </h2>
                    <div className="bg-gray-800/40 rounded-lg p-6 border border-gray-700/40 text-sm text-gray-300 space-y-2">
                      <p>Ambiguous or underspecified schemas leading to brittle tool calls.</p>
                      <p>Inlining large documents into prompts instead of using resource handles.</p>
                      <p>Missing auth boundaries; servers overexpose filesystem, network, or secrets.</p>
                      <p>No streaming/backpressure, causing memory spikes on large results.</p>
                      <p>Skipping compatibility tests; silent schema drift between client and server.</p>
                    </div>
                  </section>

                  {/* Key Features */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-cyan-500 rounded-full"></div>
                      Key Features
                    </h2>
                    <div className="grid grid-cols-1 md:grid-cols-2 gap-3">
                      <div className="bg-gray-800/40 rounded-lg p-4 border border-gray-700/40 text-sm text-gray-300">Capability discovery via initialize and list operations.</div>
                      <div className="bg-gray-800/40 rounded-lg p-4 border border-gray-700/40 text-sm text-gray-300">Tools, resources (files/data), and prompts as first-class concepts.</div>
                      <div className="bg-gray-800/40 rounded-lg p-4 border border-gray-700/40 text-sm text-gray-300">Transport-agnostic JSON-RPC (stdio, WebSocket) and streaming.</div>
                      <div className="bg-gray-800/40 rounded-lg p-4 border border-gray-700/40 text-sm text-gray-300">Session state management and handle-based context references.</div>
                      <div className="bg-gray-800/40 rounded-lg p-4 border border-gray-700/40 text-sm text-gray-300">Typed errors and capability versioning.</div>
                      <div className="bg-gray-800/40 rounded-lg p-4 border border-gray-700/40 text-sm text-gray-300">Interoperability across tools, IDEs, and agent frameworks.</div>
                    </div>
                  </section>

                  {/* KPIs / Success Metrics */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-emerald-500 rounded-full"></div>
                      KPIs / Success Metrics
                    </h2>
                    <div className="bg-gray-800/40 rounded-lg p-6 border border-gray-700/40 text-sm text-gray-300 grid grid-cols-1 md:grid-cols-2 gap-3">
                      <div>Task success rate when MCP-enabled vs. baseline.</div>
                      <div>Time-to-integrate new server (hours/days) and regression stability.</div>
                      <div>Tool-call latency p50/p95 and streaming start time.</div>
                      <div>Cost per task; cache hit ratio for resources/prompts.</div>
                      <div>Error rates by code (validation, transport, auth) and MTTR.</div>
                      <div>Security incidents and permission violation blocks.</div>
                    </div>
                  </section>

                  {/* Token / Resource Usage */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-indigo-500 rounded-full"></div>
                      Token / Resource Usage
                    </h2>
                    <div className="bg-gray-800/40 rounded-lg p-6 border border-gray-700/40 text-sm text-gray-300">
                      <ul className="list-disc list-inside space-y-2">
                        <li>MCP reduces prompt tokens by referencing resources via handles instead of embedding.</li>
                        <li>Each tool call adds protocol tokens; keep descriptors concise and reuse sessions.</li>
                        <li>Prefer server-side filtering, pagination, and range reads for large artifacts.</li>
                        <li>Stream results to avoid large in-memory buffers; cap parallelism.</li>
                        <li>Cache resolved resources and prompt templates to amortize costs.</li>
                      </ul>
                    </div>
                  </section>

                  {/* Best Use Cases */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-fuchsia-500 rounded-full"></div>
                      Best Use Cases
                    </h2>
                    <div className="bg-gray-800/40 rounded-lg p-6 border border-gray-700/40 text-sm text-gray-300 space-y-2">
                      <p>IDE assistants and dev tools that need filesystem, VCS, issues, and CI context.</p>
                      <p>Enterprise copilots unifying diverse data sources and action tools behind one protocol.</p>
                      <p>Agent platforms orchestrating heterogeneous tools with consistent schemas.</p>
                      <p>RAG systems fetching documents, embeddings, and metadata via resource handles.</p>
                    </div>
                  </section>

                  {/* References & Further Reading */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-orange-500 rounded-full"></div>
                      References & Further Reading
                    </h2>
                    <div className="bg-gray-800/40 rounded-lg p-6 border border-gray-700/40 space-y-4">
                      <div>
                        <h3 className="text-white font-semibold mb-2 text-sm">Academic Papers</h3>
                        <ul className="list-disc list-inside space-y-1 text-gray-300 text-sm">
                          <li><a href="https://arxiv.org/abs/2504.03767" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">MCP Safety Audit (2025)</a></li>
                        </ul>
                      </div>
                      <div>
                        <h3 className="text-white font-semibold mb-2 text-sm">Implementation Guides</h3>
                        <ul className="list-disc list-inside space-y-1 text-gray-300 text-sm">
                          <li><a href="https://modelcontextprotocol.io/introduction" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">Model Context Protocol: Introduction</a></li>
                          <li><a href="https://modelcontextprotocol.io/spec" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">MCP Specification</a></li>
                          <li><a href="https://modelcontextprotocol.io/transport/overview" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">Transports (stdio/WebSocket)</a></li>
                        </ul>
                      </div>
                      <div>
                        <h3 className="text-white font-semibold mb-2 text-sm">Tools & Libraries</h3>
                        <ul className="list-disc list-inside space-y-1 text-gray-300 text-sm">
                          <li><a href="https://github.com/modelcontextprotocol" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">MCP GitHub Organization</a> (servers, clients, SDKs)</li>
                          <li><a href="https://github.com/modelcontextprotocol/typescript-sdk" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">TypeScript SDK</a> and <a href="https://github.com/modelcontextprotocol/python-sdk" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">Python SDK</a></li>
                        </ul>
                      </div>
                      <div>
                        <h3 className="text-white font-semibold mb-2 text-sm">Community & Discussions</h3>
                        <ul className="list-disc list-inside space-y-1 text-gray-300 text-sm">
                          <li><a href="https://github.com/modelcontextprotocol/.github/discussions" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">GitHub Discussions</a></li>
                          <li><a href="https://modelcontextprotocol.io" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">Official site updates</a></li>
                        </ul>
                      </div>
                    </div>
                  </section>
                </>
              ) : selectedTechnique.id === 'a2a-protocol' ? (
                <>
                  {/* Core Mechanism (short conceptual overview) */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-blue-500 rounded-full"></div>
                      Core Mechanism (short conceptual overview)
                    </h2>
                    <div className="bg-gradient-to-br from-blue-500/10 to-purple-500/10 border border-blue-500/20 rounded-xl p-6">
                      <p className="text-gray-200 text-base leading-relaxed mb-4">
                        Agent-to-Agent (A2A) is an open protocol for AI agent interoperability. It enables agents from different
                        vendors or frameworks to discover each other, negotiate capabilities, exchange messages and artifacts,
                        and coordinate long-running tasks without exposing their internal logic. Core concepts include an
                        Agent Card for discovery, standard HTTP endpoints for tasks and messaging, typed message parts (text,
                        files, structured data), artifacts produced during execution, and optional streaming via Server-Sent
                        Events (SSE) for real-time progress.
                      </p>
                      <div className="grid grid-cols-1 md:grid-cols-3 gap-4 mt-4">
                        <div className="text-center p-4 bg-gray-800/30 rounded-lg">
                          <div className="text-2xl mb-2">🪪</div>
                          <div className="text-xs text-gray-400 mb-1">Discovery</div>
                          <div className="text-sm font-medium text-white">Agent Card (/.well-known/agent.json)</div>
                        </div>
                        <div className="text-center p-4 bg-gray-800/30 rounded-lg">
                          <div className="text-2xl mb-2">🧵</div>
                          <div className="text-xs text-gray-400 mb-1">Tasks</div>
                          <div className="text-sm font-medium text-white">Submit, stream, and complete with state</div>
                        </div>
                        <div className="text-center p-4 bg-gray-800/30 rounded-lg">
                          <div className="text-2xl mb-2">🧩</div>
                          <div className="text-xs text-gray-400 mb-1">Content</div>
                          <div className="text-sm font-medium text-white">Parts (text/file/data) and artifacts</div>
                        </div>
                      </div>
                    </div>
                  </section>

                  {/* Workflow / Steps */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-purple-500 rounded-full"></div>
                      Workflow / Steps
                    </h2>
                    <div className="bg-gradient-to-br from-purple-500/10 to-blue-500/10 border border-purple-500/20 rounded-xl p-6">
                      <ol className="list-decimal list-inside space-y-2 text-gray-200 text-sm">
                        <li>
                          Discovery: fetch the Agent Card from <code className="text-gray-300">/.well-known/agent.json</code>
                          to learn capabilities, auth schemes, and endpoints.
                        </li>
                        <li>
                          Initiate: send an initial message via <code className="text-gray-300">tasks/send</code> or
                          <code className="text-gray-300"> tasks/sendSubscribe</code> (for SSE streaming) with inputs as Parts.
                        </li>
                        <li>
                          Processing: the server advances the Task state (e.g., submitted → working → input-required →
                          completed/failed/canceled). With streaming, progress/events arrive via SSE.
                        </li>
                        <li>
                          Interaction: if the Task requires more input (<code className="text-gray-300">input-required</code>),
                          continue the thread by sending follow-up messages referencing the same Task.
                        </li>
                        <li>
                          Completion: retrieve final artifacts, transcripts, and the terminal Task state; persist any receipts/ids
                          needed for auditing.
                        </li>
                      </ol>
                    </div>
                  </section>

                  {/* Best Practices */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-green-500 rounded-full"></div>
                      Best Practices
                    </h2>
                    <div className="grid gap-3">
                      {[
                        'Schema-first contracts for messages and artifacts; validate payloads on both sides.',
                        'Use idempotency keys for writes; deduplicate by request/task identifiers.',
                        'Strong TLS, short-lived tokens, least-privilege scopes, and per-tenant authorization.',
                        'Rate limit and bound concurrency; enforce request/response and artifact size limits.',
                        'Emit structured logs, metrics, and traces; capture task state transitions and SSE lifecycle.',
                        'Version Agent Cards and endpoints; keep backward-compatible changes and deprecation windows.',
                        'Prevent circular agent loops with hop-count/time-to-live and clear termination criteria.',
                        'Prefer streaming for long-running work; heartbeat/keepalive for SSE; retry with backoff + jitter.',
                      ].map((tip) => (
                        <div key={tip} className="flex items-start gap-3 p-3 bg-gray-800/40 rounded-lg">
                          <Check className="w-5 h-5 text-green-400 mt-0.5 flex-shrink-0" />
                          <span className="text-gray-300 text-sm leading-relaxed">{tip}</span>
                        </div>
                      ))}
                    </div>
                  </section>

                  {/* When NOT to Use */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-red-500 rounded-full"></div>
                      When NOT to Use
                    </h2>
                    <div className="bg-gray-800/40 rounded-lg p-6 border border-gray-700/40 text-sm text-gray-300 space-y-2">
                      <p>Simple, single-vendor integrations where a direct API or SDK is sufficient.</p>
                      <p>Ultra-low-latency paths that cannot afford discovery, task management, or SSE overhead.</p>
                      <p>Workloads requiring shared internal memory/state between agents (A2A treats agents as opaque).</p>
                      <p>Highly constrained devices or links where HTTP/SSE and schema validation are too heavy.</p>
                    </div>
                  </section>

                  {/* Common Pitfalls */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-amber-500 rounded-full"></div>
                      Common Pitfalls
                    </h2>
                    <div className="bg-gray-800/40 rounded-lg p-6 border border-gray-700/40 text-sm text-gray-300 space-y-2">
                      <p>Agent Card drift vs. live server behavior causing client misconfiguration.</p>
                      <p>Long-lived or overly broad tokens; missing per-scope authorization checks.</p>
                      <p>No idempotency on writes; duplicate effects after retries/timeouts.</p>
                      <p>Unbounded artifacts or message parts leading to memory/egress spikes.</p>
                      <p>Missing loop prevention; agents re-invoke each other indefinitely.</p>
                      <p>Weak TLS or missing certificate rotation; insufficient observability on SSE streams.</p>
                    </div>
                  </section>

                  {/* Key Features */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-cyan-500 rounded-full"></div>
                      Key Features
                    </h2>
                    <div className="grid grid-cols-1 md:grid-cols-2 gap-3">
                      {[
                        'Cross-vendor interoperability and capability discovery',
                        'Long-running task coordination with optional streaming (SSE)',
                        'Rich, typed content via Parts (text/file/data) and artifacts',
                        'Opaque, secure execution boundaries with standard auth',
                        'HTTP-native design that fits enterprise networking and observability',
                        'Auditable task lifecycle and message transcripts',
                      ].map((feat) => (
                        <div key={feat} className="p-3 bg-gray-800/40 rounded-lg text-gray-300 text-sm border border-gray-700/40">
                          {feat}
                        </div>
                      ))}
                    </div>
                  </section>

                  {/* KPIs / Success Metrics */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-emerald-500 rounded-full"></div>
                      KPIs / Success Metrics
                    </h2>
                    <div className="bg-gray-800/40 rounded-lg p-6 border border-gray-700/40 text-sm text-gray-300 grid grid-cols-1 md:grid-cols-2 gap-3">
                      <div>Task completion/success rate and failure reasons by category.</div>
                      <div>Time-to-first-event (stream start) and p95 completion latency.</div>
                      <div>Error rates (validation, auth, transport) and MTTR.</div>
                      <div>Average interaction rounds per task (input-required cycles).</div>
                      <div>Throughput (tasks/sec) under target SLOs and backpressure.</div>
                      <div>Cost per task (tokens, egress, compute) and cache hit ratios.</div>
                    </div>
                  </section>

                  {/* Token / Resource Usage */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-indigo-500 rounded-full"></div>
                      Token / Resource Usage
                    </h2>
                    <div className="bg-gray-800/40 rounded-lg p-6 border border-gray-700/40 text-sm text-gray-300">
                      <ul className="list-disc list-inside space-y-2">
                        <li>Auth tokens: use short-lived, scope-limited credentials; rotate and store in secure vaults.</li>
                        <li>Minimize payloads: prefer references/URIs over inlining large files; paginate and chunk streams.</li>
                        <li>Streaming: use SSE for incremental results to reduce tail latency and memory pressure.</li>
                        <li>Limits: cap message/artifact sizes and part counts; enforce timeouts and concurrency.</li>
                        <li>Networking: reuse connections; heartbeat SSE; exponential backoff on retries.</li>
                        <li>Caching: cache Agent Cards and capability metadata; validate with ETags/max-age.</li>
                      </ul>
                    </div>
                  </section>

                  {/* Best Use Cases */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-fuchsia-500 rounded-full"></div>
                      Best Use Cases
                    </h2>
                    <div className="bg-gray-800/40 rounded-lg p-6 border border-gray-700/40 text-sm text-gray-300 space-y-2">
                      <p>Cross-platform agent collaboration and delegation across vendors.</p>
                      <p>Enterprise copilots integrating diverse backends under a common protocol.</p>
                      <p>Long-running research, analysis, or data processing with progressive results.</p>
                      <p>Federated workflows where teams expose capabilities without sharing internals.</p>
                    </div>
                  </section>

                  {/* References & Further Reading */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-orange-500 rounded-full"></div>
                      References & Further Reading
                    </h2>
                    <div className="bg-gray-800/40 rounded-lg p-6 border border-gray-700/40 space-y-4">
                      <div>
                        <h3 className="text-white font-semibold mb-2 text-sm">Academic Papers</h3>
                        <ul className="list-disc list-inside space-y-1 text-gray-300 text-sm">
                          <li>
                            <a href="https://arxiv.org/abs/2505.12490" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">
                              Safeguarding Sensitive Data in Multi-Agent Systems (A2A-focused, 2025)
                            </a>
                          </li>
                        </ul>
                      </div>
                      <div>
                        <h3 className="text-white font-semibold mb-2 text-sm">Implementation Guides</h3>
                        <ul className="list-disc list-inside space-y-1 text-gray-300 text-sm">
                          <li>
                            <a href="https://a2a.how/protocol" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">A2A Protocol Guide</a>
                          </li>
                          <li>
                            <a href="https://google-a2a.github.io/A2A/specification/" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">A2A Specification (GitHub Pages)</a>
                          </li>
                          <li>
                            <a href="https://a2a-protocol.org/dev/specification/" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">A2A Protocol (Developer Spec)</a>
                          </li>
                        </ul>
                      </div>
                      <div>
                        <h3 className="text-white font-semibold mb-2 text-sm">Tools & Libraries</h3>
                        <ul className="list-disc list-inside space-y-1 text-gray-300 text-sm">
                          <li>
                            <a href="https://github.com/BenjaminScottAwk/awesome-a2a" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">Awesome A2A</a> (curated servers, clients, SDKs)
                          </li>
                        </ul>
                      </div>
                      <div>
                        <h3 className="text-white font-medium mb-2">Community & Discussions</h3>
                        <ul className="list-disc list-inside text-gray-300 text-sm space-y-1">
                          <li>A2A protocol discussions and issues across public GitHub repositories</li>
                          <li>Enterprise architecture forums on agent interoperability and SSE at scale</li>
                        </ul>
                      </div>
                    </div>
                  </section>
                </>
              ) : selectedTechnique.id === 'parallel-chaining' ? (
                <>
                  {/* Core Mechanism (short conceptual overview) */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-blue-500 rounded-full"></div>
                      Core Mechanism
                    </h2>
                    <div className="bg-gradient-to-br from-green-500/10 to-blue-500/10 border border-green-500/20 rounded-xl p-6">
                      <p className="text-gray-200 text-base leading-relaxed mb-4">
                        Parallel chaining executes independent prompts concurrently then merges their outputs. This reduces latency, increases throughput, and provides diverse perspectives on the same problem compared to sequential processing.
                      </p>
                      <div className="grid grid-cols-2 md:grid-cols-4 gap-4 mt-4">
                        <div className="text-center p-4 bg-gray-800/30 rounded-lg">
                          <div className="text-2xl mb-2">🔗</div>
                          <div className="text-xs text-gray-400 mb-1">Flow</div>
                          <div className="text-sm font-medium text-white">Linear pipeline</div>
                        </div>
                        <div className="text-center p-4 bg-gray-800/30 rounded-lg">
                          <div className="text-2xl mb-2">🧩</div>
                          <div className="text-xs text-gray-400 mb-1">Modularity</div>
                          <div className="text-sm font-medium text-white">Step specialization</div>
                        </div>
                        <div className="text-center p-4 bg-gray-800/30 rounded-lg">
                          <div className="text-2xl mb-2">🛡️</div>
                          <div className="text-xs text-gray-400 mb-1">Quality</div>
                          <div className="text-sm font-medium text-white">Error isolation</div>
                        </div>
                        <div className="text-center p-4 bg-gray-800/30 rounded-lg">
                          <div className="text-2xl mb-2">🧭</div>
                          <div className="text-xs text-gray-400 mb-1">Control</div>
                          <div className="text-sm font-medium text-white">Transparent stages</div>
                        </div>
                      </div>
                    </div>
                  </section>

                  {/* Workflow / Steps */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-purple-500 rounded-full"></div>
                      Workflow / Steps
                    </h2>
                    <div className="bg-gradient-to-br from-purple-500/10 to-blue-500/10 border border-purple-500/20 rounded-xl p-6">
                      <ol className="list-decimal list-inside space-y-2 text-gray-200 text-sm">
                        <li>Decompose task into stages with clear inputs/outputs.</li>
                        <li>Design prompts per stage with schemas for structured outputs (JSON when possible).</li>
                        <li>Execute step N → validate/normalize output → pass to step N+1.</li>
                        <li>Add guardrails: retries, fallbacks, and assertions per step.</li>
                        <li>Aggregate and polish final output; log metrics for each stage.</li>
                      </ol>
                    </div>
                  </section>

                  {/* Best Practices */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-green-500 rounded-full"></div>
                      Best Practices
                    </h2>
                    <div className="grid gap-3">
                      {[
                        'Use strict output schemas and validate between steps',
                        'Keep step prompts focused; avoid mixing objectives',
                        'Annotate provenance: which step produced which field',
                        'Implement per-step retries with jitter; cap total cost',
                        'Cache deterministic sub-steps to reduce tokens',
                        'Version steps independently; A/B test in isolation',
                      ].map((tip) => (
                        <div key={tip} className="flex items-start gap-3 p-3 bg-gray-800/40 rounded-lg">
                          <Check className="w-5 h-5 text-green-400 mt-0.5 flex-shrink-0" />
                          <span className="text-gray-300 text-sm leading-relaxed">{tip}</span>
                        </div>
                      ))}
                    </div>
                  </section>

                  {/* When NOT to Use */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-red-500 rounded-full"></div>
                      When NOT to Use
                    </h2>
                    <div className="bg-gray-800/40 rounded-lg p-6 border border-gray-700/40">
                      <ul className="list-disc list-inside space-y-2 text-gray-300 text-sm">
                        <li>Highly parallel tasks with minimal dependencies → prefer Parallel Chaining.</li>
                        <li>Dynamic branching requirements → prefer Conditional Chaining or routers.</li>
                        <li>Hard real-time latency constraints where multi-step overhead is unacceptable.</li>
                        <li>Single-shot tasks that do not benefit from decomposition.</li>
                      </ul>
                    </div>
                  </section>

                  {/* Common Pitfalls */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-amber-500 rounded-full"></div>
                      Common Pitfalls
                    </h2>
                    <div className="bg-gray-800/40 rounded-lg p-6 border border-gray-700/40">
                      <ul className="list-disc list-inside space-y-2 text-gray-300 text-sm">
                        <li>Context bloat from passing entire transcripts instead of distilled fields.</li>
                        <li>Error propagation when downstream steps trust unvalidated upstream outputs.</li>
                        <li>Over-fragmentation into too many steps causing latency and cost spikes.</li>
                        <li>Ambiguous interfaces between steps; missing contracts and schemas.</li>
                      </ul>
                    </div>
                  </section>
                </>
              ) : selectedTechnique.id === 'parallel-chaining' ? (
                <>
                  {/* Core Mechanism (short conceptual overview) */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-blue-500 rounded-full"></div>
                      Core Mechanism
                    </h2>
                    <div className="bg-gradient-to-br from-blue-500/10 to-purple-500/10 border border-blue-500/20 rounded-xl p-6">
                      <p className="text-gray-200 text-base leading-relaxed mb-4">
                        Parallel chaining executes multiple independent prompts concurrently, then merges results via aggregation strategies (e.g., majority vote, weighted scoring, map-reduce, or heuristic merge). It trades higher burst resource usage for lower wall-clock latency and broader coverage.
                      </p>
                      <div className="grid grid-cols-2 md:grid-cols-4 gap-4 mt-4">
                        <div className="text-center p-4 bg-gray-800/30 rounded-lg">
                          <div className="text-2xl mb-2">⚡</div>
                          <div className="text-xs text-gray-400 mb-1">Flow</div>
                          <div className="text-sm font-medium text-white">Concurrent fan-out/fan-in</div>
                        </div>
                        <div className="text-center p-4 bg-gray-800/30 rounded-lg">
                          <div className="text-2xl mb-2">🧮</div>
                          <div className="text-xs text-gray-400 mb-1">Aggregation</div>
                          <div className="text-sm font-medium text-white">Voting/merging strategies</div>
                        </div>
                        <div className="text-center p-4 bg-gray-800/30 rounded-lg">
                          <div className="text-2xl mb-2">⏱️</div>
                          <div className="text-xs text-gray-400 mb-1">Latency</div>
                          <div className="text-sm font-medium text-white">Lower wall-clock time</div>
                        </div>
                        <div className="text-center p-4 bg-gray-800/30 rounded-lg">
                          <div className="text-2xl mb-2">💸</div>
                          <div className="text-xs text-gray-400 mb-1">Cost</div>
                          <div className="text-sm font-medium text-white">Higher burst tokens</div>
                        </div>
                      </div>
                    </div>
                  </section>

                  {/* Workflow / Steps */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-purple-500 rounded-full"></div>
                      Workflow / Steps
                    </h2>
                    <div className="bg-gradient-to-br from-purple-500/10 to-blue-500/10 border border-purple-500/20 rounded-xl p-6">
                      <ol className="list-decimal list-inside space-y-2 text-gray-200 text-sm">
                        <li>Decompose into independent subproblems with minimal shared state.</li>
                        <li>Define schemas and quality criteria per worker; set timeouts and budgets.</li>
                        <li>Dispatch workers concurrently with capped fan-out and backpressure.</li>
                        <li>Collect partials as they finish; validate and score each result.</li>
                        <li>Aggregate via majority vote, weighted scoring, merge heuristics, or map-reduce.</li>
                        <li>Resolve conflicts, deduplicate, and synthesize final output.</li>
                        <li>Emit metrics (speedup, agreement, cost) and persist artifacts for audit.</li>
                      </ol>
                    </div>
                  </section>

                  {/* Best Practices */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-green-500 rounded-full"></div>
                      Best Practices
                    </h2>
                    <div className="grid gap-3">
                      {[
                        'Maximize independence; avoid hidden cross-step dependencies',
                        'Cap concurrency and implement rate-limit-aware backoff',
                        'Use strict schemas and quality scoring per worker output',
                        'Set timeouts and circuit breakers; tolerate partial completion',
                        'Choose aggregation strategy aligned to task (vote, rank, merge)',
                        'Deduplicate and contradiction-check before synthesis',
                        'Use smaller/cheaper models for breadth; reserve strongest model for final merge',
                        'Cache and reuse stable results across runs',
                      ].map((tip) => (
                        <div key={tip} className="flex items-start gap-3 p-3 bg-gray-800/40 rounded-lg">
                          <Check className="w-5 h-5 text-green-400 mt-0.5 flex-shrink-0" />
                          <span className="text-gray-300 text-sm leading-relaxed">{tip}</span>
                        </div>
                      ))}
                    </div>
                  </section>

                  {/* When NOT to Use */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-red-500 rounded-full"></div>
                      When NOT to Use
                    </h2>
                    <div className="bg-gray-800/40 rounded-lg p-6 border border-gray-700/40">
                      <ul className="list-disc list-inside space-y-2 text-gray-300 text-sm">
                        <li>Tasks with strong sequential dependencies or shared evolving state.</li>
                        <li>Strict ordering/causality requirements where merge is ill-defined.</li>
                        <li>Very small tasks where fan-out overhead exceeds benefit.</li>
                        <li>Severe rate-limit or budget constraints that preclude burst concurrency.</li>
                      </ul>
                    </div>
                  </section>

                  {/* Common Pitfalls */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-amber-500 rounded-full"></div>
                      Common Pitfalls
                    </h2>
                    <div className="bg-gray-800/40 rounded-lg p-6 border border-gray-700/40">
                      <ul className="list-disc list-inside space-y-2 text-gray-300 text-sm">
                        <li>Unbounded fan-out causing cost spikes and rate-limit errors.</li>
                        <li>Naive aggregation that amplifies hallucinations or duplicates.</li>
                        <li>Hidden coupling between workers leading to inconsistent outputs.</li>
                        <li>Missing timeouts or backpressure creating head-of-line blocking.</li>
                      </ul>
                    </div>
                  </section>
                </>
              ) : selectedTechnique.id === 'parallel-synthesis' ? (
                <>
                  {/* Core Mechanism (short conceptual overview) */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-blue-500 rounded-full"></div>
                      Core Mechanism
                    </h2>
                    <div className="bg-gradient-to-br from-blue-500/10 to-purple-500/10 border border-blue-500/20 rounded-xl p-6">
                      <p className="text-gray-200 text-base leading-relaxed mb-4">
                        Parallel synthesis orchestrates multiple heterogeneous analysis streams in parallel and combines their outputs through
                        weighted aggregation, conflict resolution, deduplication, and consensus building. Each stream is scored for reliability
                        and relevance; a synthesis stage reconciles contradictions and produces a single, coherent output with traceable provenance.
                      </p>
                      <div className="grid grid-cols-2 md:grid-cols-4 gap-4 mt-4">
                        <div className="text-center p-4 bg-gray-800/30 rounded-lg">
                          <div className="text-2xl mb-2">⚡</div>
                          <div className="text-xs text-gray-400 mb-1">Flow</div>
                          <div className="text-sm font-medium text-white">Fan-out streams, fan-in synthesis</div>
                        </div>
                        <div className="text-center p-4 bg-gray-800/30 rounded-lg">
                          <div className="text-2xl mb-2">🧮</div>
                          <div className="text-xs text-gray-400 mb-1">Aggregation</div>
                          <div className="text-sm font-medium text-white">Weighted merge + consensus</div>
                        </div>
                        <div className="text-center p-4 bg-gray-800/30 rounded-lg">
                          <div className="text-2xl mb-2">🧭</div>
                          <div className="text-xs text-gray-400 mb-1">Quality</div>
                          <div className="text-sm font-medium text-white">Per-stream scoring & validation</div>
                        </div>
                        <div className="text-center p-4 bg-gray-800/30 rounded-lg">
                          <div className="text-2xl mb-2">🧩</div>
                          <div className="text-xs text-gray-400 mb-1">Conflicts</div>
                          <div className="text-sm font-medium text-white">Resolution & provenance</div>
                        </div>
                      </div>
                    </div>
                  </section>

                  {/* Workflow / Steps */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-purple-500 rounded-full"></div>
                      Workflow / Steps
                    </h2>
                    <div className="bg-gradient-to-br from-purple-500/10 to-blue-500/10 border border-purple-500/20 rounded-xl p-6">
                      <ol className="list-decimal list-inside space-y-2 text-gray-200 text-sm">
                        <li>Define streams: identify complementary perspectives (e.g., quantitative data, competitive intel, expert interviews).</li>
                        <li>Specify schemas and scoring: structure outputs and define confidence/reliability scoring per stream.</li>
                        <li>Execute in parallel: dispatch all streams with timeouts, budgets, and capped concurrency.</li>
                        <li>Validate results: schema-check, deduplicate, and compute quality scores for each output.</li>
                        <li>Resolve conflicts: apply weighted reconciliation, tie-breakers, and escalation rules.</li>
                        <li>Synthesize: merge normalized outputs into a unified artifact with citations/provenance.</li>
                        <li>Report metrics: capture agreement, coverage, latency, and cost; persist artifacts for audit.</li>
                      </ol>
                    </div>
                  </section>

                  {/* Best Practices */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-green-500 rounded-full"></div>
                      Best Practices
                    </h2>
                    <div className="grid gap-3">
                      {[
                        'Design streams to be maximally independent; minimize hidden shared state',
                        'Use strict output schemas and include per-claim confidence + source attribution',
                        'Calibrate stream weights using validation data; prefer reliability over verbosity',
                        'Cap fan-out and add backpressure; fail fast on low-signal streams',
                        'Normalize terminology and units before merging to reduce false conflicts',
                        'Apply contradiction checks and run a final consistency pass',
                        'Use smaller models for breadth collection; reserve strongest model for final synthesis',
                        'Cache stable sub-results and reuse to control cost',
                      ].map((tip) => (
                        <div key={tip} className="flex items-start gap-3 p-3 bg-gray-800/40 rounded-lg">
                          <Check className="w-5 h-5 text-green-400 mt-0.5 flex-shrink-0" />
                          <span className="text-gray-300 text-sm leading-relaxed">{tip}</span>
                        </div>
                      ))}
                    </div>
                  </section>

                  {/* When NOT to Use */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-red-500 rounded-full"></div>
                      When NOT to Use
                    </h2>
                    <div className="bg-gray-800/40 rounded-lg p-6 border border-gray-700/40">
                      <ul className="list-disc list-inside space-y-2 text-gray-300 text-sm">
                        <li>Tasks with strong sequential dependencies or evolving shared state.</li>
                        <li>Problems where a single ground-truth source dominates and parallel diversity adds noise.</li>
                        <li>Ultra-low-latency contexts where fan-out overhead violates SLAs.</li>
                        <li>Severe rate-limit/budget constraints that preclude burst concurrency.</li>
                      </ul>
                    </div>
                  </section>

                  {/* Common Pitfalls */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-amber-500 rounded-full"></div>
                      Common Pitfalls
                    </h2>
                    <div className="bg-gray-800/40 rounded-lg p-6 border border-gray-700/40">
                      <ul className="list-disc list-inside space-y-2 text-gray-300 text-sm">
                        <li>Unbounded fan-out causing token/cost spikes and rate-limit errors.</li>
                        <li>Naive majority voting that amplifies duplicated hallucinations.</li>
                        <li>Inconsistent schemas leading to merge failures and silent field loss.</li>
                        <li>Missing provenance, making audits and conflict investigation impossible.</li>
                      </ul>
                    </div>
                  </section>

                  {/* Key Features */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-cyan-500 rounded-full"></div>
                      Key Features
                    </h2>
                    <div className="grid grid-cols-1 md:grid-cols-2 gap-3">
                      {[
                        'Multi-stream execution (heterogeneous modalities supported)',
                        'Quality-weighted aggregation and consensus strategies',
                        'Conflict detection and resolution with tie-break rules',
                        'Deduplication, normalization, and terminology alignment',
                        'Provenance and citation tracking',
                        'Pluggable scoring functions and evaluators',
                      ].map((f) => (
                        <div key={f} className="p-3 bg-gray-800/40 rounded-lg text-gray-300 text-sm">{f}</div>
                      ))}
                    </div>
                  </section>

                  {/* KPIs / Success Metrics */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-emerald-500 rounded-full"></div>
                      KPIs / Success Metrics
                    </h2>
                    <div className="bg-gray-800/40 rounded-lg p-6 border border-gray-700/40">
                      <ul className="list-disc list-inside space-y-2 text-gray-300 text-sm">
                        <li>Agreement rate between streams (e.g., pairwise or Fleiss’ kappa).</li>
                        <li>Coverage/recall of key facts vs. gold reference set.</li>
                        <li>Synthesis quality score (human rubric or model-as-judge).</li>
                        <li>Time-to-synthesis (wall-clock) vs. single-stream baseline.</li>
                        <li>Token per correct fact / cost per accepted unit.</li>
                      </ul>
                    </div>
                  </section>

                  {/* Token / Resource Usage */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-pink-500 rounded-full"></div>
                      Token / Resource Usage
                    </h2>
                    <div className="bg-gray-800/40 rounded-lg p-6 border border-gray-700/40">
                      <ul className="list-disc list-inside space-y-2 text-gray-300 text-sm">
                        <li>Front-loaded burst tokens proportional to number of streams.</li>
                        <li>Lower wall-clock latency vs. sequential, higher instantaneous concurrency.</li>
                        <li>Amortize cost by caching stable streams and reusing across runs.</li>
                        <li>Consider memory and queue limits; apply rate-limit-aware backoff.</li>
                      </ul>
                    </div>
                  </section>

                  {/* Best Use Cases */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-indigo-500 rounded-full"></div>
                      Best Use Cases
                    </h2>
                    <div className="bg-gray-800/40 rounded-lg p-6 border border-gray-700/40">
                      <ul className="list-disc list-inside space-y-2 text-gray-300 text-sm">
                        <li>Research synthesis across heterogeneous sources.</li>
                        <li>Due diligence and market/competitive analysis.</li>
                        <li>Incident postmortems combining logs, metrics, and interviews.</li>
                        <li>Comprehensive reports requiring multiple perspectives.</li>
                      </ul>
                    </div>
                  </section>

                  {/* References & Further Reading */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-yellow-500 rounded-full"></div>
                      References & Further Reading
                    </h2>
                    <div className="grid grid-cols-1 md:grid-cols-2 gap-4">
                      <div className="p-4 bg-gray-800/40 rounded-lg border border-gray-700/40">
                        <h3 className="text-white font-medium mb-2">Academic Papers</h3>
                        <ul className="list-disc list-inside text-gray-300 text-sm space-y-1">
                          <li>Self-Consistency Improves Chain of Thought Reasoning (Wang et al., 2023)</li>
                          <li>Tree of Thoughts: Deliberate Problem Solving with LLMs (Yao et al., 2023)</li>
                          <li>Graph of Thoughts: Solving Problems with Large Language Models (Besta et al., 2023)</li>
                          <li>Multi-Agent Debate / Deliberate Decoding (various, 2023–2024)</li>
                        </ul>
                      </div>
                      <div className="p-4 bg-gray-800/40 rounded-lg border border-gray-700/40">
                        <h3 className="text-white font-medium mb-2">Implementation Guides</h3>
                        <ul className="list-disc list-inside text-gray-300 text-sm space-y-1">
                          <li>Map-reduce and ensemble patterns for RAG pipelines</li>
                          <li>Weighted voting and rubric-based evaluators</li>
                          <li>Conflict resolution playbooks and provenance logging</li>
                        </ul>
                      </div>
                      <div className="p-4 bg-gray-800/40 rounded-lg border border-gray-700/40">
                        <h3 className="text-white font-medium mb-2">Tools & Libraries</h3>
                        <ul className="list-disc list-inside text-gray-300 text-sm space-y-1">
                          <li>LangChain (map_reduce, refine, ensemble retrievers)</li>
                          <li>LlamaIndex (composers, aggregators)</li>
                          <li>DSPy (self-consistency, evaluators)</li>
                          <li>Ray/Celery/Temporal for parallel orchestration</li>
                        </ul>
                      </div>
                      <div className="p-4 bg-gray-800/40 rounded-lg border border-gray-700/40">
                        <h3 className="text-white font-medium mb-2">Community & Discussions</h3>
                        <ul className="list-disc list-inside text-gray-300 text-sm space-y-1">
                          <li>Open-source forums on multi-agent and ensemble methods</li>
                          <li>LLM ops communities on evaluation and benchmarking</li>
                          <li>Papers with Code collections for reasoning ensembles</li>
                        </ul>
                      </div>
                    </div>
                  </section>
                </>
              ) : selectedTechnique.id === 'map-reduce' ? (
                <>
                  {/* Core Mechanism (short conceptual overview) */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-blue-500 rounded-full"></div>
                      Core Mechanism
                    </h2>
                    <div className="bg-gradient-to-br from-blue-500/10 to-purple-500/10 border border-blue-500/20 rounded-xl p-6">
                      <p className="text-gray-200 text-base leading-relaxed mb-4">
                        Map-Reduce executes computation in two stages over partitioned data: a mapping stage that transforms each shard
                        into key–value pairs independently and a reducing stage that aggregates values per key. The shuffle/sort barrier
                        groups identical keys between stages. This enables parallelism, data locality, and fault-tolerant re-execution. In
                        LLM pipelines, the pattern often appears as per-chunk analysis (map) followed by a structured consolidation (reduce).
                      </p>
                      <div className="grid grid-cols-2 md:grid-cols-4 gap-4 mt-4">
                        <div className="text-center p-4 bg-gray-800/30 rounded-lg">
                          <div className="text-2xl mb-2">🗺️</div>
                          <div className="text-xs text-gray-400 mb-1">Flow</div>
                          <div className="text-sm font-medium text-white">Map → Shuffle/Sort → Reduce</div>
                        </div>
                        <div className="text-center p-4 bg-gray-800/30 rounded-lg">
                          <div className="text-2xl mb-2">🧩</div>
                          <div className="text-xs text-gray-400 mb-1">Units</div>
                          <div className="text-sm font-medium text-white">Key–value records</div>
                        </div>
                        <div className="text-center p-4 bg-gray-800/30 rounded-lg">
                          <div className="text-2xl mb-2">🛡️</div>
                          <div className="text-xs text-gray-400 mb-1">Reliability</div>
                          <div className="text-sm font-medium text-white">Deterministic, retry-safe</div>
                        </div>
                        <div className="text-center p-4 bg-gray-800/30 rounded-lg">
                          <div className="text-2xl mb-2">📦</div>
                          <div className="text-xs text-gray-400 mb-1">Locality</div>
                          <div className="text-sm font-medium text-white">Compute near data</div>
                        </div>
                      </div>
                    </div>
                  </section>

                  {/* Workflow / Steps */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-purple-500 rounded-full"></div>
                      Workflow / Steps
                    </h2>
                    <div className="bg-gradient-to-br from-purple-500/10 to-blue-500/10 border border-purple-500/20 rounded-xl p-6">
                      <ol className="list-decimal list-inside space-y-2 text-gray-200 text-sm">
                        <li>Partition source data into balanced shards; assign stable IDs and boundaries.</li>
                        <li>Map: transform each record/shard to key–value pairs; validate and emit.</li>
                        <li>Optional combine: locally aggregate to reduce shuffle volume.</li>
                        <li>Shuffle/Sort: group all values by key with consistent hashing/partitioning.</li>
                        <li>Reduce: aggregate grouped values into final records; enforce schemas.</li>
                        <li>Write outputs; record metrics, lineage, and checkpoints.</li>
                      </ol>
                    </div>
                  </section>

                  {/* Best Practices */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-green-500 rounded-full"></div>
                      Best Practices
                    </h2>
                    <div className="grid gap-3">
                      {[
                        'Use deterministic, idempotent mappers and reducers; enable safe retries.',
                        'Design partitioners for even load; mitigate skew with salting or dynamic repartition.',
                        'Add combiners for associative/commutative aggregates to cut shuffle bytes.',
                        'Schema all emissions; validate at boundaries; prefer compact binary for IO-heavy paths.',
                        'Cap concurrency and enable backpressure; monitor queue depths and spill-to-disk.',
                        'Handle stragglers: speculative execution and bounded retries with jitter.',
                        'Exploit data locality; colocate compute with storage where possible.',
                        'For LLM map-reduce summarization, keep chunk sizes stable and aggregate with structure-aware prompts.'
                      ].map((tip) => (
                        <div key={tip} className="flex items-start gap-3 p-3 bg-gray-800/40 rounded-lg">
                          <Check className="w-5 h-5 text-green-400 mt-0.5 flex-shrink-0" />
                          <span className="text-gray-300 text-sm leading-relaxed">{tip}</span>
                        </div>
                      ))}
                    </div>
                  </section>

                  {/* When NOT to Use */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-red-500 rounded-full"></div>
                      When NOT to Use
                    </h2>
                    <div className="bg-gray-800/40 rounded-lg p-6 border border-gray-700/40">
                      <ul className="list-disc list-inside space-y-2 text-gray-300 text-sm">
                        <li>Small datasets where single-node processing is simpler and faster.</li>
                        <li>Interactive, low-latency queries; prefer indexed stores or streaming engines.</li>
                        <li>Algorithms with heavy cross-shard dependencies or iterative random access.</li>
                        <li>Real-time streaming with sliding windows; prefer stream processors.</li>
                        <li>Complex multi-stage DAGs with rich joins; prefer Spark/Beam/Ray pipelines.</li>
                      </ul>
                    </div>
                  </section>

                  {/* Common Pitfalls */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-amber-500 rounded-full"></div>
                      Common Pitfalls
                    </h2>
                    <div className="bg-gray-800/40 rounded-lg p-6 border border-gray-700/40">
                      <ul className="list-disc list-inside space-y-2 text-gray-300 text-sm">
                        <li>Data skew creating hot reducers and long-tail stragglers.</li>
                        <li>Exploding shuffle volume due to missing combiners or verbose keys.</li>
                        <li>Stateful, non-deterministic mappers hindering reproducibility and retries.</li>
                        <li>Mis-sized partitions causing underutilization or memory pressure.</li>
                        <li>LLM summarization: token blow-up from inconsistent chunking or verbose map outputs.</li>
                      </ul>
                    </div>
                  </section>

                  {/* Key Features */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-cyan-500 rounded-full"></div>
                      Key Features
                    </h2>
                    <div className="grid grid-cols-1 md:grid-cols-2 gap-3">
                      {[
                        'Horizontal parallelism with deterministic aggregation',
                        'Fault tolerance via retryable tasks and checkpointing',
                        'Data locality and spill-to-disk for large shuffles',
                        'Combiners and partitioners for IO and load efficiency',
                        'Elastic scaling and speculative execution',
                        'LLM adaptation: per-chunk analysis with structured reduce'
                      ].map((f) => (
                        <div key={f} className="p-3 bg-gray-800/40 rounded-lg text-gray-300 text-sm">{f}</div>
                      ))}
                    </div>
                  </section>

                  {/* KPIs / Success Metrics */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-emerald-500 rounded-full"></div>
                      KPIs / Success Metrics
                    </h2>
                    <div className="bg-gray-800/40 rounded-lg p-6 border border-gray-700/40">
                      <ul className="list-disc list-inside space-y-2 text-gray-300 text-sm">
                        <li>End-to-end throughput and time-to-completion vs. baseline.</li>
                        <li>Shuffle bytes per processed GB; combine effectiveness ratio.</li>
                        <li>Skew index (p95/p50 task duration) and straggler rate.</li>
                        <li>Failure/retry counts; speculative execution hit rate.</li>
                        <li>For LLM: quality score of reduce output, agreement across maps, cost per accepted unit.</li>
                      </ul>
                    </div>
                  </section>

                  {/* Token / Resource Usage */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-pink-500 rounded-full"></div>
                      Token / Resource Usage
                    </h2>
                    <div className="bg-gray-800/40 rounded-lg p-6 border border-gray-700/40">
                      <ul className="list-disc list-inside space-y-2 text-gray-300 text-sm">
                        <li>Map stage: tokens scale with number of chunks × chunk size; cap concurrency to respect rate limits.</li>
                        <li>Reduce stage: smaller token footprint with structure-aware consolidation; avoid full re-prompt of all maps.</li>
                        <li>Infra: monitor CPU, memory, and disk during shuffle; compress intermediates where possible.</li>
                        <li>Cache stable map outputs to amortize cost across runs.</li>
                      </ul>
                    </div>
                  </section>

                  {/* Best Use Cases */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-indigo-500 rounded-full"></div>
                      Best Use Cases
                    </h2>
                    <div className="bg-gray-800/40 rounded-lg p-6 border border-gray-700/40">
                      <ul className="list-disc list-inside space-y-2 text-gray-300 text-sm">
                        <li>Large-scale log processing, ETL, and analytics over massive datasets.</li>
                        <li>Counting, aggregations, and histogram-style workloads.</li>
                        <li>Document corpus summarization or extraction with LLM map → reduce.</li>
                        <li>Preprocessing pipelines that benefit from per-record independence.</li>
                      </ul>
                    </div>
                  </section>

                  {/* References & Further Reading */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-yellow-500 rounded-full"></div>
                      References & Further Reading
                    </h2>
                    <div className="grid grid-cols-1 md:grid-cols-2 gap-4">
                      <div className="p-4 bg-gray-800/40 rounded-lg border border-gray-700/40">
                        <h3 className="text-white font-medium mb-2">Academic Papers</h3>
                        <ul className="list-disc list-inside text-gray-300 text-sm space-y-1">
                          <li>MapReduce: Simplified Data Processing on Large Clusters (Dean & Ghemawat, 2004)</li>
                          <li>Resilient Distributed Datasets: A Fault-Tolerant Abstraction for In-Memory Clusters (Zaharia et al., 2012)</li>
                          <li>Skew handling and speculative execution studies (various, 2010–2016)</li>
                        </ul>
                      </div>
                      <div className="p-4 bg-gray-800/40 rounded-lg border border-gray-700/40">
                        <h3 className="text-white font-medium mb-2">Implementation Guides</h3>
                        <ul className="list-disc list-inside text-gray-300 text-sm space-y-1">
                          <li>Hadoop MapReduce design patterns and tuning guides</li>
                          <li>Spark map/aggregate/reduceByKey best practices</li>
                          <li>LLM map_reduce summarization patterns (LangChain, LlamaIndex)</li>
                        </ul>
                      </div>
                      <div className="p-4 bg-gray-800/40 rounded-lg border border-gray-700/40">
                        <h3 className="text-white font-medium mb-2">Tools & Libraries</h3>
                        <ul className="list-disc list-inside text-gray-300 text-sm space-y-1">
                          <li>Apache Hadoop, Apache Spark, Apache Beam</li>
                          <li>Ray, Dask for Python-native distributed compute</li>
                          <li>LangChain (map_reduce), LlamaIndex (tree/summary aggregators)</li>
                        </ul>
                      </div>
                      <div className="p-4 bg-gray-800/40 rounded-lg border border-gray-700/40">
                        <h3 className="text-white font-medium mb-2">Community & Discussions</h3>
                        <ul className="list-disc list-inside text-gray-300 text-sm space-y-1">
                          <li>Apache Hadoop and Spark user/dev mailing lists</li>
                          <li>Ray discourse and Dask community forums</li>
                          <li>LangChain and LlamaIndex community channels</li>
                        </ul>
                      </div>
                    </div>
                  </section>
                </>
              ) : selectedTechnique.id === 'scatter-gather' ? (
                <>
                  {/* Core Mechanism (short conceptual overview) */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-blue-500 rounded-full"></div>
                      Core Mechanism
                    </h2>
                    <div className="bg-gradient-to-br from-blue-500/10 to-purple-500/10 border border-blue-500/20 rounded-xl p-6">
                      <p className="text-gray-200 text-base leading-relaxed mb-4">
                        Scatter-Gather executes parallel fan-out to multiple providers or services, applies per-branch timeouts and
                        budgets, then aggregates, normalizes, and reconciles partial results into a single coherent response. It
                        improves coverage and latency by racing sources, tolerating partial failures, and merging overlapping or
                        conflicting answers with deterministic policies.
                      </p>
                      <div className="grid grid-cols-2 md:grid-cols-4 gap-4 mt-4">
                        <div className="text-center p-4 bg-gray-800/30 rounded-lg">
                          <div className="text-2xl mb-2">📡</div>
                          <div className="text-xs text-gray-400 mb-1">Fan-out</div>
                          <div className="text-sm font-medium text-white">Concurrent requests</div>
                        </div>
                        <div className="text-center p-4 bg-gray-800/30 rounded-lg">
                          <div className="text-2xl mb-2">⏱️</div>
                          <div className="text-xs text-gray-400 mb-1">Control</div>
                          <div className="text-sm font-medium text-white">Timeouts & budgets</div>
                        </div>
                        <div className="text-center p-4 bg-gray-800/30 rounded-lg">
                          <div className="text-2xl mb-2">🧰</div>
                          <div className="text-xs text-gray-400 mb-1">Aggregation</div>
                          <div className="text-sm font-medium text-white">Normalize & merge</div>
                        </div>
                        <div className="text-center p-4 bg-gray-800/30 rounded-lg">
                          <div className="text-2xl mb-2">🛡️</div>
                          <div className="text-xs text-gray-400 mb-1">Resilience</div>
                          <div className="text-sm font-medium text-white">Partial results tolerant</div>
                        </div>
                      </div>
                    </div>
                  </section>

                  {/* Workflow / Steps */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-purple-500 rounded-full"></div>
                      Workflow / Steps
                    </h2>
                    <div className="bg-gradient-to-br from-purple-500/10 to-blue-500/10 border border-purple-500/20 rounded-xl p-6">
                      <ol className="list-decimal list-inside space-y-2 text-gray-200 text-sm">
                        <li>Plan fan-out set: select providers/services and define per-branch SLAs and budgets.</li>
                        <li>Prepare branch prompts/queries with consistent schemas; attach correlation IDs and cancellation tokens.</li>
                        <li>Dispatch concurrently with bounded concurrency; apply per-branch deadlines and retries with jitter.</li>
                        <li>Collect responses and errors as streams; short-circuit on confidence thresholds when applicable.</li>
                        <li>Normalize outputs to a common schema; score sources by trust, freshness, and latency.</li>
                        <li>Reconcile conflicts with deterministic merge policy (e.g., trust-weighted, recency-first, majority vote).</li>
                        <li>De-duplicate overlapping entities; enrich with cached or previously known facts.</li>
                        <li>Compose final result; include provenance and partial-result annotations when relevant.</li>
                        <li>Emit observability: per-branch timings, timeouts, error classes, merge decisions, and quality metrics.</li>
                      </ol>
                    </div>
                  </section>

                  {/* Best Practices */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-green-500 rounded-full"></div>
                      Best Practices
                    </h2>
                    <div className="grid gap-3">
                      {[
                        'Cap parallelism; use bulkheads and per-target rate limits to protect upstreams.',
                        'Set hard timeouts and budgets per branch; prefer hedged requests for tail tolerance.',
                        'Design stable, versioned response schemas; validate at the aggregator boundary.',
                        'Implement deterministic merge rules; log decisions and confidence for auditability.',
                        'Return partial results with provenance rather than failing the whole request.',
                        'Use correlation IDs and structured tracing across all branches.',
                        'Cache invariant sub-queries and hot results; pre-warm for common intents.',
                        'Fail fast on authentication/validation errors; retry only on transient failures with backoff + jitter.',
                        'Continuously evaluate source quality; down-weight noisy or stale providers.',
                      ].map((tip) => (
                        <div key={tip} className="flex items-start gap-3 p-3 bg-gray-800/40 rounded-lg">
                          <Check className="w-5 h-5 text-green-400 mt-0.5 flex-shrink-0" />
                          <span className="text-gray-300 text-sm leading-relaxed">{tip}</span>
                        </div>
                      ))}
                    </div>
                  </section>

                  {/* When NOT to Use */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-red-500 rounded-full"></div>
                      When NOT to Use
                    </h2>
                    <div className="bg-gray-800/40 rounded-lg p-6 border border-gray-700/40">
                      <ul className="list-disc list-inside space-y-2 text-gray-300 text-sm">
                        <li>Tasks with strong cross-branch dependencies that require sequential coordination.</li>
                        <li>Strict consistency requirements where conflicting sources cannot be reconciled reliably.</li>
                        <li>Ultra-low-latency paths where fan-out overhead exceeds benefit.</li>
                        <li>Highly rate-limited or costly providers where parallel calls would breach quotas or budgets.</li>
                        <li>Single high-quality authoritative source already meets requirements.</li>
                      </ul>
                    </div>
                  </section>

                  {/* Common Pitfalls */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-amber-500 rounded-full"></div>
                      Common Pitfalls
                    </h2>
                    <div className="bg-gray-800/40 rounded-lg p-6 border border-gray-700/40">
                      <ul className="list-disc list-inside space-y-2 text-gray-300 text-sm">
                        <li>Unbounded fan-out causing thundering herds, timeouts, or quota violations.</li>
                        <li>Inconsistent schemas that break aggregation and downstream assumptions.</li>
                        <li>Letting slowest branches dictate p95 latency due to missing per-branch deadlines.</li>
                        <li>Retry storms without jitter/backoff; cascading failures without circuit breakers.</li>
                        <li>Non-deterministic merge logic undermining reproducibility and evaluation.</li>
                        <li>Missing observability: lack of per-branch metrics, traces, and provenance.</li>
                      </ul>
                    </div>
                  </section>

                  {/* Key Features */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-cyan-500 rounded-full"></div>
                      Key Features
                    </h2>
                    <div className="grid grid-cols-1 md:grid-cols-2 gap-3">
                      {[
                        'Parallel fan-out with bounded concurrency',
                        'Per-branch timeout, budget, and retry policies',
                        'Partial-result tolerance with provenance',
                        'Deterministic merge and de-duplication strategies',
                        'Source weighting by trust, freshness, performance',
                        'Comprehensive tracing, metrics, and logging',
                      ].map((f) => (
                        <div key={f} className="p-3 bg-gray-800/40 rounded-lg text-gray-300 text-sm">{f}</div>
                      ))}
                    </div>
                  </section>

                  {/* KPIs / Success Metrics */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-emerald-500 rounded-full"></div>
                      KPIs / Success Metrics
                    </h2>
                    <div className="bg-gray-800/40 rounded-lg p-6 border border-gray-700/40">
                      <ul className="list-disc list-inside space-y-2 text-gray-300 text-sm">
                        <li>p50/p95 end-to-end latency and aggregation window utilization.</li>
                        <li>Completion rate, timeout rate, and partial-result ratio.</li>
                        <li>Merge conflict rate and resolution distribution.</li>
                        <li>Cost per request (tokens, API spend) vs. quality improvement.</li>
                        <li>Source reliability score and contribution weighting over time.</li>
                        <li>Quality metrics: accuracy/recall vs. single-source baseline.</li>
                      </ul>
                    </div>
                  </section>

                  {/* Token / Resource Usage */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-pink-500 rounded-full"></div>
                      Token / Resource Usage
                    </h2>
                    <div className="bg-gray-800/40 rounded-lg p-6 border border-gray-700/40">
                      <ul className="list-disc list-inside space-y-2 text-gray-300 text-sm">
                        <li>Tokens scale approximately with number of branches × average prompt/response size.</li>
                        <li>Set per-branch token caps; prefer concise prompts and structured responses for merging.</li>
                        <li>Use streaming and early stopping based on confidence thresholds to save tokens.</li>
                        <li>Cache invariant sub-queries; reuse results across sessions to amortize cost.</li>
                        <li>Monitor CPU, memory, and connection pools under peak concurrency.</li>
                      </ul>
                    </div>
                  </section>

                  {/* Best Use Cases */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-indigo-500 rounded-full"></div>
                      Best Use Cases
                    </h2>
                    <div className="bg-gray-800/40 rounded-lg p-6 border border-gray-700/40">
                      <ul className="list-disc list-inside space-y-2 text-gray-300 text-sm">
                        <li>Microservices orchestration: product search across inventory, pricing, reviews, recommendations.</li>
                        <li>Meta-search and aggregation across multiple external providers/APIs.</li>
                        <li>RAG pipelines querying multiple indices/tools and synthesizing answers.</li>
                        <li>Price comparison, travel planning, and marketplace data federation.</li>
                        <li>Ensemble question answering with diverse specialist models.</li>
                      </ul>
                    </div>
                  </section>

                  {/* References & Further Reading */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-yellow-500 rounded-full"></div>
                      References & Further Reading
                    </h2>
                    <div className="grid grid-cols-1 md:grid-cols-2 gap-4">
                      <div className="p-4 bg-gray-800/40 rounded-lg border border-gray-700/40">
                        <h3 className="text-white font-medium mb-2">Academic Papers</h3>
                        <ul className="list-disc list-inside text-gray-300 text-sm space-y-1">
                          <li>Tail at Scale (Dean & Barroso) — latency tail mitigation strategies</li>
                          <li>Hedged and Tied Requests for Reduced Tail Latency (Dean et al.)</li>
                          <li>Enterprise Integration Patterns — Scatter-Gather and Aggregator patterns</li>
                        </ul>
                      </div>
                      <div className="p-4 bg-gray-800/40 rounded-lg border border-gray-700/40">
                        <h3 className="text-white font-medium mb-2">Implementation Guides</h3>
                        <ul className="list-disc list-inside text-gray-300 text-sm space-y-1">
                          <li>Service resilience: timeouts, retries, circuit breakers, bulkheads</li>
                          <li>Deterministic aggregation and conflict resolution playbooks</li>
                          <li>Observability: distributed tracing, structured logging, SLOs</li>
                        </ul>
                      </div>
                      <div className="p-4 bg-gray-800/40 rounded-lg border border-gray-700/40">
                        <h3 className="text-white font-medium mb-2">Tools & Libraries</h3>
                        <ul className="list-disc list-inside text-gray-300 text-sm space-y-1">
                          <li>Promise.all/asyncio.gather/RxJS forkJoin for concurrency</li>
                          <li>Ray, Celery, Temporal for workflow orchestration</li>
                          <li>LangChain (parallel tool calls), LlamaIndex (multi-retriever, aggregators)</li>
                        </ul>
                      </div>
                      <div className="p-4 bg-gray-800/40 rounded-lg border border-gray-700/40">
                        <h3 className="text-white font-medium mb-2">Community & Discussions</h3>
                        <ul className="list-disc list-inside text-gray-300 text-sm space-y-1">
                          <li>Microservices and SRE communities on tail latency and resilience</li>
                          <li>LLM ops forums on ensemble methods and evaluation</li>
                          <li>Architecture discussions on aggregation patterns and data federation</li>
                        </ul>
                      </div>
                    </div>
                </section>
                </>
              ) : selectedTechnique.id === 'fork-join' ? (
                <>
                  {/* Core Mechanism (short conceptual overview) */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-blue-500 rounded-full"></div>
                      Core Mechanism
                    </h2>
                    <div className="bg-gradient-to-br from-blue-500/10 to-purple-500/10 border border-blue-500/20 rounded-xl p-6">
                      <p className="text-gray-200 text-base leading-relaxed mb-4">
                        Fork-Join recursively decomposes a problem into independent subtasks (fork), executes them in parallel on a
                        bounded worker pool with work-stealing for load balance, then synchronizes and combines partial results (join)
                        bottom-up. Ideal for divide-and-conquer algorithms where results compose deterministically.
                      </p>
                      <div className="grid grid-cols-2 md:grid-cols-4 gap-4 mt-4">
                        <div className="text-center p-4 bg-gray-800/30 rounded-lg">
                          <div className="text-2xl mb-2">🍴</div>
                          <div className="text-xs text-gray-400 mb-1">Flow</div>
                          <div className="text-sm font-medium text-white">Fork → Process → Join</div>
                        </div>
                        <div className="text-center p-4 bg-gray-800/30 rounded-lg">
                          <div className="text-2xl mb-2">🌳</div>
                          <div className="text-xs text-gray-400 mb-1">Structure</div>
                          <div className="text-sm font-medium text-white">Task tree (DAG)</div>
                        </div>
                        <div className="text-center p-4 bg-gray-800/30 rounded-lg">
                          <div className="text-2xl mb-2">🧮</div>
                          <div className="text-xs text-gray-400 mb-1">Merge</div>
                          <div className="text-sm font-medium text-white">Deterministic combine</div>
                        </div>
                        <div className="text-center p-4 bg-gray-800/30 rounded-lg">
                          <div className="text-2xl mb-2">⚖️</div>
                          <div className="text-xs text-gray-400 mb-1">Scheduling</div>
                          <div className="text-sm font-medium text-white">Work-stealing</div>
                        </div>
                      </div>
                    </div>
                  </section>

                  {/* Workflow / Steps */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-purple-500 rounded-full"></div>
                      Workflow / Steps
                    </h2>
                    <div className="bg-gradient-to-br from-purple-500/10 to-blue-500/10 border border-purple-500/20 rounded-xl p-6">
                      <ol className="list-decimal list-inside space-y-2 text-gray-200 text-sm">
                        <li>Choose a divide-and-conquer strategy and define base case and merge function.</li>
                        <li>Set a granularity threshold (cut-off) where tasks switch to sequential processing.</li>
                        <li>Fork: split input into independent subtasks and submit to a bounded worker pool.</li>
                        <li>Process: execute subtasks in parallel; prefer immutable inputs to avoid shared state.</li>
                        <li>Join: wait for child tasks; deterministically merge partial results bottom-up.</li>
                        <li>Handle timeouts/cancellation; propagate failures with context and fallbacks.</li>
                        <li>Collect metrics (speedup, efficiency) and validate output against invariants.</li>
                      </ol>
                    </div>
                  </section>

                  {/* Best Practices */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-green-500 rounded-full"></div>
                      Best Practices
                    </h2>
                    <div className="grid gap-3">
                      {[
                        'Pick a task size that amortizes scheduling overhead; use an adaptive cut-off (e.g., size ≤ K).',
                        'Use work-stealing pools to minimize idle time and mitigate skew/hotspots.',
                        'Keep child tasks independent; avoid shared mutable state and global locks.',
                        'Make merges associative/commutative when possible to simplify joins and retries.',
                        'Bound parallelism; cap queue depth; apply backpressure under load.',
                        'Prefer immutable inputs and pure functions; copy-on-write for large structures.',
                        'Short-circuit on early termination conditions; propagate cancellation promptly.',
                        'Record provenance of partials for debuggability and test merges with property-based checks.'
                      ].map((tip) => (
                        <div key={tip} className="flex items-start gap-3 p-3 bg-gray-800/40 rounded-lg">
                          <Check className="w-5 h-5 text-green-400 mt-0.5 flex-shrink-0" />
                          <span className="text-gray-300 text-sm leading-relaxed">{tip}</span>
                        </div>
                      ))}
                    </div>
                  </section>

                  {/* When NOT to Use */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-red-500 rounded-full"></div>
                      When NOT to Use
                    </h2>
                    <div className="bg-gray-800/40 rounded-lg p-6 border border-gray-700/40">
                      <ul className="list-disc list-inside space-y-2 text-gray-300 text-sm">
                        <li>Strong inter-task dependencies or shared evolving state makes joins ill-defined.</li>
                        <li>Very small problem sizes where fork/scheduling overhead dominates compute.</li>
                        <li>Workloads dominated by a single serial bottleneck (Amdahl-limited).</li>
                        <li>Heavy I/O contention on a single resource (disk/network) without parallel lanes.</li>
                        <li>Strict order/causality requirements that conflict with parallel execution.</li>
                      </ul>
                    </div>
                  </section>

                  {/* Common Pitfalls */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-amber-500 rounded-full"></div>
                      Common Pitfalls
                    </h2>
                    <div className="bg-gray-800/40 rounded-lg p-6 border border-gray-700/40">
                      <ul className="list-disc list-inside space-y-2 text-gray-300 text-sm">
                        <li>Oversplitting into too many tiny tasks → scheduler/queue overhead and GC pressure.</li>
                        <li>Unbalanced partitions causing stragglers; no work-stealing or poor cut-off.</li>
                        <li>Hidden shared state causing contention, deadlocks, or non-deterministic results.</li>
                        <li>Blocking joins on the main/UI thread; missing timeouts and cancellation.</li>
                        <li>Memory blow-up from retaining full intermediates instead of streaming merges.</li>
                      </ul>
                    </div>
                  </section>

                  {/* Key Features */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-cyan-500 rounded-full"></div>
                      Key Features
                    </h2>
                    <div className="grid grid-cols-1 md:grid-cols-2 gap-3">
                      {[
                        'Recursive task decomposition with deterministic merge semantics',
                        'Work-stealing scheduler for dynamic load balancing',
                        'Bounded parallelism with backpressure and queue caps',
                        'Cancellation/timeout-aware joins and failure propagation',
                        'Immutability-first design to minimize contention',
                        'Traceable task tree with provenance for debugging'
                      ].map((f) => (
                        <div key={f} className="p-3 bg-gray-800/40 rounded-lg text-gray-300 text-sm">{f}</div>
                      ))}
                    </div>
                  </section>

                  {/* KPIs / Success Metrics */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-emerald-500 rounded-full"></div>
                      KPIs / Success Metrics
                    </h2>
                    <div className="bg-gray-800/40 rounded-lg p-6 border border-gray-700/40">
                      <ul className="list-disc list-inside space-y-2 text-gray-300 text-sm">
                        <li>Speedup vs. sequential baseline and parallel efficiency (% of ideal).</li>
                        <li>Thread/worker utilization and steal rate; p95 task queue wait.</li>
                        <li>Load imbalance index (p95/p50 task duration) and straggler rate.</li>
                        <li>Join wait time p95/p99 and failure/cancellation propagation latency.</li>
                        <li>Memory/GC overhead from intermediates; tasks created per unit of work.</li>
                      </ul>
                    </div>
                  </section>

                  {/* Token / Resource Usage */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-pink-500 rounded-full"></div>
                      Token / Resource Usage
                    </h2>
                    <div className="bg-gray-800/40 rounded-lg p-6 border border-gray-700/40">
                      <ul className="list-disc list-inside space-y-2 text-gray-300 text-sm">
                        <li>In LLM workflows, tokens scale with fan-out breadth × per-branch context; cap concurrency.</li>
                        <li>Prefer small/fast models for leaf subtasks; reserve strongest model for the final merge.</li>
                        <li>Pass distilled context to children (IDs/summaries) rather than full transcripts.</li>
                        <li>Cache stable sub-results; reuse intermediates to amortize cost across runs.</li>
                        <li>Monitor CPU, memory, and queue depths; apply backpressure and adaptive cut-offs.</li>
                      </ul>
                    </div>
                  </section>

                  {/* Best Use Cases */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-indigo-500 rounded-full"></div>
                      Best Use Cases
                    </h2>
                    <div className="bg-gray-800/40 rounded-lg p-6 border border-gray-700/40">
                      <ul className="list-disc list-inside space-y-2 text-gray-300 text-sm">
                        <li>Parallel sorting/search (merge sort, quicksort, k-ary search trees).</li>
                        <li>Divide-and-conquer math (FFT, Strassen-like block ops, parallel reductions).</li>
                        <li>Graph/tree traversals and hierarchical computations.</li>
                        <li>Batch document or chunk processing with deterministic synthesis/merge.</li>
                        <li>Simulation/Monte Carlo tasks with independent trials and aggregate metrics.</li>
                      </ul>
                    </div>
                  </section>

                  {/* References & Further Reading */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-yellow-500 rounded-full"></div>
                      References & Further Reading
                    </h2>
                    <div className="grid grid-cols-1 md:grid-cols-2 gap-4">
                      <div className="p-4 bg-gray-800/40 rounded-lg border border-gray-700/40">
                        <h3 className="text-white font-medium mb-2">Academic Papers</h3>
                        <ul className="list-disc list-inside text-gray-300 text-sm space-y-1">
                          <li>Cilk and Work-Stealing Scheduling (Blumofe & Leiserson, 1999)</li>
                          <li>The Java Fork/Join Framework (Lea, 2000–2011)</li>
                          <li>Parallelism in Practice: Amdahl and Gustafson considerations</li>
                        </ul>
                      </div>
                      <div className="p-4 bg-gray-800/40 rounded-lg border border-gray-700/40">
                        <h3 className="text-white font-medium mb-2">Implementation Guides</h3>
                        <ul className="list-disc list-inside text-gray-300 text-sm space-y-1">
                          <li>Java `ForkJoinPool` design and tuning (common pool vs. custom pools)</li>
                          <li>.NET Task Parallel Library: Parallel.Invoke/Tasks with work-stealing schedulers</li>
                          <li>Python `concurrent.futures` and `multiprocessing` pools with chunking</li>
                          <li>Ray/Dask: task graphs with actor pools and backpressure</li>
                        </ul>
                      </div>
                      <div className="p-4 bg-gray-800/40 rounded-lg border border-gray-700/40">
                        <h3 className="text-white font-medium mb-2">Tools & Libraries</h3>
                        <ul className="list-disc list-inside text-gray-300 text-sm space-y-1">
                          <li>Java Fork/Join, Cilk/TBB, OpenMP tasks</li>
                          <li>Python Ray, Dask; Node.js Promise.all/RxJS forkJoin</li>
                          <li>Workflow engines: Temporal, Airflow (task DAGs)</li>
                        </ul>
                      </div>
                      <div className="p-4 bg-gray-800/40 rounded-lg border border-gray-700/40">
                        <h3 className="text-white font-medium mb-2">Community & Discussions</h3>
                        <ul className="list-disc list-inside text-gray-300 text-sm space-y-1">
                          <li>Java Concurrency in Practice and Fork/Join tuning threads</li>
                          <li>Ray, Dask, and concurrency forums on task granularity and scheduling</li>
                          <li>StackOverflow Q&A on deadlocks, work-stealing, and join barriers</li>
                        </ul>
                      </div>
                    </div>
                  </section>
                </>
              ) : selectedTechnique.id === 'async-await' ? (
                <>
                  {/* Core Mechanism (short conceptual overview) */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-blue-500 rounded-full"></div>
                      Core Mechanism
                    </h2>
                    <div className="bg-gradient-to-br from-blue-500/10 to-purple-500/10 border border-blue-500/20 rounded-xl p-6">
                      <p className="text-gray-200 text-base leading-relaxed mb-4">
                        Async-await provides non-blocking concurrency by suspending a task at await points while the runtime progresses
                        other work. It builds on promises/futures to coordinate multiple I/O-bound operations with linear, readable flow
                        and structured error handling across languages (JavaScript/TypeScript, Python asyncio, Rust tokio, C#/.NET).
                      </p>
                      <div className="grid grid-cols-2 md:grid-cols-4 gap-4 mt-4">
                        <div className="text-center p-4 bg-gray-800/30 rounded-lg">
                          <div className="text-2xl mb-2">⏳</div>
                          <div className="text-xs text-gray-400 mb-1">Execution</div>
                          <div className="text-sm font-medium text-white">Non-blocking awaits</div>
                        </div>
                        <div className="text-center p-4 bg-gray-800/30 rounded-lg">
                          <div className="text-2xl mb-2">🤝</div>
                          <div className="text-xs text-gray-400 mb-1">Coordination</div>
                          <div className="text-sm font-medium text-white">Promise/Future based</div>
                        </div>
                        <div className="text-center p-4 bg-gray-800/30 rounded-lg">
                          <div className="text-2xl mb-2">🧵</div>
                          <div className="text-xs text-gray-400 mb-1">Model</div>
                          <div className="text-sm font-medium text-white">Event loop + tasks</div>
                        </div>
                        <div className="text-center p-4 bg-gray-800/30 rounded-lg">
                          <div className="text-2xl mb-2">🛡️</div>
                          <div className="text-xs text-gray-400 mb-1">Errors</div>
                          <div className="text-sm font-medium text-white">try/catch semantics</div>
                        </div>
                      </div>
                    </div>
                  </section>

                  {/* Workflow / Steps */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-purple-500 rounded-full"></div>
                      Workflow / Steps
                    </h2>
                    <div className="bg-gradient-to-br from-purple-500/10 to-blue-500/10 border border-purple-500/20 rounded-xl p-6">
                      <ol className="list-decimal list-inside space-y-2 text-gray-200 text-sm">
                        <li>Define async function boundaries; ensure callers are async-capable.</li>
                        <li>Wrap I/O or long-running operations as promises/futures or async coroutines.</li>
                        <li>Compose concurrency via Promise.all/Task.WhenAll/asyncio.gather/join handles.</li>
                        <li>Propagate and handle errors with try/catch and per-branch guards.</li>
                        <li>Apply timeouts, cancellation tokens, and resource limits.</li>
                        <li>Aggregate results, normalize types, and return a single awaited value.</li>
                      </ol>
                    </div>
                  </section>

                  {/* Best Practices */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-green-500 rounded-full"></div>
                      Best Practices
                    </h2>
                    <div className="grid gap-3">
                      {[
                        'Prefer await for readability; fan-out using Promise.all/gather for independent I/O.',
                        'Always bound concurrency (p-limit, semaphores, pools) to protect services.',
                        'Use timeouts and cancellation (AbortController/.NET CancellationToken/asyncio timeouts).',
                        'Isolate retries and fallbacks; never wrap large batches in a single try/catch.',
                        'Surface partial results with Promise.allSettled/gather(return_exceptions=True).',
                        'Avoid blocking calls in async contexts; keep CPU work off the event loop.',
                        'Propagate structured errors; enrich with context and correlation IDs.',
                        'Log p50/p95 latencies and error categories; add backoff for transient failures.'
                      ].map((tip) => (
                        <div key={tip} className="flex items-start gap-3 p-3 bg-gray-800/40 rounded-lg">
                          <Check className="w-5 h-5 text-green-400 mt-0.5 flex-shrink-0" />
                          <span className="text-gray-300 text-sm leading-relaxed">{tip}</span>
                        </div>
                      ))}
                    </div>
                  </section>

                  {/* When NOT to Use */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-red-500 rounded-full"></div>
                      When NOT to Use
                    </h2>
                    <div className="bg-gray-800/40 rounded-lg p-6 border border-gray-700/40">
                      <ul className="list-disc list-inside space-y-2 text-gray-300 text-sm">
                        <li>CPU-bound workloads without offloading threads/workers — use worker pools instead.</li>
                        <li>Tight low-latency loops where scheduling overhead dominates.</li>
                        <li>Global ordering/causality requirements that conflict with concurrent execution.</li>
                        <li>Heavy shared-state mutation leading to contention; prefer message passing.</li>
                      </ul>
                    </div>
                  </section>

                  {/* Common Pitfalls */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-amber-500 rounded-full"></div>
                      Common Pitfalls
                    </h2>
                    <div className="bg-gray-800/40 rounded-lg p-6 border border-gray-700/40">
                      <ul className="list-disc list-inside space-y-2 text-gray-300 text-sm">
                        <li>Unbounded parallel awaits → throttling, rate-limit errors, or service overload.</li>
                        <li>Swallowing exceptions inside Promise.all causing silent partial failures.</li>
                        <li>Blocking synchronous APIs inside async code (e.g., fs.readFileSync / CPU loops).</li>
                        <li>Leaking tasks on timeout/cancel; not wiring cancellation to in-flight I/O.</li>
                        <li>Deadlocks from awaiting in wrong context (legacy sync-over-async patterns).</li>
                      </ul>
                    </div>
                  </section>

                  {/* Key Features */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-cyan-500 rounded-full"></div>
                      Key Features
                    </h2>
                    <div className="grid grid-cols-1 md:grid-cols-2 gap-3">
                      {[
                        'Linear syntax over async control flow (try/catch/finally).',
                        'Promise/future composition: all, allSettled, race, any; gather/join.',
                        'Cancellation & timeouts with tokens, signals, or scopes.',
                        'Non-blocking I/O with event loop or reactor-based runtimes.',
                        'Backpressure via pools/semaphores; bounded concurrency.',
                        'Cross-language availability: JS/TS, Python, C#, Rust, Swift.'
                      ].map((f) => (
                        <div key={f} className="p-3 bg-gray-800/40 rounded-lg text-gray-300 text-sm">{f}</div>
                      ))}
                    </div>
                  </section>

                  {/* KPIs / Success Metrics */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-emerald-500 rounded-full"></div>
                      KPIs / Success Metrics
                    </h2>
                    <div className="bg-gray-800/40 rounded-lg p-6 border border-gray-700/40">
                      <ul className="list-disc list-inside space-y-2 text-gray-300 text-sm">
                        <li>End-to-end latency (p50/p95/p99) and tail amplification under concurrency.</li>
                        <li>Throughput (req/s) vs. concurrency level; success/error rate per class.</li>
                        <li>Queue depth and time-in-queue; timeout/cancellation ratio.</li>
                        <li>External rate-limit/backoff events; retry success vs. cost.</li>
                        <li>Resource usage: CPU, memory, open file/socket descriptors.</li>
                      </ul>
                    </div>
                  </section>

                  {/* Token / Resource Usage */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-pink-500 rounded-full"></div>
                      Token / Resource Usage
                    </h2>
                    <div className="bg-gray-800/40 rounded-lg p-6 border border-gray-700/40 space-y-2 text-sm text-gray-300">
                      <p>Async-await itself doesn’t consume model tokens; it manages concurrency. In LLM workflows, tokens scale with the number of parallel model calls and context size.</p>
                      <ul className="list-disc list-inside space-y-1">
                        <li>Bound parallel LLM calls to avoid burst token spikes and rate limits.</li>
                        <li>Use streaming or pagination to cap memory; avoid retaining full responses.</li>
                        <li>Prefer shared references/IDs over duplicating large prompts across tasks.</li>
                        <li>Apply per-call budgets, backoff, and caching to amortize repeated queries.</li>
                      </ul>
                    </div>
                  </section>

                  {/* Best Use Cases */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-indigo-500 rounded-full"></div>
                      Best Use Cases
                    </h2>
                    <div className="bg-gray-800/40 rounded-lg p-6 border border-gray-700/40">
                      <ul className="list-disc list-inside space-y-2 text-gray-300 text-sm">
                        <li>Concurrent API/data fetches for dashboards or orchestration.</li>
                        <li>Fan-out I/O tasks with independent results and aggregation.</li>
                        <li>LLM tool calls executed in parallel with bounded concurrency.</li>
                        <li>Background task runners that compose timeouts and cancellation.</li>
                      </ul>
                    </div>
                  </section>

                  {/* References & Further Reading */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-yellow-500 rounded-full"></div>
                      References & Further Reading
                    </h2>
                    <div className="grid grid-cols-1 md:grid-cols-2 gap-4">
                      <div className="p-4 bg-gray-800/40 rounded-lg border border-gray-700/40">
                        <h3 className="text-white font-medium mb-2">Academic Papers</h3>
                        <ul className="list-disc list-inside text-gray-300 text-sm space-y-1">
                          <li>Communicating Sequential Processes (Hoare, 1978)</li>
                          <li>Structured Concurrency principles (Klabnik et al., community writings)</li>
                          <li>Actor model and async scheduling references</li>
                        </ul>
                      </div>
                      <div className="p-4 bg-gray-800/40 rounded-lg border border-gray-700/40">
                        <h3 className="text-white font-medium mb-2">Implementation Guides</h3>
                        <ul className="list-disc list-inside text-gray-300 text-sm space-y-1">
                          <li><a className="text-blue-400 hover:text-blue-300" target="_blank" rel="noreferrer" href="https://developer.mozilla.org/en-US/docs/Learn/JavaScript/Asynchronous/Async_await">MDN: Async/Await</a></li>
                          <li><a className="text-blue-400 hover:text-blue-300" target="_blank" rel="noreferrer" href="https://learn.microsoft.com/dotnet/csharp/programming-guide/concepts/async/">.NET C#: async/await</a></li>
                          <li><a className="text-blue-400 hover:text-blue-300" target="_blank" rel="noreferrer" href="https://docs.python.org/3/library/asyncio-task.html">Python asyncio: Tasks & gather</a></li>
                          <li><a className="text-blue-400 hover:text-blue-300" target="_blank" rel="noreferrer" href="https://rust-lang.github.io/async-book/">Rust Async Book</a></li>
                        </ul>
                      </div>
                      <div className="p-4 bg-gray-800/40 rounded-lg border border-gray-700/40">
                        <h3 className="text-white font-medium mb-2">Tools & Libraries</h3>
                        <ul className="list-disc list-inside text-gray-300 text-sm space-y-1">
                          <li>JavaScript/TypeScript: p-limit, Bluebird utilities, RxJS interop</li>
                          <li>Python: Trio, AnyIO, aiohttp, tenacity (retries)</li>
                          <li>Rust: tokio, async-std, futures, reqwest</li>
                          <li>.NET: Task Parallel Library, Polly (retries), IAsyncEnumerable</li>
                        </ul>
                      </div>
                      <div className="p-4 bg-gray-800/40 rounded-lg border border-gray-700/40">
                        <h3 className="text-white font-medium mb-2">Community & Discussions</h3>
                        <ul className="list-disc list-inside text-gray-300 text-sm space-y-1">
                          <li>StackOverflow: async/await best practices and pitfalls</li>
                          <li>Rust Async Working Group notes and Zulip discussions</li>
                          <li>Python asyncio and Trio discourse forums</li>
                          <li>Node.js community notes on event loop and performance</li>
                        </ul>
                      </div>
                    </div>
                  </section>
                </>
              ) : selectedTechnique.id === 'content-based-routing' ? (
                <>
                  {/* Core Mechanism (short conceptual overview) */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-blue-500 rounded-full"></div>
                      Core Mechanism
                    </h2>
                    <div className="bg-gradient-to-br from-blue-500/10 to-purple-500/10 border border-blue-500/20 rounded-xl p-6">
                      <p className="text-gray-200 text-base leading-relaxed mb-4">
                        Content-Based Routing inspects the payload itself (text, code, structured data, or media metadata) to
                        classify intent/topic and select a specialized handler or path. The router can be rule-based, embeddings +
                        classifier, or a lightweight LLM gate. Decisions should include confidence, rationale, and a safe default.
                      </p>
                      <div className="grid grid-cols-2 md:grid-cols-4 gap-4 mt-4">
                        <div className="text-center p-4 bg-gray-800/30 rounded-lg">
                          <div className="text-2xl mb-2">🔀</div>
                          <div className="text-xs text-gray-400 mb-1">Flow</div>
                          <div className="text-sm font-medium text-white">Route by content</div>
                        </div>
                        <div className="text-center p-4 bg-gray-800/30 rounded-lg">
                          <div className="text-2xl mb-2">🧭</div>
                          <div className="text-xs text-gray-400 mb-1">Policy</div>
                          <div className="text-sm font-medium text-white">Rules/Embeddings/LLM gate</div>
                        </div>
                        <div className="text-center p-4 bg-gray-800/30 rounded-lg">
                          <div className="text-2xl mb-2">🧬</div>
                          <div className="text-xs text-gray-400 mb-1">Modality</div>
                          <div className="text-sm font-medium text-white">Text/Code/Data/Media</div>
                        </div>
                        <div className="text-center p-4 bg-gray-800/30 rounded-lg">
                          <div className="text-2xl mb-2">📉</div>
                          <div className="text-xs text-gray-400 mb-1">Confidence</div>
                          <div className="text-sm font-medium text-white">Thresholds & fallback</div>
                        </div>
                      </div>
                    </div>
                  </section>

                  {/* Workflow / Steps */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-purple-500 rounded-full"></div>
                      Workflow / Steps
                    </h2>
                    <div className="bg-gradient-to-br from-purple-500/10 to-blue-500/10 border border-purple-500/20 rounded-xl p-6">
                      <ol className="list-decimal list-inside space-y-2 text-gray-200 text-sm">
                        <li>Define taxonomy and handlers (e.g., Text, Code, Data, Media) with consistent I/O contracts.</li>
                        <li>Extract routing features: modality detection, keywords, entities, embeddings, metadata, risk/sensitivity.</li>
                        <li>Select policy: rules, embedding similarity + thresholds, classical classifier, or small LLM gate.</li>
                        <li>Calibrate confidence per class; set thresholds and a safe default route.</li>
                        <li>Make decision; on low confidence, default/hold for review. Optionally shadow top-2 for evaluation.</li>
                        <li>Execute handler pipeline; validate outputs against schema; normalize for downstream.</li>
                        <li>Log features, decision, confidence, and outcomes for audit, drift, and continuous evaluation.</li>
                      </ol>
                    </div>
                  </section>

                  {/* Best Practices */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-green-500 rounded-full"></div>
                      Best Practices
                    </h2>
                    <div className="grid gap-3">
                      {[
                        'Start with a clear taxonomy; avoid overlapping categories and document examples per class',
                        'Prefer lightweight policies (rules/embeddings/small model) to minimize latency and cost',
                        'Calibrate thresholds by class; measure precision/recall and misroute costs explicitly',
                        'Always provide a safe default route and human-in-the-loop for ambiguous/high-risk items',
                        'Standardize schemas across handlers so results are comparable and mergeable',
                        'Cache invariant features (embeddings, metadata) and reuse across requests',
                        'Continuously evaluate with labeled sets; monitor drift and re-tune thresholds',
                        'Log rationale/features for explainability and compliance audits'
                      ].map((tip) => (
                        <div key={tip} className="flex items-start gap-3 p-3 bg-gray-800/40 rounded-lg">
                          <Check className="w-5 h-5 text-green-400 mt-0.5 flex-shrink-0" />
                          <span className="text-gray-300 text-sm leading-relaxed">{tip}</span>
                        </div>
                      ))}
                    </div>
                  </section>

                  {/* When NOT to Use */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-red-500 rounded-full"></div>
                      When NOT to Use
                    </h2>
                    <div className="bg-gray-800/40 rounded-lg p-6 border border-gray-700/40">
                      <ul className="list-disc list-inside space-y-2 text-gray-300 text-sm">
                        <li>Homogeneous workloads where one well-tuned path suffices.</li>
                        <li>Ultra-low latency constraints that cannot afford routing overhead.</li>
                        <li>No labeled data or feedback loop to calibrate/evaluate routing quality.</li>
                        <li>High regulatory risk without explainability, logging, and fallback procedures.</li>
                      </ul>
                    </div>
                  </section>

                  {/* Common Pitfalls */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-amber-500 rounded-full"></div>
                      Common Pitfalls
                    </h2>
                    <div className="bg-gray-800/40 rounded-lg p-6 border border-gray-700/40">
                      <ul className="list-disc list-inside space-y-2 text-gray-300 text-sm">
                        <li>Overlapping/ambiguous classes causing unstable decisions and thrashing.</li>
                        <li>Uncalibrated thresholds leading to high misroute rates.</li>
                        <li>Brittle regex/rules that break on phrasing or multilingual inputs.</li>
                        <li>Schema sprawl across handlers; difficult to aggregate and evaluate.</li>
                        <li>Ignoring drift; performance degrades as content distribution shifts.</li>
                        <li>Routing on full documents instead of distilled signals → token/cost bloat.</li>
                      </ul>
                    </div>
                  </section>

                  {/* Key Features */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-cyan-500 rounded-full"></div>
                      Key Features
                    </h2>
                    <div className="grid grid-cols-1 md:grid-cols-2 gap-3">
                      {[
                        'Automatic modality and intent/topic classification',
                        'Embeddings-based similarity with class exemplars',
                        'Confidence scoring, thresholds, and safe defaults',
                        'Pluggable policies: rules, ML classifiers, or LLM gate',
                        'Explainability via features/rationale logging',
                        'Standardized I/O contracts across handlers',
                        'Drift detection and periodic re-calibration',
                        'Optional shadow routing for evaluation'
                      ].map((f) => (
                        <div key={f} className="p-3 bg-gray-800/40 rounded-lg text-gray-300 text-sm">{f}</div>
                      ))}
                    </div>
                  </section>

                  {/* KPIs / Success Metrics */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-emerald-500 rounded-full"></div>
                      KPIs / Success Metrics
                    </h2>
                    <div className="bg-gray-800/40 rounded-lg p-6 border border-gray-700/40">
                      <ul className="list-disc list-inside space-y-2 text-gray-300 text-sm">
                        <li>Routing accuracy/precision/recall by class; misroute rate.</li>
                        <li>Confusion matrix stability and top-2 agreement rate.</li>
                        <li>Handler success/quality and downstream task completion.</li>
                        <li>Routing latency overhead (P50/P95) and throughput.</li>
                        <li>Cost per routed item and savings vs. single-path baseline.</li>
                        <li>Low-confidence/default rate and human override rate.</li>
                        <li>Drift indicators (feature/class distribution shifts).</li>
                      </ul>
                    </div>
                  </section>

                  {/* Token / Resource Usage */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-pink-500 rounded-full"></div>
                      Token / Resource Usage
                    </h2>
                    <div className="bg-gray-800/40 rounded-lg p-6 border border-gray-700/40">
                      <ul className="list-disc list-inside space-y-2 text-gray-300 text-sm">
                        <li>Total ≈ router tokens + handler pipeline tokens; keep router lightweight.</li>
                        <li>Prefer rules or embeddings + small model; reserve strongest models for handlers.</li>
                        <li>Batch classification; cache embeddings and invariant features.</li>
                        <li>Route using distilled signals (summaries, IDs) rather than raw documents.</li>
                        <li>Reuse retrievals and pre/post-processing across handlers when possible.</li>
                      </ul>
                    </div>
                  </section>

                  {/* Best Use Cases */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-indigo-500 rounded-full"></div>
                      Best Use Cases
                    </h2>
                    <div className="bg-gray-800/40 rounded-lg p-6 border border-gray-700/40">
                      <ul className="list-disc list-inside space-y-2 text-gray-300 text-sm">
                        <li>Customer support email/chat triage to specialized queues.</li>
                        <li>Content moderation and policy-specific escalation.</li>
                        <li>Document processing: invoices vs. contracts vs. forms.</li>
                        <li>Code vs. natural language vs. data pipeline routing.</li>
                        <li>Query type detection for RAG/agent selection.</li>
                        <li>Media workflows based on metadata and transcripts.</li>
                      </ul>
                    </div>
                  </section>

                  {/* References & Further Reading */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-yellow-500 rounded-full"></div>
                      References & Further Reading
                    </h2>
                    <div className="grid grid-cols-1 md:grid-cols-2 gap-4">
                      <div className="p-4 bg-gray-800/40 rounded-lg border border-gray-700/40">
                        <h3 className="text-white font-medium mb-2">Academic Papers</h3>
                        <ul className="list-disc list-inside text-gray-300 text-sm space-y-1">
                          <li>Enterprise Integration Patterns: Content-Based Router (Hohpe & Woolf, 2003)</li>
                          <li>Routing Networks for Multi-Task Learning (Rosenbaum et al., 2017)</li>
                          <li>Mixture-of-Experts and gating for conditional computation (Shazeer et al., 2017; Fedus et al., 2021)</li>
                          <li>Routing/skill selection in LLM systems and Mixture-of-Agents (2023–2024)</li>
                        </ul>
                      </div>
                      <div className="p-4 bg-gray-800/40 rounded-lg border border-gray-700/40">
                        <h3 className="text-white font-medium mb-2">Implementation Guides</h3>
                        <ul className="list-disc list-inside text-gray-300 text-sm space-y-1">
                          <li>Enterprise Integration Patterns: Content-Based Router</li>
                          <li>AWS SNS/SQS message filtering and routing patterns</li>
                          <li>Kafka Streams/KSQL content-based routing examples</li>
                          <li>LangGraph decision routers and conditional edges</li>
                          <li>LangChain RouterChain / MultiPromptRouter patterns</li>
                          <li>LlamaIndex RouterQueryEngine / selector components</li>
                        </ul>
                      </div>
                      <div className="p-4 bg-gray-800/40 rounded-lg border border-gray-700/40">
                        <h3 className="text-white font-medium mb-2">Tools & Libraries</h3>
                        <ul className="list-disc list-inside text-gray-300 text-sm space-y-1">
                          <li>LangGraph, LangChain, LlamaIndex routing components</li>
                          <li>Kafka, RabbitMQ, NATS for message routing</li>
                          <li>JSONLogic, JSONPath/JMESPath for rule evaluation</li>
                          <li>Vector DBs and embedding services for similarity</li>
                          <li>Feature stores and evaluators (MLflow, Evidently)</li>
                        </ul>
                      </div>
                      <div className="p-4 bg-gray-800/40 rounded-lg border border-gray-700/40">
                        <h3 className="text-white font-medium mb-2">Community & Discussions</h3>
                        <ul className="list-disc list-inside text-gray-300 text-sm space-y-1">
                          <li>Enterprise Integration Patterns community resources</li>
                          <li>Cloud provider architecture blogs on routing</li>
                          <li>Kafka and streaming communities (meetups, forums)</li>
                          <li>LangChain/LangGraph forums and OSS discussions</li>
                          <li>MLOps communities on evaluation and drift</li>
                        </ul>
                      </div>
                    </div>
                  </section>
                </>
              ) : selectedTechnique.id === 'dynamic-routing' ? (
                <>
                  {/* Core Mechanism (short conceptual overview) */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-blue-500 rounded-full"></div>
                      Core Mechanism
                    </h2>
                    <div className="bg-gradient-to-br from-blue-500/10 to-purple-500/10 border border-blue-500/20 rounded-xl p-6">
                      <p className="text-gray-200 text-base leading-relaxed mb-4">
                        Dynamic Routing analyzes the input, user/context, and system state to select the best processing path at runtime. 
                        A router (rules, feature scorer/classifier, or a lightweight LLM gate) produces a route decision with confidence, 
                        optional alternatives, and a safe default. Policies can adapt to budgets, SLAs, and drift.
                      </p>
                      <div className="grid grid-cols-2 md:grid-cols-4 gap-4 mt-4">
                        <div className="text-center p-4 bg-gray-800/30 rounded-lg">
                          <div className="text-2xl mb-2">🔀</div>
                          <div className="text-xs text-gray-400 mb-1">Flow</div>
                          <div className="text-sm font-medium text-white">Route to optimal path</div>
                        </div>
                        <div className="text-center p-4 bg-gray-800/30 rounded-lg">
                          <div className="text-2xl mb-2">🧮</div>
                          <div className="text-xs text-gray-400 mb-1">Policy</div>
                          <div className="text-sm font-medium text-white">Rules/ML/LLM gate</div>
                        </div>
                        <div className="text-center p-4 bg-gray-800/30 rounded-lg">
                          <div className="text-2xl mb-2">📉</div>
                          <div className="text-xs text-gray-400 mb-1">Confidence</div>
                          <div className="text-sm font-medium text-white">Thresholds & fallback</div>
                        </div>
                        <div className="text-center p-4 bg-gray-800/30 rounded-lg">
                          <div className="text-2xl mb-2">⚙️</div>
                          <div className="text-xs text-gray-400 mb-1">Adaptation</div>
                          <div className="text-sm font-medium text-white">Budgets & drift-aware</div>
                        </div>
                      </div>
                    </div>
                  </section>

                  {/* Workflow / Steps */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-purple-500 rounded-full"></div>
                      Workflow / Steps
                    </h2>
                    <div className="bg-gradient-to-br from-purple-500/10 to-blue-500/10 border border-purple-500/20 rounded-xl p-6">
                      <ol className="list-decimal list-inside space-y-2 text-gray-200 text-sm">
                        <li>Define routing objectives, candidate paths, and consistent I/O contracts per path.</li>
                        <li>Extract routing features (content type, complexity, user profile, channel, recency, budget/SLA, risk).</li>
                        <li>Score paths with a policy (rules, classifier, small LLM gate); compute confidence.</li>
                        <li>Select path; if low confidence, use safe default or fallback. Optionally shadow top-2 for evaluation.</li>
                        <li>Execute selected branch; validate outputs against schema; optionally merge if multiple were explored.</li>
                        <li>Log features, decision, confidence, and per-branch metrics for monitoring/audit.</li>
                        <li>Periodically evaluate, recalibrate thresholds, and update policy using labeled or feedback data.</li>
                      </ol>
                    </div>
                  </section>

                  {/* Best Practices */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-green-500 rounded-full"></div>
                      Best Practices
                    </h2>
                    <div className="grid gap-3">
                      {[
                        'Decouple router policy from branch implementations; version and A/B test independently',
                        'Standardize schemas across branches; keep inputs/outputs compatible for optional merging',
                        'Calibrate confidence; set thresholds and always provide a safe default route',
                        'Prefer lightweight policies (rules/small model) to minimize router latency and cost',
                        'Apply budgets and backpressure; cap exploration and avoid thrashing between paths',
                        'Enable shadow mode before full rollout; log features/decisions for audit and drift detection',
                        'Cache invariant artifacts (retrievals, profiles) and reuse across runs',
                        'Introduce human-in-the-loop for high-stakes or low-confidence cases'
                      ].map((tip) => (
                        <div key={tip} className="flex items-start gap-3 p-3 bg-gray-800/40 rounded-lg">
                          <Check className="w-5 h-5 text-green-400 mt-0.5 flex-shrink-0" />
                          <span className="text-gray-300 text-sm leading-relaxed">{tip}</span>
                        </div>
                      ))}
                    </div>
                  </section>

                  {/* When NOT to Use */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-red-500 rounded-full"></div>
                      When NOT to Use
                    </h2>
                    <div className="bg-gray-800/40 rounded-lg p-6 border border-gray-700/40">
                      <ul className="list-disc list-inside space-y-2 text-gray-300 text-sm">
                        <li>Homogeneous tasks where a single well-tuned path suffices.</li>
                        <li>Very small workloads where router overhead outweighs benefits.</li>
                        <li>Hard real-time ultra-low latency contexts that cannot afford routing/gating.</li>
                        <li>Insufficient data to calibrate/evaluate routing reliability.</li>
                        <li>Safety-critical scenarios without rigorous evaluation and fallback procedures.</li>
                      </ul>
                    </div>
                  </section>

                  {/* Common Pitfalls */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-amber-500 rounded-full"></div>
                      Common Pitfalls
                    </h2>
                    <div className="bg-gray-800/40 rounded-lg p-6 border border-gray-700/40">
                      <ul className="list-disc list-inside space-y-2 text-gray-300 text-sm">
                        <li>Overfitted router prompts/policies that don’t generalize; unstable decisions.</li>
                        <li>Inconsistent schemas between branches leading to brittle integrations.</li>
                        <li>Missing default/fallback path causing drops or poor UX on low confidence.</li>
                        <li>Exploring multiple branches in production without caps → cost spikes.</li>
                        <li>Thrashing between paths due to jittery thresholds or poorly chosen features.</li>
                        <li>Insufficient logging and no drift detection; hard to audit or improve.</li>
                      </ul>
                    </div>
                  </section>

                  {/* Key Features */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-cyan-500 rounded-full"></div>
                      Key Features
                    </h2>
                    <div className="grid grid-cols-1 md:grid-cols-2 gap-3">
                      {[
                        'Context-aware, multi-criteria decision logic',
                        'Confidence scoring, thresholds, and safe default fallback',
                        'Top-k/shadow routing and staged rollouts',
                        'Budget/SLA-aware path selection',
                        'Pluggable policies: rules, ML classifiers, or LLM gate',
                        'Decision logging, explainability, and audit trails',
                        'Drift detection and online calibration',
                        'Optional merge/rejoin after specialized branches'
                      ].map((f) => (
                        <div key={f} className="p-3 bg-gray-800/40 rounded-lg text-gray-300 text-sm">{f}</div>
                      ))}
                    </div>
                  </section>

                  {/* KPIs / Success Metrics */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-emerald-500 rounded-full"></div>
                      KPIs / Success Metrics
                    </h2>
                    <div className="bg-gray-800/40 rounded-lg p-6 border border-gray-700/40">
                      <ul className="list-disc list-inside space-y-2 text-gray-300 text-sm">
                        <li>Routing accuracy vs. oracle/evaluator; misroute rate.</li>
                        <li>Calibration quality (ECE/Brier score); threshold precision/recall.</li>
                        <li>Fallback/default rate and low-confidence frequency.</li>
                        <li>Per-branch success/quality and user satisfaction.</li>
                        <li>Cost per task and savings vs. single-path baseline.</li>
                        <li>Routing latency overhead (P50/P95) and tail behavior.</li>
                        <li>Drift indicators (feature/decision distribution shifts); re-route/override rate.</li>
                      </ul>
                    </div>
                  </section>

                  {/* Token / Resource Usage */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-pink-500 rounded-full"></div>
                      Token / Resource Usage
                    </h2>
                    <div className="bg-gray-800/40 rounded-lg p-6 border border-gray-700/40">
                      <ul className="list-disc list-inside space-y-2 text-gray-300 text-sm">
                        <li>Total ≈ router tokens + selected-branch tokens (+ optional shadow/merge).</li>
                        <li>Prefer rules or a small model for routing; reserve strongest models for branches.</li>
                        <li>Cache precomputed features and invariant artifacts; pass distilled context, not full transcripts.</li>
                        <li>Avoid top-k exploration in production; use sampling/shadow for evaluation only.</li>
                        <li>Apply backpressure and per-run budgets; cap retries and exploration.</li>
                        <li>Batch where possible and deduplicate prompts; share context by ID/reference.</li>
                      </ul>
                    </div>
                  </section>

                  {/* Best Use Cases */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-indigo-500 rounded-full"></div>
                      Best Use Cases
                    </h2>
                    <div className="bg-gray-800/40 rounded-lg p-6 border border-gray-700/40">
                      <ul className="list-disc list-inside space-y-2 text-gray-300 text-sm">
                        <li>Customer support triage across intents/severity to specialized agents.</li>
                        <li>Personalization by audience/channel/tone with targeted prompt paths.</li>
                        <li>Knowledge workflows choosing retrieval-heavy vs. expert synthesis paths.</li>
                        <li>Quality gating: route to evaluator/refiner only when needed.</li>
                        <li>Tool/agent selection and delegation based on task capability fit.</li>
                        <li>Cost-aware model selection (small vs. large model gating).</li>
                      </ul>
                    </div>
                  </section>

                  {/* References & Further Reading */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-yellow-500 rounded-full"></div>
                      References & Further Reading
                    </h2>
                    <div className="grid grid-cols-1 md:grid-cols-2 gap-4">
                      <div className="p-4 bg-gray-800/40 rounded-lg border border-gray-700/40">
                        <h3 className="text-white font-medium mb-2">Academic Papers</h3>
                        <ul className="list-disc list-inside text-gray-300 text-sm space-y-1">
                          <li>Switch Transformers / Mixture-of-Experts routing</li>
                          <li>Routing Transformers and attention routing variants</li>
                          <li>LLM Router/Gating for MoE and Mixture-of-Agents (2023–2024)</li>
                          <li>Calibration and confidence estimation for decision systems</li>
                        </ul>
                      </div>
                      <div className="p-4 bg-gray-800/40 rounded-lg border border-gray-700/40">
                        <h3 className="text-white font-medium mb-2">Implementation Guides</h3>
                        <ul className="list-disc list-inside text-gray-300 text-sm space-y-1">
                          <li>LangGraph decision routers and conditional edges</li>
                          <li>LangChain router chains and LLMRouter patterns</li>
                          <li>LlamaIndex decision routers and selectors</li>
                          <li>DSPy gating and evaluator-driven policies</li>
                        </ul>
                      </div>
                      <div className="p-4 bg-gray-800/40 rounded-lg border border-gray-700/40">
                        <h3 className="text-white font-medium mb-2">Tools & Libraries</h3>
                        <ul className="list-disc list-inside text-gray-300 text-sm space-y-1">
                          <li>LangGraph, LangChain, LlamaIndex routing components</li>
                          <li>Feature stores and evaluators (MLflow, Evidently) for calibration</li>
                          <li>Rule engines (JSONLogic, Semgrep-like policies) for lightweight routing</li>
                          <li>Workflow orchestrators (Temporal, Ray) with gating hooks</li>
                        </ul>
                      </div>
                      <div className="p-4 bg-gray-800/40 rounded-lg border border-gray-700/40">
                        <h3 className="text-white font-medium mb-2">Community & Discussions</h3>
                        <ul className="list-disc list-inside text-gray-300 text-sm space-y-1">
                          <li>Papers with Code collections on MoE and routing</li>
                          <li>Open-source forums on LLM systems and LangGraph communities</li>
                          <li>LLM ops communities on evaluation, calibration, and drift</li>
                        </ul>
                      </div>
                    </div>
                  </section>
                </>
              ) : selectedTechnique.id === 'context-routing' ? (
                <>
                  {/* Core Mechanism (short conceptual overview) */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-blue-500 rounded-full"></div>
                      Core Mechanism (short conceptual overview)
                    </h2>
                    <div className="bg-gradient-to-br from-blue-500/10 to-purple-500/10 border border-blue-500/20 rounded-xl p-6">
                      <p className="text-gray-200 text-base leading-relaxed mb-4">
                        Intelligent Context Routing decomposes incoming context (content, metadata, constraints) and matches each
                        portion to the most appropriate processing component based on capability fit, policy constraints, and
                        real-time signals. A router evaluates relevance, sensitivity, and utility, then routes minimal sufficient
                        context to specialist components, preserving provenance and enabling safe aggregation of results.
                      </p>
                      <div className="grid grid-cols-2 md:grid-cols-4 gap-4 mt-4">
                        <div className="text-center p-4 bg-gray-800/30 rounded-lg">
                          <div className="text-2xl mb-2">🧭</div>
                          <div className="text-xs text-gray-400 mb-1">Decompose</div>
                          <div className="text-sm font-medium text-white">Split context by modality/topic/sensitivity</div>
                        </div>
                        <div className="text-center p-4 bg-gray-800/30 rounded-lg">
                          <div className="text-2xl mb-2">🎯</div>
                          <div className="text-xs text-gray-400 mb-1">Match</div>
                          <div className="text-sm font-medium text-white">Capability + policy aware routing</div>
                        </div>
                        <div className="text-center p-4 bg-gray-800/30 rounded-lg">
                          <div className="text-2xl mb-2">🛡️</div>
                          <div className="text-xs text-gray-400 mb-1">Protect</div>
                          <div className="text-sm font-medium text-white">Minimize/redact; comply by design</div>
                        </div>
                        <div className="text-center p-4 bg-gray-800/30 rounded-lg">
                          <div className="text-2xl mb-2">🔗</div>
                          <div className="text-xs text-gray-400 mb-1">Aggregate</div>
                          <div className="text-sm font-medium text-white">Provenance-aware merge of outputs</div>
                        </div>
                      </div>
                    </div>
                  </section>

                  {/* Workflow / Steps */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-purple-500 rounded-full"></div>
                      Workflow / Steps
                    </h2>
                    <div className="bg-gradient-to-br from-purple-500/10 to-blue-500/10 border border-purple-500/20 rounded-xl p-6">
                      <ol className="list-decimal list-inside space-y-2 text-gray-200 text-sm">
                        <li>Ingest request + context; extract metadata (modality, sensitivity/PII, domain, language, SLA, budget).</li>
                        <li>Decompose context into units (segments/chunks/signals) with labels and provenance.</li>
                        <li>Consult capability registry (skills, models, tools, regions, compliance tags, cost/latency profiles).</li>
                        <li>Score matches per unit: relevance × capability fit × policy/compliance × cost/latency.</li>
                        <li>Route minimal necessary context to selected components; apply redaction and minimization.</li>
                        <li>Execute components; enforce ordering/dependencies; cache reusable intermediates.</li>
                        <li>Aggregate results with provenance; validate schema/quality; reconcile conflicts.</li>
                        <li>Log features, decisions, and outcomes for audit, evaluation, and drift monitoring.</li>
                      </ol>
                    </div>
                  </section>

                  {/* Best Practices */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-green-500 rounded-full"></div>
                      Best Practices
                    </h2>
                    <div className="grid gap-3">
                      {[
                        'Use a typed context schema with sensitivity/PII flags, modality, provenance, and TTL.',
                        'Maintain an up-to-date capability registry with SLAs, cost, compliance regions, and evaluations.',
                        'Prefer routing via features/IDs over raw payloads; minimize and redact before dispatch.',
                        'Standardize I/O contracts for components to enable safe substitution and merging.',
                        'Budget-first routing: set token/time/cost caps per unit and choose cheapest viable path.',
                        'Calibrate router confidence and always define a safe default/fallback route.',
                        'Enable shadow routing in staging; compare decisions vs. oracle/evaluator before rollout.',
                        'Record rationale and evidence for each decision to support audit and improvement.'
                      ].map((tip) => (
                        <div key={tip} className="flex items-start gap-3 p-3 bg-gray-800/40 rounded-lg">
                          <Check className="w-5 h-5 text-green-400 mt-0.5 flex-shrink-0" />
                          <span className="text-gray-300 text-sm leading-relaxed">{tip}</span>
                        </div>
                      ))}
                    </div>
                  </section>

                  {/* When NOT to Use */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-red-500 rounded-full"></div>
                      When NOT to Use
                    </h2>
                    <div className="bg-gray-800/40 rounded-lg p-6 border border-gray-700/40">
                      <ul className="list-disc list-inside space-y-2 text-gray-300 text-sm">
                        <li>Simple, single-component tasks where decomposition adds overhead without benefit.</li>
                        <li>Very small systems lacking capability diversity or metadata to inform routing.</li>
                        <li>Hard real-time micro-latency constraints that cannot afford routing/decomposition.</li>
                        <li>Contexts with strict data residency constraints but no compliant target components.</li>
                      </ul>
                    </div>
                  </section>

                  {/* Common Pitfalls */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-amber-500 rounded-full"></div>
                      Common Pitfalls
                    </h2>
                    <div className="bg-gray-800/40 rounded-lg p-6 border border-gray-700/40">
                      <ul className="list-disc list-inside space-y-2 text-gray-300 text-sm">
                        <li>Passing full payloads through the router causing privacy risk and cost bloat.</li>
                        <li>Inconsistent schemas across components leading to fragile integrations.</li>
                        <li>Over-decomposition causing excessive fan-out and token/latency spikes.</li>
                        <li>Missing default/fallback path or escalation for low-confidence decisions.</li>
                        <li>Stale capability registry or policy maps causing misroutes/non-compliance.</li>
                      </ul>
                    </div>
                  </section>

                  {/* Key Features */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-cyan-500 rounded-full"></div>
                      Key Features
                    </h2>
                    <div className="grid grid-cols-1 md:grid-cols-2 gap-3">
                      {[
                        'Context decomposition with labels, sensitivity, and provenance',
                        'Capability- and policy-aware matching with confidence scoring',
                        'Redaction/minimization and least-privilege context delivery',
                        'Budget/SLA aware routing and backpressure',
                        'Provenance-preserving aggregation and validation',
                        'Decision logging, explainability, and audit trails',
                        'Drift and coverage monitoring with evaluators',
                        'Pluggable router policy: rules, classifiers, or lightweight LLM gate'
                      ].map((f) => (
                        <div key={f} className="p-3 bg-gray-800/40 rounded-lg text-gray-300 text-sm border border-gray-700/40">{f}</div>
                      ))}
                    </div>
                  </section>

                  {/* KPIs / Success Metrics */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-emerald-500 rounded-full"></div>
                      KPIs / Success Metrics
                    </h2>
                    <div className="bg-gray-800/40 rounded-lg p-6 border border-gray-700/40">
                      <ul className="list-disc list-inside space-y-2 text-gray-300 text-sm">
                        <li>Routing accuracy vs. oracle/evaluator; misroute rate; coverage of required components.</li>
                        <li>Latency overhead of routing/decomposition (P50/P95) and end-to-end impact.</li>
                        <li>Token efficiency (quality per 1K tokens) and cost per task vs. monolithic baseline.</li>
                        <li>Fallback/default frequency; override/escalation rate and time-to-recovery.</li>
                        <li>Compliance incidents prevented; PII leakage rate; residency adherence.</li>
                        <li>Cache hit ratios for reused context/intermediates; utilization balance of specialists.</li>
                      </ul>
                    </div>
                  </section>

                  {/* Token / Resource Usage */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-pink-500 rounded-full"></div>
                      Token / Resource Usage
                    </h2>
                    <div className="bg-gray-800/40 rounded-lg p-6 border border-gray-700/40">
                      <ul className="list-disc list-inside space-y-2 text-gray-300 text-sm">
                        <li>Total ≈ router features/tokens + per-component context + aggregation. Keep the router light.</li>
                        <li>Route features/IDs instead of raw text where possible; pass only minimal necessary context.</li>
                        <li>Use small models or rule engines for routing; reserve strong models for specialist processing.</li>
                        <li>Cache decomposed units and intermediate results; deduplicate across components.</li>
                        <li>Apply compression/summarization for sensitive or large segments before dispatch.</li>
                        <li>Cap fan-out and parallelism; enforce per-run token/time/cost budgets.</li>
                      </ul>
                    </div>
                  </section>

                  {/* Best Use Cases */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-indigo-500 rounded-full"></div>
                      Best Use Cases
                    </h2>
                    <div className="bg-gray-800/40 rounded-lg p-6 border border-gray-700/40">
                      <ul className="list-disc list-inside space-y-2 text-gray-300 text-sm">
                        <li>Multi-modal pipelines routing text/images/audio/video to specialized analyzers.</li>
                        <li>Enterprise assistants combining product docs, tickets, logs, and policy with provenance.</li>
                        <li>Multi-agent systems delegating context slices to domain specialists and evaluators.</li>
                        <li>Compliance-sensitive workflows requiring data minimization and residency guarantees.</li>
                        <li>Localization/translation flows where language/domain portions route to different components.</li>
                      </ul>
                    </div>
                  </section>

                  {/* References & Further Reading */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-yellow-500 rounded-full"></div>
                      References & Further Reading
                    </h2>
                    <div className="grid grid-cols-1 md:grid-cols-2 gap-4">
                      <div className="p-4 bg-gray-800/40 rounded-lg border border-gray-700/40">
                        <h3 className="text-white font-medium mb-2">Academic Papers</h3>
                        <ul className="list-disc list-inside text-gray-300 text-sm space-y-1">
                          <li>Enterprise Integration Patterns: Content-Based Router (Hohpe & Woolf, 2003)</li>
                          <li>Outrageously Large Neural Networks: The Sparsely-Gated Mixture-of-Experts Layer (Shazeer et al., 2017)</li>
                          <li>Switch Transformers: Scaling to Trillion Parameter Models with Simple and Efficient Sparsity (Fedus et al., 2021)</li>
                          <li>Routing Transformer (Roy et al., 2021)</li>
                          <li>FrugalGPT: How to Use Large Language Models While Reducing Cost and Improving Performance (2023)</li>
                        </ul>
                      </div>
                      <div className="p-4 bg-gray-800/40 rounded-lg border border-gray-700/40">
                        <h3 className="text-white font-medium mb-2">Implementation Guides</h3>
                        <ul className="list-disc list-inside text-gray-300 text-sm space-y-1">
                          <li>LangGraph decision routers and conditional edges</li>
                          <li>LangChain RouterChain / MultiPromptRouter</li>
                          <li>LlamaIndex RouterQueryEngine and selector components</li>
                          <li>Kafka/NATS/RabbitMQ content-based routing patterns</li>
                          <li>JSONLogic / JMESPath for rule evaluation; DSPy gating policies</li>
                        </ul>
                      </div>
                      <div className="p-4 bg-gray-800/40 rounded-lg border border-gray-700/40">
                        <h3 className="text-white font-medium mb-2">Tools & Libraries</h3>
                        <ul className="list-disc list-inside text-gray-300 text-sm space-y-1">
                          <li>LangGraph, LangChain, LlamaIndex routing components</li>
                          <li>Kafka, RabbitMQ, NATS for message routing</li>
                          <li>Feature stores/evaluators (MLflow, Evidently) for calibration</li>
                          <li>Vector DBs and embedding services for similarity matching</li>
                        </ul>
                      </div>
                      <div className="p-4 bg-gray-800/40 rounded-lg border border-gray-700/40">
                        <h3 className="text-white font-medium mb-2">Community & Discussions</h3>
                        <ul className="list-disc list-inside text-gray-300 text-sm space-y-1">
                          <li>Enterprise Integration Patterns community resources</li>
                          <li>LangChain/LangGraph and LlamaIndex community forums</li>
                          <li>MLOps communities on evaluation, routing, and drift</li>
                        </ul>
                      </div>
                    </div>
                  </section>
                </>
              ) : selectedTechnique.id === 'dynamic-context-assembly' ? (
                <>
                  {/* Core Mechanism (short conceptual overview) */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-blue-500 rounded-full"></div>
                      Core Mechanism
                    </h2>
                    <div className="bg-gradient-to-br from-blue-500/10 to-purple-500/10 border border-blue-500/20 rounded-xl p-6">
                      <p className="text-gray-200 text-base leading-relaxed mb-4">
                        Dynamic Context Assembly composes the optimal context window at runtime by analyzing the query,
                        scoring candidate sources (relevance, quality, freshness, diversity, risk), allocating a token budget
                        across sources, and assembling a deduplicated, compressed, and ordered context for generation.
                        The assembly adapts during generation using utilization signals and feedback.
                      </p>
                      <div className="grid grid-cols-2 md:grid-cols-4 gap-4 mt-4">
                        <div className="text-center p-4 bg-gray-800/30 rounded-lg">
                          <div className="text-2xl mb-2">🧭</div>
                          <div className="text-xs text-gray-400 mb-1">Analysis</div>
                          <div className="text-sm font-medium text-white">Intent & domain detection</div>
                        </div>
                        <div className="text-center p-4 bg-gray-800/30 rounded-lg">
                          <div className="text-2xl mb-2">📊</div>
                          <div className="text-xs text-gray-400 mb-1">Scoring</div>
                          <div className="text-sm font-medium text-white">Relevance × quality × freshness</div>
                        </div>
                        <div className="text-center p-4 bg-gray-800/30 rounded-lg">
                          <div className="text-2xl mb-2">🧱</div>
                          <div className="text-xs text-gray-400 mb-1">Budgeting</div>
                          <div className="text-sm font-medium text-white">Token allocation per source</div>
                        </div>
                        <div className="text-center p-4 bg-gray-800/30 rounded-lg">
                          <div className="text-2xl mb-2">🧹</div>
                          <div className="text-xs text-gray-400 mb-1">Normalization</div>
                          <div className="text-sm font-medium text-white">Dedup + compression + ordering</div>
                        </div>
                      </div>
                    </div>
                  </section>

                  {/* Workflow / Steps */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-purple-500 rounded-full"></div>
                      Workflow / Steps
                    </h2>
                    <div className="bg-gradient-to-br from-purple-500/10 to-blue-500/10 border border-purple-500/20 rounded-xl p-6">
                      <ol className="list-decimal list-inside space-y-2 text-gray-200 text-sm">
                        <li>Parse query for domains, intent, complexity, time-sensitivity, and constraints.</li>
                        <li>Enumerate candidate sources (KB, vector DB, docs, APIs, logs) with metadata and costs.</li>
                        <li>Score candidates on relevance, quality, freshness, coverage, risk; calibrate scores.</li>
                        <li>Allocate token budget across sources; set per-source caps and ordering policy.</li>
                        <li>Retrieve top chunks; deduplicate semantically; compress while preserving salience.</li>
                        <li>Assemble context with clear sectioning and provenance; include task-specific hints.</li>
                        <li>Generate; monitor utilization and citations; adapt weights or re-pull on gaps.</li>
                        <li>Log features, decisions, budgets, and outcomes; feed back to improve scoring.</li>
                      </ol>
                    </div>
                  </section>

                  {/* Best Practices */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-green-500 rounded-full"></div>
                      Best Practices
                    </h2>
                    <div className="grid gap-3">
                      {[
                        'Maintain a typed source registry with SLAs, costs, freshness, and compliance tags.',
                        'Use calibrated scorers (BM25/embedding + rerankers) and combine with quality/freshness weights.',
                        'Budget first: decide token allocation and per-source caps before retrieval.',
                        'Normalize: deduplicate semantically, remove boilerplate, and compress with salience-aware summaries.',
                        'Keep provenance (source, chunk id, timestamp) and surface citations in outputs.',
                        'Cache frequent queries and intermediate retrievals; invalidate with freshness rules.',
                        'Introduce diversity constraints to avoid near-duplicate evidence; prefer complementary sources.',
                        'Guardrails: PII/compliance filters pre- and post-assembly; enforce allow/deny by region/role.',
                        'Online evaluation loop using labeled queries and rubric-based graders; close the feedback cycle.',
                        'Shadow new assembly policies before rollout; compare cost/quality vs. current baseline.'
                      ].map((tip) => (
                        <div key={tip} className="flex items-start gap-3 p-3 bg-gray-800/40 rounded-lg">
                          <Check className="w-5 h-5 text-green-400 mt-0.5 flex-shrink-0" />
                          <span className="text-gray-300 text-sm leading-relaxed">{tip}</span>
                        </div>
                      ))}
                    </div>
                  </section>

                  {/* When NOT to Use */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-red-500 rounded-full"></div>
                      When NOT to Use
                    </h2>
                    <div className="bg-gray-800/40 rounded-lg p-6 border border-gray-700/40">
                      <ul className="list-disc list-inside space-y-2 text-gray-300 text-sm">
                        <li>Simple, single-source tasks where retrieval + direct prompting suffices.</li>
                        <li>Strict real-time constraints that cannot afford retrieval and reranking overhead.</li>
                        <li>Scenarios with tight compliance boundaries prohibiting cross-source mixing.</li>
                        <li>When high determinism is required and dynamic inputs may reduce reproducibility.</li>
                        <li>Very small contexts where assembly overhead outweighs benefit.</li>
                      </ul>
                    </div>
                  </section>

                  {/* Common Pitfalls */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-amber-500 rounded-full"></div>
                      Common Pitfalls
                    </h2>
                    <div className="bg-gray-800/40 rounded-lg p-6 border border-gray-700/40">
                      <ul className="list-disc list-inside space-y-2 text-gray-300 text-sm">
                        <li>Overfilling the window with redundant or low-salience chunks (“context stuffing”).</li>
                        <li>Ignoring deduplication and normalization → diluted signals and higher cost.</li>
                        <li>Using stale content due to missing freshness policies or cache invalidation.</li>
                        <li>Uncalibrated scores; heavy reliance on a single similarity metric.</li>
                        <li>No provenance or citations; harder to audit, recover, or debug hallucinations.</li>
                        <li>Unbounded token growth without strict per-source caps and global budgets.</li>
                      </ul>
                    </div>
                  </section>

                  {/* Key Features */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-cyan-500 rounded-full"></div>
                      Key Features
                    </h2>
                    <div className="grid grid-cols-1 md:grid-cols-2 gap-3">
                      {[
                        'Multi-source fusion with calibrated relevance/quality/freshness weighting',
                        'Budgeted token allocation and ordering policy',
                        'Semantic deduplication, normalization, and compression',
                        'Adaptive assembly with utilization feedback during generation',
                        'Caching, prewarming, and freshness-aware invalidation',
                        'Provenance, citations, and explainable assembly rationale',
                        'Compliance and safety filtering pre/post assembly'
                      ].map((f) => (
                        <div key={f} className="p-3 bg-gray-800/40 rounded-lg text-gray-300 text-sm">{f}</div>
                      ))}
                    </div>
                  </section>

                  {/* KPIs / Success Metrics */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-emerald-500 rounded-full"></div>
                      KPIs / Success Metrics
                    </h2>
                    <div className="bg-gray-800/40 rounded-lg p-6 border border-gray-700/40">
                      <ul className="list-disc list-inside space-y-2 text-gray-300 text-sm">
                        <li>Relevance coverage and answer quality vs. evaluator/oracle.</li>
                        <li>Source utilization efficiency and marginal benefit per token.</li>
                        <li>Novelty/diversity score; reduction in redundancy.</li>
                        <li>Token efficiency (quality per 1K tokens) and total cost per answer.</li>
                        <li>Latency overhead of assembly (P50/P95) and generation completion rate.</li>
                        <li>Hallucination rate and citation accuracy/consistency.</li>
                        <li>Freshness adherence and SLA compliance for time-sensitive queries.</li>
                      </ul>
                    </div>
                  </section>

                  {/* Token / Resource Usage */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-pink-500 rounded-full"></div>
                      Token / Resource Usage
                    </h2>
                    <div className="bg-gray-800/40 rounded-lg p-6 border border-gray-700/40">
                      <ul className="list-disc list-inside space-y-2 text-gray-300 text-sm">
                        <li>Total ≈ query analysis + scoring + retrieval + assembled context + generation.</li>
                        <li>Use small, fast models for scoring/reranking; reserve large models for generation.</li>
                        <li>Set strict per-source caps and global budgets; prefer compression over dropping sources.</li>
                        <li>Exploit caching and prefetch for hot queries; stream retrieval to overlap with scoring.</li>
                        <li>Prefer rerankers to reduce k before assembly; adjust chunk size for salience density.</li>
                        <li>Throttle concurrency and apply backpressure; avoid explosive fan-out across sources.</li>
                      </ul>
                    </div>
                  </section>

                  {/* Best Use Cases */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-indigo-500 rounded-full"></div>
                      Best Use Cases
                    </h2>
                    <div className="bg-gray-800/40 rounded-lg p-6 border border-gray-700/40">
                      <ul className="list-disc list-inside space-y-2 text-gray-300 text-sm">
                        <li>Multi-domain question answering and enterprise knowledge synthesis.</li>
                        <li>Research assistants comparing papers, standards, and reports across sources.</li>
                        <li>Analyst copilots needing balanced evidence and citations.</li>
                        <li>Customer support with product docs, tickets, and policy KBs.</li>
                        <li>Compliance/policy answering requiring provenance and freshness.</li>
                      </ul>
                    </div>
                  </section>

                  {/* References & Further Reading */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-yellow-500 rounded-full"></div>
                      References & Further Reading
                    </h2>
                    <div className="grid grid-cols-1 md:grid-cols-2 gap-4">
                      <div className="p-4 bg-gray-800/40 rounded-lg border border-gray-700/40">
                        <h3 className="text-white font-medium mb-2">Academic Papers</h3>
                        <ul className="list-disc list-inside text-gray-300 text-sm space-y-1">
                          <li>Retrieval-Augmented Generation (Lewis et al., 2020)</li>
                          <li>Self-RAG and feedback-aware retrieval (Asai et al., 2023)</li>
                          <li>HyDE: Hypothetical Document Embeddings (Gao et al., 2022)</li>
                          <li>Fusion-in-Decoder and reranking techniques for open-domain QA</li>
                          <li>Mixture-of-Experts routing and gating for conditional computation</li>
                        </ul>
                      </div>
                      <div className="p-4 bg-gray-800/40 rounded-lg border border-gray-700/40">
                        <h3 className="text-white font-medium mb-2">Implementation Guides</h3>
                        <ul className="list-disc list-inside text-gray-300 text-sm space-y-1">
                          <li>Multi-source RAG orchestration and context assembly patterns</li>
                          <li>LangGraph/LangChain routing + RAG pipelines with rerankers</li>
                          <li>LlamaIndex QueryEngine + Node PostProcessors for compression</li>
                          <li>DSPy pipelines with retrieval, rerank, and adaptive prompting</li>
                        </ul>
                      </div>
                      <div className="p-4 bg-gray-800/40 rounded-lg border border-gray-700/40">
                        <h3 className="text-white font-medium mb-2">Tools & Libraries</h3>
                        <ul className="list-disc list-inside text-gray-300 text-sm space-y-1">
                          <li>LangGraph, LangChain, LlamaIndex, DSPy, Haystack</li>
                          <li>Vector DBs: FAISS, Pinecone, Weaviate, Milvus, Vectara</li>
                          <li>Rerankers: Cohere Rerank, ColBERT, cross-encoders</li>
                          <li>Compression: token/semantic compressors and TL;DR summarizers</li>
                        </ul>
                      </div>
                      <div className="p-4 bg-gray-800/40 rounded-lg border border-gray-700/40">
                        <h3 className="text-white font-medium mb-2">Community & Discussions</h3>
                        <ul className="list-disc list-inside text-gray-300 text-sm space-y-1">
                          <li>RAG surveys and best practices (2023–2025)</li>
                          <li>LlamaIndex and LangChain community forums</li>
                          <li>LLM ops groups on evaluation, routing, and context optimization</li>
                        </ul>
                      </div>
                    </div>
                  </section>
                </>
              ) : selectedTechnique.id === 'capability-routing' ? (
                <>
                  {/* Core Mechanism (short conceptual overview) */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-blue-500 rounded-full"></div>
                      Core Mechanism
                    </h2>
                    <div className="bg-gradient-to-br from-blue-500/10 to-purple-500/10 border border-blue-500/20 rounded-xl p-6">
                      <p className="text-gray-200 text-base leading-relaxed mb-4">
                        Capability Routing assigns each task to the best-suited agent or compute node using a capability model
                        (skills, tools, models, hardware) and live performance/availability signals. A router computes a
                        multi-objective score (fit × quality × cost × SLA) and selects the assignee with safe fallbacks.
                      </p>
                      <div className="grid grid-cols-2 md:grid-cols-4 gap-4 mt-4">
                        <div className="text-center p-4 bg-gray-800/30 rounded-lg">
                          <div className="text-2xl mb-2">🎯</div>
                          <div className="text-xs text-gray-400 mb-1">Matching</div>
                          <div className="text-sm font-medium text-white">Skills ⇄ Task requirements</div>
                        </div>
                        <div className="text-center p-4 bg-gray-800/30 rounded-lg">
                          <div className="text-2xl mb-2">🧮</div>
                          <div className="text-xs text-gray-400 mb-1">Scoring</div>
                          <div className="text-sm font-medium text-white">Multi-objective (quality/cost/SLA)</div>
                        </div>
                        <div className="text-center p-4 bg-gray-800/30 rounded-lg">
                          <div className="text-2xl mb-2">⚡</div>
                          <div className="text-xs text-gray-400 mb-1">Signals</div>
                          <div className="text-sm font-medium text-white">Utilization & availability aware</div>
                        </div>
                        <div className="text-center p-4 bg-gray-800/30 rounded-lg">
                          <div className="text-2xl mb-2">🛡️</div>
                          <div className="text-xs text-gray-400 mb-1">Safety</div>
                          <div className="text-sm font-medium text-white">Fallbacks & guardrails</div>
                        </div>
                      </div>
                    </div>
                  </section>

                  {/* Workflow / Steps */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-purple-500 rounded-full"></div>
                      Workflow / Steps
                    </h2>
                    <div className="bg-gradient-to-br from-purple-500/10 to-blue-500/10 border border-purple-500/20 rounded-xl p-6">
                      <ol className="list-decimal list-inside space-y-2 text-gray-200 text-sm">
                        <li>Define capability schema (skills/tools/models/hardware) with levels and recency.</li>
                        <li>Extract task requirements (domain, modality, complexity, SLA, risk) into structured features.</li>
                        <li>Score candidates using a weighted function (capability fit × historical quality × freshness).</li>
                        <li>Apply live signals: utilization, queue length, health, cost, and data locality/compliance.</li>
                        <li>Select primary assignee; set fallback/backup; emit rationale and confidence.</li>
                        <li>Execute; validate outputs with schema/rubric; auto-escalate on failure or low score.</li>
                        <li>Log decisions and outcomes; update capability profiles and weights via feedback.</li>
                      </ol>
                    </div>
                  </section>

                  {/* Best Practices */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-green-500 rounded-full"></div>
                      Best Practices
                    </h2>
                    <div className="grid gap-3">
                      {[
                        'Maintain a normalized skill matrix with evidence (evaluations, recency, provenance).',
                        'Use multi-objective scoring with explicit weights for quality, cost, latency, and risk.',
                        'Continuously calibrate using labeled tasks and post-task evaluations; retrain weights periodically.',
                        'Incorporate availability/utilization to prevent hotspots and reduce queue time.',
                        'Provide a safe default/fallback and escalation policy; avoid dead-ends.',
                        'Version capability profiles; expire stale skills and penalize outdated evidence.',
                        'Isolate sensitive tasks with compliance constraints (geo, PII, model policy).',
                        'Log features, rationale, confidence, and outcomes for audit and drift detection.'
                      ].map((tip) => (
                        <div key={tip} className="flex items-start gap-3 p-3 bg-gray-800/40 rounded-lg">
                          <Check className="w-5 h-5 text-green-400 mt-0.5 flex-shrink-0" />
                          <span className="text-gray-300 text-sm leading-relaxed">{tip}</span>
                        </div>
                      ))}
                    </div>
                  </section>

                  {/* When NOT to Use */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-red-500 rounded-full"></div>
                      When NOT to Use
                    </h2>
                    <div className="bg-gray-800/40 rounded-lg p-6 border border-gray-700/40">
                      <ul className="list-disc list-inside space-y-2 text-gray-300 text-sm">
                        <li>Uniform tasks where a single well-tuned path performs consistently well.</li>
                        <li>No reliable capability metadata or evaluation history to inform matching.</li>
                        <li>Very small teams/systems where manual routing is simpler and cheaper.</li>
                        <li>Hard real-time micro-latency contexts where scoring overhead is unacceptable.</li>
                      </ul>
                    </div>
                  </section>

                  {/* Common Pitfalls */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-amber-500 rounded-full"></div>
                      Common Pitfalls
                    </h2>
                    <div className="bg-gray-800/40 rounded-lg p-6 border border-gray-700/40">
                      <ul className="list-disc list-inside space-y-2 text-gray-300 text-sm">
                        <li>Stale capability profiles; skills drift without decay/recency tracking.</li>
                        <li>Ignoring utilization causing hotspots, starvation, or thrashing.</li>
                        <li>Opaque scoring; no rationale/confidence, hard to debug misroutes.</li>
                        <li>Bias in assignments (e.g., always routing “hard” tasks to the same agents) without fairness guards.</li>
                        <li>No safe fallback or escalation, leading to dropped or stuck tasks.</li>
                      </ul>
                    </div>
                  </section>

                  {/* Key Features */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-cyan-500 rounded-full"></div>
                      Key Features
                    </h2>
                    <div className="grid grid-cols-1 md:grid-cols-2 gap-3">
                      {[
                        'Structured skill/capability matrix with levels and evidence',
                        'Multi-objective matching: quality, cost, latency, risk',
                        'Utilization-, health-, and queue-aware routing',
                        'Compliance-aware constraints (region, policy, data class)',
                        'Rationale and confidence per decision',
                        'Learning loop from outcomes and evaluator scores',
                        'Shadow/AB routing for evaluation before rollout',
                        'Fairness and anti-starvation safeguards'
                      ].map((f) => (
                        <div key={f} className="p-3 bg-gray-800/40 rounded-lg text-gray-300 text-sm">{f}</div>
                      ))}
                    </div>
                  </section>

                  {/* KPIs / Success Metrics */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-emerald-500 rounded-full"></div>
                      KPIs / Success Metrics
                    </h2>
                    <div className="bg-gray-800/40 rounded-lg p-6 border border-gray-700/40">
                      <ul className="list-disc list-inside space-y-2 text-gray-300 text-sm">
                        <li>Assignment accuracy vs. oracle/evaluator; misroute rate.</li>
                        <li>Task success/quality score deltas by assignee type.</li>
                        <li>Latency impact: routing overhead and end-to-end P50/P95.</li>
                        <li>Cost per task vs. baseline; cost-to-quality efficiency.</li>
                        <li>Utilization balance and queue times; starvation rate.</li>
                        <li>Fallback/escalation frequency and recovery time.</li>
                        <li>Fairness metrics: workload distribution, diversity of assignments.</li>
                      </ul>
                    </div>
                  </section>

                  {/* Token / Resource Usage */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-pink-500 rounded-full"></div>
                      Token / Resource Usage
                    </h2>
                    <div className="bg-gray-800/40 rounded-lg p-6 border border-gray-700/40">
                      <ul className="list-disc list-inside space-y-2 text-gray-300 text-sm">
                        <li>Keep router light: rules or small model; avoid large-model gating on hot paths.</li>
                        <li>Cache capability vectors/scores; update incrementally on events, not per-request recompute.</li>
                        <li>Pass distilled features or IDs to router; avoid full transcripts/documents.</li>
                        <li>Batch scoring where feasible; reuse embeddings and invariant features.</li>
                        <li>Monitor router token share vs. task tokens; cap exploration/shadow cost.</li>
                      </ul>
                    </div>
                  </section>

                  {/* Best Use Cases */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-indigo-500 rounded-full"></div>
                      Best Use Cases
                    </h2>
                    <div className="bg-gray-800/40 rounded-lg p-6 border border-gray-700/40">
                      <ul className="list-disc list-inside space-y-2 text-gray-300 text-sm">
                        <li>Customer support routing to domain specialists (billing, tech, legal).</li>
                        <li>Code tasks matched to language/framework experts or tools.</li>
                        <li>ML/compute workloads mapped to optimal hardware (GPU, CPU, memory-optimized, edge).</li>
                        <li>Document/data processing assigned to OCR, NLP, or analytics specialists.</li>
                        <li>Compliance-sensitive flows routed to approved regions/models.</li>
                      </ul>
                    </div>
                  </section>

                  {/* References & Further Reading */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-yellow-500 rounded-full"></div>
                      References & Further Reading
                    </h2>
                    <div className="grid grid-cols-1 md:grid-cols-2 gap-4">
                      <div className="p-4 bg-gray-800/40 rounded-lg border border-gray-700/40">
                        <h3 className="text-white font-medium mb-2">Academic Papers</h3>
                        <ul className="list-disc list-inside text-gray-300 text-sm space-y-1">
                          <li>Mixture-of-Experts and router/gating (Switch Transformers; GShard; GLaM)</li>
                          <li>Routing Transformers and conditional computation</li>
                          <li>Mixture-of-Agents and skill routing for LLM systems (2023–2024)</li>
                          <li>Scheduling and assignment under constraints (multi-objective optimization)</li>
                        </ul>
                      </div>
                      <div className="p-4 bg-gray-800/40 rounded-lg border border-gray-700/40">
                        <h3 className="text-white font-medium mb-2">Implementation Guides</h3>
                        <ul className="list-disc list-inside text-gray-300 text-sm space-y-1">
                          <li>LangGraph decision routers, selectors, and conditional edges</li>
                          <li>LangChain RouterChain / MultiPromptRouter</li>
                          <li>LlamaIndex RouterQueryEngine / agent selectors</li>
                          <li>Scheduling with Kubernetes queues/priority and autoscaling hooks</li>
                        </ul>
                      </div>
                      <div className="p-4 bg-gray-800/40 rounded-lg border border-gray-700/40">
                        <h3 className="text-white font-medium mb-2">Tools & Libraries</h3>
                        <ul className="list-disc list-inside text-gray-300 text-sm space-y-1">
                          <li>LangGraph, LangChain, LlamaIndex routing components</li>
                          <li>Feature stores and evaluators (MLflow, Evidently) for calibration</li>
                          <li>Workflow/scheduling: Temporal, Airflow, Ray, Kubernetes</li>
                          <li>Rule engines (JSONLogic) and vector DBs for similarity matching</li>
                        </ul>
                      </div>
                      <div className="p-4 bg-gray-800/40 rounded-lg border border-gray-700/40">
                        <h3 className="text-white font-medium mb-2">Community & Discussions</h3>
                        <ul className="list-disc list-inside text-gray-300 text-sm space-y-1">
                          <li>Papers with Code collections on MoE and routing</li>
                          <li>Open-source forums for multi-agent systems and orchestration</li>
                          <li>MLOps and platform engineering communities on scheduling/SLAs</li>
                        </ul>
                      </div>
                    </div>
                  </section>
                </>
              ) : selectedTechnique.id === 'load-balancing' ? (
                <>
                  {/* Core Mechanism (short conceptual overview) */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-blue-500 rounded-full"></div>
                      Core Mechanism
                    </h2>
                    <div className="bg-gradient-to-br from-blue-500/10 to-purple-500/10 border border-blue-500/20 rounded-xl p-6">
                      <p className="text-gray-200 text-base leading-relaxed mb-4">
                        Load Balancing continuously distributes incoming requests across a pool of workers based on live signals
                        such as utilization, queue length, health, latency, error rate, and cost. It selects a routing strategy
                        (e.g., round-robin, least-loaded, weighted, power-of-two choices, consistent hashing) and enforces
                        backpressure, retries with jitter, circuit breakers, and graceful draining for resilient traffic shaping.
                      </p>
                      <div className="grid grid-cols-2 md:grid-cols-4 gap-4 mt-4">
                        <div className="text-center p-4 bg-gray-800/30 rounded-lg">
                          <div className="text-2xl mb-2">⚖️</div>
                          <div className="text-xs text-gray-400 mb-1">Goal</div>
                          <div className="text-sm font-medium text-white">Even distribution & SLOs</div>
                        </div>
                        <div className="text-center p-4 bg-gray-800/30 rounded-lg">
                          <div className="text-2xl mb-2">📊</div>
                          <div className="text-xs text-gray-400 mb-1">Signals</div>
                          <div className="text-sm font-medium text-white">Utilization, queues, health</div>
                        </div>
                        <div className="text-center p-4 bg-gray-800/30 rounded-lg">
                          <div className="text-2xl mb-2">🧮</div>
                          <div className="text-xs text-gray-400 mb-1">Strategy</div>
                          <div className="text-sm font-medium text-white">Least-load, P2C, weighted</div>
                        </div>
                        <div className="text-center p-4 bg-gray-800/30 rounded-lg">
                          <div className="text-2xl mb-2">🛡️</div>
                          <div className="text-xs text-gray-400 mb-1">Resilience</div>
                          <div className="text-sm font-medium text-white">Retries, CBs, shedding</div>
                        </div>
                      </div>
                    </div>
                  </section>

                  {/* Workflow / Steps */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-purple-500 rounded-full"></div>
                      Workflow / Steps
                    </h2>
                    <div className="bg-gradient-to-br from-purple-500/10 to-blue-500/10 border border-purple-500/20 rounded-xl p-6">
                      <ol className="list-decimal list-inside space-y-2 text-gray-200 text-sm">
                        <li>Ingest request with metadata (tenant, affinity key, SLA, size).</li>
                        <li>Fetch live signals: health, utilization, queue depth, recent latency/error rates.</li>
                        <li>Classify workload if needed (CPU/GPU/IO heavy; stateful vs stateless; stickiness).</li>
                        <li>Select strategy and candidate pool (filters by capability/region/policy).</li>
                        <li>Choose target: least-loaded or power-of-two sampling; respect weights and stickiness.</li>
                        <li>Enforce backpressure: queue caps, request shedding, timeouts, and hedged requests if appropriate.</li>
                        <li>Monitor execution; retry with jitter on safe/idempotent operations; avoid retry storms.</li>
                        <li>Continuously rebalance and scale: slow-start new nodes; drain unhealthy nodes gracefully.</li>
                        <li>Emit metrics, traces, and decision rationale for observability and tuning.</li>
                      </ol>
                    </div>
                  </section>

                  {/* Best Practices */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-green-500 rounded-full"></div>
                      Best Practices
                    </h2>
                    <div className="grid gap-3">
                      {[
                        'Prefer power-of-two choices or least-loaded over naive round-robin for hot-spot avoidance.',
                        'Use active + passive health checks; treat signals as stale quickly and decay aggressively.',
                        'Implement backpressure: bounded queues, request shedding, and circuit breakers.',
                        'Apply retries with jitter and caps; only retry idempotent operations.',
                        'Enable slow-start/warmup for new nodes to prevent instant saturation.',
                        'Align autoscaling signals with balancing signals (utilization, queue time, P95 latency).',
                        'Use sticky sessions only when necessary; bound stickiness duration to avoid hotspots.',
                        'Segment pools by capability/region/compliance; use consistent hashing for cache locality.',
                        'Continuously watch tails (P95/P99); optimize for tail at scale, not just averages.',
                        'Record decision features and outcomes; run shadow/AB routing to validate changes.'
                      ].map((tip) => (
                        <div key={tip} className="flex items-start gap-3 p-3 bg-gray-800/40 rounded-lg">
                          <Check className="w-5 h-5 text-green-400 mt-0.5 flex-shrink-0" />
                          <span className="text-gray-300 text-sm leading-relaxed">{tip}</span>
                        </div>
                      ))}
                    </div>
                  </section>

                  {/* When NOT to Use */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-red-500 rounded-full"></div>
                      When NOT to Use
                    </h2>
                    <div className="bg-gray-800/40 rounded-lg p-6 border border-gray-700/40">
                      <ul className="list-disc list-inside space-y-2 text-gray-300 text-sm">
                        <li>Single-worker or trivially small deployments where static routing is simpler.</li>
                        <li>Strong state affinity without session persistence; prefer capability/state routing.</li>
                        <li>Strictly ordered or transactional workflows that require in-order processing.</li>
                        <li>Offline batch pipelines where a scheduler is more appropriate than online balancing.</li>
                        <li>Regulatory/data-locality constraints that dominate over distribution fairness.</li>
                      </ul>
                    </div>
                  </section>

                  {/* Common Pitfalls */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-amber-500 rounded-full"></div>
                      Common Pitfalls
                    </h2>
                    <div className="bg-gray-800/40 rounded-lg p-6 border border-gray-700/40">
                      <ul className="list-disc list-inside space-y-2 text-gray-300 text-sm">
                        <li>Optimizing for averages while P99 latency breaches SLAs (tail blindness).</li>
                        <li>Thrashing due to over-reactive rebalancing or stale health metrics.</li>
                        <li>Unbounded retries creating retry storms and cascading failures.</li>
                        <li>Sticky sessions pinning traffic to unhealthy nodes causing hotspots.</li>
                        <li>No slow-start; instantly flooding newly scaled instances.</li>
                        <li>Inconsistent hashing keys causing poor cache locality or skew.</li>
                      </ul>
                    </div>
                  </section>

                  {/* Key Features */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-cyan-500 rounded-full"></div>
                      Key Features
                    </h2>
                    <div className="grid grid-cols-1 md:grid-cols-2 gap-3">
                      {[
                        'Real-time health and utilization aware routing',
                        'Weighted policies, least-connections/latency, power-of-two choices',
                        'Sticky sessions and consistent hashing for cache/data locality',
                        'Backpressure: bounded queues, shedding, circuit breakers',
                        'Slow-start, graceful drain, and autoscaling integration',
                        'Observability: decision logs, traces, and SLO dashboards'
                      ].map((f) => (
                        <div key={f} className="p-3 bg-gray-800/40 rounded-lg text-gray-300 text-sm">{f}</div>
                      ))}
                    </div>
                  </section>

                  {/* KPIs / Success Metrics */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-emerald-500 rounded-full"></div>
                      KPIs / Success Metrics
                    </h2>
                    <div className="bg-gray-800/40 rounded-lg p-6 border border-gray-700/40">
                      <ul className="list-disc list-inside space-y-2 text-gray-300 text-sm">
                        <li>Latency: P50/P95/P99 end-to-end and per-tier.</li>
                        <li>Throughput and saturation point at target SLOs.</li>
                        <li>Error rate and retry rate; circuit-breaker open frequency.</li>
                        <li>Utilization balance: standard deviation across nodes/pools.</li>
                        <li>Queue wait time and shed/drop rate under load.</li>
                        <li>Failover time to recovery and success of hedged requests.</li>
                        <li>Cost per request vs. baseline; scale event efficiency.</li>
                      </ul>
                    </div>
                  </section>

                  {/* Token / Resource Usage */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-pink-500 rounded-full"></div>
                      Token / Resource Usage
                    </h2>
                    <div className="bg-gray-800/40 rounded-lg p-6 border border-gray-700/40 space-y-3 text-sm text-gray-300">
                      <p>Keep the router lightweight. Prefer metrics/rules or small models for gating. Avoid passing full payloads through the router; use IDs/features.</p>
                      <ul className="list-disc list-inside space-y-1">
                        <li>Batch and sample health signals; bound telemetry cost with histograms/sketches.</li>
                        <li>Cache node stats; refresh on intervals/events rather than per-request.</li>
                        <li>Use consistent keys for stickiness; cap session duration and memory overhead.</li>
                        <li>Record minimal decision features for analytics; ship full traces only on sampled requests.</li>
                        <li>In AI inference, route with cheap heuristics; reserve strong models for execution, not gating.</li>
                      </ul>
                    </div>
                  </section>

                  {/* Best Use Cases */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-indigo-500 rounded-full"></div>
                      Best Use Cases
                    </h2>
                    <div className="bg-gray-800/40 rounded-lg p-6 border border-gray-700/40">
                      <ul className="list-disc list-inside space-y-2 text-gray-300 text-sm">
                        <li>High-traffic APIs and microservices with variable load.</li>
                        <li>Multi-model inference and GPU/CPU pools (Ray Serve, vLLM, Triton, KServe).</li>
                        <li>Background job processing across workers (Celery, Sidekiq, Arq, RQ).</li>
                        <li>Event streaming consumers with partition rebalancing.</li>
                        <li>Multi-region/zone deployments with zone-aware balancing.</li>
                      </ul>
                    </div>
                  </section>

                  {/* References & Further Reading */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-yellow-500 rounded-full"></div>
                      References & Further Reading
                    </h2>
                    <div className="grid grid-cols-1 md:grid-cols-2 gap-4">
                      <div className="p-4 bg-gray-800/40 rounded-lg border border-gray-700/40">
                        <h3 className="text-white font-medium mb-2">Academic Papers</h3>
                        <ul className="list-disc list-inside text-gray-300 text-sm space-y-1">
                          <li><a href="https://research.google/pubs/pub40801/" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">The Tail at Scale (Dean & Barroso, 2013)</a></li>
                          <li><a href="https://www.eecs.harvard.edu/~michaelm/NEWWORK/postscripts/handbook2001.pdf" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">The Power of Two Choices in Randomized Load Balancing</a></li>
                          <li><a href="https://research.google/pubs/pub44824/" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">Maglev: A Fast and Reliable Software Network Load Balancer (2016)</a></li>
                          <li><a href="https://dl.acm.org/doi/10.1145/258533.258660" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">Consistent Hashing and Random Trees (Karger et al., 1997)</a></li>
                          <li><a href="https://dl.acm.org/doi/10.1145/1101779.1101781" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">Join-Shortest-Queue with Limited Sampling</a></li>
                        </ul>
                      </div>
                      <div className="p-4 bg-gray-800/40 rounded-lg border border-gray-700/40">
                        <h3 className="text-white font-medium mb-2">Implementation Guides</h3>
                        <ul className="list-disc list-inside text-gray-300 text-sm space-y-1">
                          <li><a href="https://docs.nginx.com/nginx/admin-guide/load-balancer/http-load-balancer/" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">NGINX: HTTP Load Balancing</a></li>
                          <li><a href="https://www.envoyproxy.io/docs/envoy/latest/intro/arch_overview/upstream/load_balancing/overview" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">Envoy: Load Balancing Overview</a></li>
                          <li><a href="https://www.haproxy.com/documentation/" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">HAProxy: Configuration & Tuning Guide</a></li>
                          <li><a href="https://kubernetes.io/docs/concepts/services-networking/service/" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">Kubernetes: Services and Load Balancing</a></li>
                          <li><a href="https://istio.io/latest/docs/tasks/traffic-management/" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">Istio: Traffic Management</a></li>
                          <li><a href="https://docs.ray.io/en/latest/serve/index.html" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">Ray Serve: Scalable Model Serving</a></li>
                          <li><a href="https://docs.vllm.ai/en/latest/" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">vLLM: High-throughput LLM Serving</a></li>
                          <li><a href="https://docs.nvidia.com/deeplearning/triton-inference-server/user-guide/" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">NVIDIA Triton Inference Server</a></li>
                        </ul>
                      </div>
                      <div className="p-4 bg-gray-800/40 rounded-lg border border-gray-700/40">
                        <h3 className="text-white font-medium mb-2">Tools & Libraries</h3>
                        <ul className="list-disc list-inside text-gray-300 text-sm space-y-1">
                          <li>NGINX, Envoy, HAProxy, Traefik</li>
                          <li>Kubernetes, Istio, Linkerd</li>
                          <li>Ray Serve, vLLM, Triton, KServe/Seldon</li>
                          <li>OpenTelemetry for metrics/traces</li>
                        </ul>
                      </div>
                      <div className="p-4 bg-gray-800/40 rounded-lg border border-gray-700/40">
                        <h3 className="text-white font-medium mb-2">Community & Discussions</h3>
                        <ul className="list-disc list-inside text-gray-300 text-sm space-y-1">
                          <li><a href="https://discuss.kubernetes.io/" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">Kubernetes Discuss</a></li>
                          <li><a href="https://www.reddit.com/r/devops/" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">r/devops</a></li>
                          <li><a href="https://www.reddit.com/r/kubernetes/" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">r/kubernetes</a></li>
                          <li><a href="https://cloud-native.slack.com/" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">CNCF Slack</a></li>
                          <li><a href="https://discuss.istio.io/" target="_blank" rel="noreferrer" className="text-blue-400 hover:text-blue-300">Istio Discuss</a></li>
                        </ul>
                      </div>
                    </div>
                  </section>
                </>
              ) : selectedTechnique.id === 'geographic-routing' ? (
                <>
                  {/* Core Mechanism (short conceptual overview) */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-blue-500 rounded-full"></div>
                      Core Mechanism
                    </h2>
                    <div className="bg-gradient-to-br from-blue-500/10 to-purple-500/10 border border-blue-500/20 rounded-xl p-6">
                      <p className="text-gray-200 text-base leading-relaxed mb-4">
                        Geographic Routing directs requests to regions based on user location, regulatory constraints, and performance.
                        A policy combines geolocation, compliance/data-sovereignty, latency, capacity, and language/culture to choose an in-region
                        or nearest-compliant endpoint with safe fallbacks and monitored failover.
                      </p>
                      <div className="grid grid-cols-2 md:grid-cols-4 gap-4 mt-4">
                        <div className="text-center p-4 bg-gray-800/30 rounded-lg">
                          <div className="text-2xl mb-2">🌍</div>
                          <div className="text-xs text-gray-400 mb-1">Scope</div>
                          <div className="text-sm font-medium text-white">Region/locale aware</div>
                        </div>
                        <div className="text-center p-4 bg-gray-800/30 rounded-lg">
                          <div className="text-2xl mb-2">🛡️</div>
                          <div className="text-xs text-gray-400 mb-1">Compliance</div>
                          <div className="text-sm font-medium text-white">Data residency & laws</div>
                        </div>
                        <div className="text-center p-4 bg-gray-800/30 rounded-lg">
                          <div className="text-2xl mb-2">⚡</div>
                          <div className="text-xs text-gray-400 mb-1">Performance</div>
                          <div className="text-sm font-medium text-white">Latency & capacity</div>
                        </div>
                        <div className="text-center p-4 bg-gray-800/30 rounded-lg">
                          <div className="text-2xl mb-2">🗣️</div>
                          <div className="text-xs text-gray-400 mb-1">Localization</div>
                          <div className="text-sm font-medium text-white">Language & culture</div>
                        </div>
                      </div>
                    </div>
                  </section>

                  {/* Workflow / Steps */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-purple-500 rounded-full"></div>
                      Workflow / Steps
                    </h2>
                    <div className="bg-gradient-to-br from-purple-500/10 to-blue-500/10 border border-purple-500/20 rounded-xl p-6">
                      <ol className="list-decimal list-inside space-y-2 text-gray-200 text-sm">
                        <li>Detect user region via IP/geolocation, explicit locale, tenant policy, or account residency.</li>
                        <li>Evaluate compliance: data residency, cross-border transfer rules, sector regulations (GDPR, CCPA/CPRA, LGPD, PDPA, HIPAA, FIN, etc.).</li>
                        <li>Compute performance signals: nearest PoP/edge, regional latency, capacity/health, cost, cache proximity.</li>
                        <li>Apply sovereignty constraints and business rules (allowed regions, model/provider allowlist, language variants).</li>
                        <li>Select primary region; choose fallback/secondary with rationale and confidence.</li>
                        <li>Execute in-region pipeline; localize language, formatting, and content where applicable.</li>
                        <li>Log routing decision, signals, and outcomes; monitor compliance and tail latency; auto-failover on degradation.</li>
                      </ol>
                    </div>
                  </section>

                  {/* Best Practices */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-green-500 rounded-full"></div>
                      Best Practices
                    </h2>
                    <div className="grid gap-3">
                      {[
                        'Prefer in-region processing; avoid unnecessary cross-border transfers.',
                        'Maintain an up-to-date regulation catalog and provider region capabilities; version policies.',
                        'Separate routing policy from execution; support dry-run/shadow to validate changes.',
                        'Localize language, date/number formats, currencies, and cultural norms.',
                        'Use edge/CDN for static assets and cache warm paths by region.',
                        'Encrypt in transit and at rest; minimize PII; tokenize where possible.',
                        'Plan regional failover, health checks, and controlled degradation paths.',
                        'Record rationales and evidence for audit (region, rules matched, signals).'
                      ].map((tip) => (
                        <div key={tip} className="flex items-start gap-3 p-3 bg-gray-800/40 rounded-lg">
                          <Check className="w-5 h-5 text-green-400 mt-0.5 flex-shrink-0" />
                          <span className="text-gray-300 text-sm leading-relaxed">{tip}</span>
                        </div>
                      ))}
                    </div>
                  </section>

                  {/* When NOT to Use */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-red-500 rounded-full"></div>
                      When NOT to Use
                    </h2>
                    <div className="bg-gray-800/40 rounded-lg p-6 border border-gray-700/40">
                      <ul className="list-disc list-inside space-y-2 text-gray-300 text-sm">
                        <li>Single-region apps without legal or performance requirements.</li>
                        <li>Hard real-time micro-latency flows where routing checks dominate cost.</li>
                        <li>No reliable geolocation or residency signals and low compliance risk.</li>
                        <li>Data cannot be segmented by region and must remain globally consistent without sharding.</li>
                      </ul>
                    </div>
                  </section>

                  {/* Common Pitfalls */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-amber-500 rounded-full"></div>
                      Common Pitfalls
                    </h2>
                    <div className="bg-gray-800/40 rounded-lg p-6 border border-gray-700/40">
                      <ul className="list-disc list-inside space-y-2 text-gray-300 text-sm">
                        <li>Stale regulation maps or provider region catalogs causing non-compliant routes.</li>
                        <li>Ignoring language/cultural localization after routing.</li>
                        <li>Failover loops or partial compliance when secondary regions differ in policy support.</li>
                        <li>Leaking PII across borders via logs, traces, or caches.</li>
                        <li>Optimizing for average latency while P95/P99 regress in some locales.</li>
                      </ul>
                    </div>
                  </section>

                  {/* Key Features */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-cyan-500 rounded-full"></div>
                      Key Features
                    </h2>
                    <div className="grid grid-cols-1 md:grid-cols-2 gap-3">
                      {[
                        'Location-aware routing with sovereignty constraints',
                        'Compliance scoring and explainable rationale',
                        'Latency/capacity aware selection and health-based failover',
                        'Localization hooks (language, formatting, content rules)',
                        'Edge/CDN integration and cache locality',
                        'Decision logs, audits, and drift monitoring'
                      ].map((f) => (
                        <div key={f} className="p-3 bg-gray-800/40 rounded-lg text-gray-300 text-sm">{f}</div>
                      ))}
                    </div>
                  </section>

                  {/* KPIs / Success Metrics */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-emerald-500 rounded-full"></div>
                      KPIs / Success Metrics
                    </h2>
                    <div className="bg-gray-800/40 rounded-lg p-6 border border-gray-700/40">
                      <ul className="list-disc list-inside space-y-2 text-gray-300 text-sm">
                        <li>Compliance score and data residency adherence rate.</li>
                        <li>End-to-end latency by region (P50/P95/P99) and variance across locales.</li>
                        <li>Failover frequency, time-to-recovery, and success rate.</li>
                        <li>Localization quality/satisfaction, language coverage, and error rate.</li>
                        <li>Cache hit ratio and cost per request by region.</li>
                        <li>Misroute rate and override/appeal rate.</li>
                      </ul>
                    </div>
                  </section>

                  {/* Token / Resource Usage */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-pink-500 rounded-full"></div>
                      Token / Resource Usage
                    </h2>
                    <div className="bg-gray-800/40 rounded-lg p-6 border border-gray-700/40">
                      <ul className="list-disc list-inside space-y-2 text-gray-300 text-sm">
                        <li>Router overhead is small: geolocation lookup + rules evaluation; avoid sending payloads through the router.</li>
                        <li>Maintain a cached regulation/provider capability map; refresh periodically, not per-request.</li>
                        <li>Leverage CDN/edge caching; avoid duplicate generation across regions by using cache keys and IDs.</li>
                        <li>Reserve expensive models for localized execution; keep routing policies rule-based or small-model.</li>
                        <li>Account for multi-region storage/replication costs when enforcing residency.</li>
                      </ul>
                    </div>
                  </section>

                  {/* Best Use Cases */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-indigo-500 rounded-full"></div>
                      Best Use Cases
                    </h2>
                    <div className="bg-gray-800/40 rounded-lg p-6 border border-gray-700/40">
                      <ul className="list-disc list-inside space-y-2 text-gray-300 text-sm">
                        <li>Global consumer apps requiring localization and low latency.</li>
                        <li>Regulated industries: healthcare, finance, government, education.</li>
                        <li>Multi-region SaaS with tenant residency commitments.</li>
                        <li>CDN-backed media/content delivery with regional personalization.</li>
                      </ul>
                    </div>
                  </section>

                  {/* References & Further Reading */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-yellow-500 rounded-full"></div>
                      References & Further Reading
                    </h2>
                    <div className="grid grid-cols-1 md:grid-cols-2 gap-4">
                      <div className="p-4 bg-gray-800/40 rounded-lg border border-gray-700/40">
                        <h3 className="text-white font-medium mb-2">Academic Papers</h3>
                        <ul className="list-disc list-inside text-gray-300 text-sm space-y-1">
                          <li>Data sovereignty and cross-border data flow studies (2018–2024)</li>
                          <li>Edge/geo-distributed systems and latency optimization</li>
                          <li>Compliance-aware scheduling in distributed systems</li>
                        </ul>
                      </div>
                      <div className="p-4 bg-gray-800/40 rounded-lg border border-gray-700/40">
                        <h3 className="text-white font-medium mb-2">Implementation Guides</h3>
                        <ul className="list-disc list-inside text-gray-300 text-sm space-y-1">
                          <li>AWS: Multi-Region, Data Residency, CloudFront Geo restriction/geolocation</li>
                          <li>GCP/Azure: Regional services, Sovereign/Confidential clouds</li>
                          <li>CDN: Cloudflare Workers/Rulesets, Fastly Compute@Edge, Akamai</li>
                          <li>Policy engines: OPA/Rego for compliance gates</li>
                        </ul>
                      </div>
                      <div className="p-4 bg-gray-800/40 rounded-lg border border-gray-700/40">
                        <h3 className="text-white font-medium mb-2">Tools & Libraries</h3>
                        <ul className="list-disc list-inside text-gray-300 text-sm space-y-1">
                          <li>MaxMind/GeoIP, ipinfo.io for geolocation</li>
                          <li>Cloud provider region/latency APIs and health checks</li>
                          <li>OPA/Rego, JSONLogic for routing policy</li>
                          <li>OpenTelemetry for audits/metrics/traces</li>
                        </ul>
                      </div>
                      <div className="p-4 bg-gray-800/40 rounded-lg border border-gray-700/40">
                        <h3 className="text-white font-medium mb-2">Community & Discussions</h3>
                        <ul className="list-disc list-inside text-gray-300 text-sm space-y-1">
                          <li>Cloud architecture blogs on multi-region/residency</li>
                          <li>r/devops, r/kubernetes, and CDN provider communities</li>
                          <li>Security/Privacy forums on data protection and residency</li>
                        </ul>
                      </div>
                    </div>
                  </section>
                </>
              ) : selectedTechnique.id === 'conditional-chaining' ? (
                <>
                  {/* Core Mechanism (short conceptual overview) */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-blue-500 rounded-full"></div>
                      Core Mechanism
                    </h2>
                    <div className="bg-gradient-to-br from-blue-500/10 to-purple-500/10 border border-blue-500/20 rounded-xl p-6">
                      <p className="text-gray-200 text-base leading-relaxed mb-4">
                        Conditional chaining evaluates context to dynamically select the most appropriate prompt path. A lightweight router (classifier, rules, or scoring function) chooses a specialized branch; results may optionally merge downstream. This enables personalization, decision trees, and adaptive workflows while conserving resources.
                      </p>
                      <div className="grid grid-cols-2 md:grid-cols-4 gap-4 mt-4">
                        <div className="text-center p-4 bg-gray-800/30 rounded-lg">
                          <div className="text-2xl mb-2">🔀</div>
                          <div className="text-xs text-gray-400 mb-1">Flow</div>
                          <div className="text-sm font-medium text-white">Branch on conditions</div>
                        </div>
                        <div className="text-center p-4 bg-gray-800/30 rounded-lg">
                          <div className="text-2xl mb-2">🎯</div>
                          <div className="text-xs text-gray-400 mb-1">Specialization</div>
                          <div className="text-sm font-medium text-white">Targeted prompts per path</div>
                        </div>
                        <div className="text-center p-4 bg-gray-800/30 rounded-lg">
                          <div className="text-2xl mb-2">🧭</div>
                          <div className="text-xs text-gray-400 mb-1">Control</div>
                          <div className="text-sm font-medium text-white">Explicit routing policy</div>
                        </div>
                        <div className="text-center p-4 bg-gray-800/30 rounded-lg">
                          <div className="text-2xl mb-2">🧩</div>
                          <div className="text-xs text-gray-400 mb-1">Merging</div>
                          <div className="text-sm font-medium text-white">Optional merge/rejoin</div>
                        </div>
                      </div>
                    </div>
                  </section>

                  {/* Workflow / Steps */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-purple-500 rounded-full"></div>
                      Workflow / Steps
                    </h2>
                    <div className="bg-gradient-to-br from-purple-500/10 to-blue-500/10 border border-purple-500/20 rounded-xl p-6">
                      <ol className="list-decimal list-inside space-y-2 text-gray-200 text-sm">
                        <li>Define routing objectives and branches with consistent I/O schemas.</li>
                        <li>Implement router: rules, heuristic scores, or LLM classifier with confidence.</li>
                        <li>Evaluate conditions and select branch (with default/fallback on low confidence).</li>
                        <li>Execute specialized branch prompts; validate outputs against schema.</li>
                        <li>Optionally merge/rejoin branches with normalization and conflict checks.</li>
                        <li>Emit decision logs, confidence, and per-branch metrics for monitoring.</li>
                      </ol>
                    </div>
                  </section>

                  {/* Best Practices */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-green-500 rounded-full"></div>
                      Best Practices
                    </h2>
                    <div className="grid gap-3">
                      {[
                        'Decouple router policy from branch implementations; version and test independently',
                        'Calibrate router confidence; define thresholds and safe default branch',
                        'Standardize output schemas across branches to enable merging and analytics',
                        'Add guardrails: low-confidence fallback, human-in-the-loop, and retries',
                        'Keep branches minimal and specialized; avoid redundant logic',
                        'Log routing features/decisions for auditability and drift detection',
                        'Regularly evaluate routing accuracy and branch health with labeled samples',
                      ].map((tip) => (
                        <div key={tip} className="flex items-start gap-3 p-3 bg-gray-800/40 rounded-lg">
                          <Check className="w-5 h-5 text-green-400 mt-0.5 flex-shrink-0" />
                          <span className="text-gray-300 text-sm leading-relaxed">{tip}</span>
                        </div>
                      ))}
                    </div>
                  </section>

                  {/* When NOT to Use */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-red-500 rounded-full"></div>
                      When NOT to Use
                    </h2>
                    <div className="bg-gray-800/40 rounded-lg p-6 border border-gray-700/40">
                      <ul className="list-disc list-inside space-y-2 text-gray-300 text-sm">
                        <li>Homogeneous tasks where a single well-crafted prompt performs well.</li>
                        <li>Hard real-time SLAs where routing overhead jeopardizes latency budgets.</li>
                        <li>Insufficient data to train/calibrate a reliable router or thresholds.</li>
                        <li>High maintenance cost from many branches outweighs benefit.</li>
                      </ul>
                    </div>
                  </section>

                  {/* Common Pitfalls */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-amber-500 rounded-full"></div>
                      Common Pitfalls
                    </h2>
                    <div className="bg-gray-800/40 rounded-lg p-6 border border-gray-700/40">
                      <ul className="list-disc list-inside space-y-2 text-gray-300 text-sm">
                        <li>Inconsistent branch outputs and missing normalization across paths.</li>
                        <li>No safe default or fallback, causing drops or poor UX on low confidence.</li>
                        <li>Overfitting router prompts that don’t generalize; routing drift over time.</li>
                        <li>Thrashing between branches due to unstable conditions or thresholds.</li>
                      </ul>
                    </div>
                  </section>
                </>
              ) : selectedTechnique.id === 'feedback-chaining' ? (
                <>
                  {/* Core Mechanism (short conceptual overview) */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-blue-500 rounded-full"></div>
                      Core Mechanism
                    </h2>
                    <div className="bg-gradient-to-br from-blue-500/10 to-purple-500/10 border border-blue-500/20 rounded-xl p-6">
                      <p className="text-gray-200 text-base leading-relaxed mb-4">
                        Feedback chaining runs an iterative loop: generate → evaluate → improve, repeating until a target quality threshold or stop condition is met. An evaluator (rules, rubric, or model-as-judge) produces specific feedback that drives focused revisions, enabling convergence to higher quality outputs.
                      </p>
                      <div className="grid grid-cols-2 md:grid-cols-4 gap-4 mt-4">
                        <div className="text-center p-4 bg-gray-800/30 rounded-lg">
                          <div className="text-2xl mb-2">🔄</div>
                          <div className="text-xs text-gray-400 mb-1">Flow</div>
                          <div className="text-sm font-medium text-white">Looped iterations</div>
                        </div>
                        <div className="text-center p-4 bg-gray-800/30 rounded-lg">
                          <div className="text-2xl mb-2">🧪</div>
                          <div className="text-xs text-gray-400 mb-1">Evaluation</div>
                          <div className="text-sm font-medium text-white">Rubrics & scoring</div>
                        </div>
                        <div className="text-center p-4 bg-gray-800/30 rounded-lg">
                          <div className="text-2xl mb-2">🎯</div>
                          <div className="text-xs text-gray-400 mb-1">Convergence</div>
                          <div className="text-sm font-medium text-white">Stop when target met</div>
                        </div>
                        <div className="text-center p-4 bg-gray-800/30 rounded-lg">
                          <div className="text-2xl mb-2">🧭</div>
                          <div className="text-xs text-gray-400 mb-1">Control</div>
                          <div className="text-sm font-medium text-white">Feedback-driven edits</div>
                        </div>
                      </div>
                    </div>
                  </section>

                  {/* Workflow / Steps */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-purple-500 rounded-full"></div>
                      Workflow / Steps
                    </h2>
                    <div className="bg-gradient-to-br from-purple-500/10 to-blue-500/10 border border-purple-500/20 rounded-xl p-6">
                      <ol className="list-decimal list-inside space-y-2 text-gray-200 text-sm">
                        <li>Generate initial draft/output from the task brief and constraints.</li>
                        <li>Evaluate with a rubric: score criteria (e.g., accuracy, style, completeness) and extract actionable feedback.</li>
                        <li>If score &lt; target: produce an improvement plan (bulleted, concrete changes).</li>
                        <li>Revise using the plan; keep hard constraints and previous strengths.</li>
                        <li>Track metrics per iteration (score, deltas, tokens, time); prevent regressions.</li>
                        <li>Stop on convergence (score ≥ target, marginal gain &lt; epsilon) or max iterations.</li>
                      </ol>
                    </div>
                  </section>

                  {/* Best Practices */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-green-500 rounded-full"></div>
                      Best Practices
                    </h2>
                    <div className="grid gap-3">
                      {[
                        'Separate generator and judge models (or seeds) to reduce bias; use deterministic judge settings',
                        'Use explicit rubrics with weighted criteria and structured JSON feedback',
                        'Make feedback prescriptive (what to add/remove/clarify), not generic platitudes',
                        'Cap iterations and implement early stopping on small score deltas',
                        'Carry forward constraints and validated facts to avoid regressions',
                        'Log per-iteration artifacts for auditability and offline analysis',
                        'Occasionally inject diversity (n-best or temperature bursts) if stuck below target',
                      ].map((tip) => (
                        <div key={tip} className="flex items-start gap-3 p-3 bg-gray-800/40 rounded-lg">
                          <Check className="w-5 h-5 text-green-400 mt-0.5 flex-shrink-0" />
                          <span className="text-gray-300 text-sm leading-relaxed">{tip}</span>
                        </div>
                      ))}
                    </div>
                  </section>

                  {/* When NOT to Use */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-red-500 rounded-full"></div>
                      When NOT to Use
                    </h2>
                    <div className="bg-gray-800/40 rounded-lg p-6 border border-gray-700/40">
                      <ul className="list-disc list-inside space-y-2 text-gray-300 text-sm">
                        <li>Hard real-time latency budgets where multiple passes are unacceptable.</li>
                        <li>No objective rubric or ground truth—risk of endless subjective polishing.</li>
                        <li>Single-shot tasks that do not benefit from iterative refinement.</li>
                        <li>Tasks with minimal quality gain per iteration (quickly hits diminishing returns).</li>
                      </ul>
                    </div>
                  </section>

                  {/* Common Pitfalls */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-amber-500 rounded-full"></div>
                      Common Pitfalls
                    </h2>
                    <div className="bg-gray-800/40 rounded-lg p-6 border border-gray-700/40">
                      <ul className="list-disc list-inside space-y-2 text-gray-300 text-sm">
                        <li>Oscillation with no convergence due to vague or conflicting feedback.</li>
                        <li>Judge leakage: evaluator sees gold answers or overfits phrasing.</li>
                        <li>Using the same model/config for both judge and generator causing confirmation bias.</li>
                        <li>Token bloat by re-sending entire history instead of distilled state.</li>
                        <li>Regression of previously correct details when revising without guardrails.</li>
                      </ul>
                    </div>
                  </section>
                </>
              ) : selectedTechnique.id === 'hierarchical-chaining' ? (
                <>
                  {/* Core Mechanism (short conceptual overview) */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-blue-500 rounded-full"></div>
                      Core Mechanism
                    </h2>
                    <div className="bg-gradient-to-br from-blue-500/10 to-purple-500/10 border border-blue-500/20 rounded-xl p-6">
                      <p className="text-gray-200 text-base leading-relaxed mb-4">
                        Hierarchical chaining decomposes a high-level goal into a tree of parent→child tasks. Parents define
                        contracts and acceptance criteria; children inherit scoped context and produce structured outputs that
                        roll up to their parents. Independent siblings can execute in parallel, while aggregation and validation
                        happen at each level to ensure consistency and quality.
                      </p>
                      <div className="grid grid-cols-2 md:grid-cols-4 gap-4 mt-4">
                        <div className="text-center p-4 bg-gray-800/30 rounded-lg">
                          <div className="text-2xl mb-2">🏗️</div>
                          <div className="text-xs text-gray-400 mb-1">Structure</div>
                          <div className="text-sm font-medium text-white">Tree of tasks</div>
                        </div>
                        <div className="text-center p-4 bg-gray-800/30 rounded-lg">
                          <div className="text-2xl mb-2">🧬</div>
                          <div className="text-xs text-gray-400 mb-1">Inheritance</div>
                          <div className="text-sm font-medium text-white">Scoped context</div>
                        </div>
                        <div className="text-center p-4 bg-gray-800/30 rounded-lg">
                          <div className="text-2xl mb-2">⚖️</div>
                          <div className="text-xs text-gray-400 mb-1">Control</div>
                          <div className="text-sm font-medium text-white">Per-level gates</div>
                        </div>
                        <div className="text-center p-4 bg-gray-800/30 rounded-lg">
                          <div className="text-2xl mb-2">🔀</div>
                          <div className="text-xs text-gray-400 mb-1">Execution</div>
                          <div className="text-sm font-medium text-white">Parallel siblings</div>
                        </div>
                      </div>
                    </div>
                  </section>

                  {/* Workflow / Steps */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-purple-500 rounded-full"></div>
                      Workflow / Steps
                    </h2>
                    <div className="bg-gradient-to-br from-purple-500/10 to-blue-500/10 border border-purple-500/20 rounded-xl p-6">
                      <ol className="list-decimal list-inside space-y-2 text-gray-200 text-sm">
                        <li>Define the root goal, constraints, and objective metrics.</li>
                        <li>Design the task tree: levels, node responsibilities, and dependencies.</li>
                        <li>Specify strict input/output contracts per node with JSON schemas.</li>
                        <li>Scope context inheritance: pass distilled fields and references, not full transcripts.</li>
                        <li>Choose execution policy: depth-first for fast verticals, breadth-first for coverage; parallelize independent siblings.</li>
                        <li>Validate and aggregate child outputs at the parent; normalize and resolve conflicts.</li>
                        <li>Apply per-node gates: retries, fallbacks, and escalation on validation failures.</li>
                        <li>Emit per-level metrics and artifacts; cache reusable subtree results.</li>
                      </ol>
                    </div>
                  </section>

                  {/* Best Practices */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-green-500 rounded-full"></div>
                      Best Practices
                    </h2>
                    <div className="grid gap-3">
                      {[
                        'Keep node contracts stable and versioned; evolve leaves more often than trunks.',
                        'Use schemas and validators at every boundary; reject/repair before roll-up.',
                        'Constrain inheritance: pass IDs, summaries, and facts instead of raw text.',
                        'Parallelize siblings with bounded fan-out; prioritize critical-path nodes.',
                        'Design aggregation strategies per parent (rank/merge, scoring, or map-reduce).',
                        'Cache deterministic subtrees and reuse across runs to cut cost/latency.',
                        'Surface provenance in roll-ups: include child IDs and confidence per field.',
                        'Automate acceptance gates with rubrics and model-as-judge where appropriate.',
                      ].map((tip) => (
                        <div key={tip} className="flex items-start gap-3 p-3 bg-gray-800/40 rounded-lg">
                          <Check className="w-5 h-5 text-green-400 mt-0.5 flex-shrink-0" />
                          <span className="text-gray-300 text-sm leading-relaxed">{tip}</span>
                        </div>
                      ))}
                    </div>
                  </section>

                  {/* When NOT to Use */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-red-500 rounded-full"></div>
                      When NOT to Use
                    </h2>
                    <div className="bg-gray-800/40 rounded-lg p-6 border border-gray-700/40">
                      <ul className="list-disc list-inside space-y-2 text-gray-300 text-sm">
                        <li>Simple tasks solvable by a single prompt or shallow sequence.</li>
                        <li>Strict real-time SLAs where tree orchestration adds unacceptable latency.</li>
                        <li>Highly interdependent subtasks that resist clean parent→child contracts.</li>
                        <li>Very deep hierarchies that exceed context budgets or complicate debugging.</li>
                      </ul>
                    </div>
                  </section>

                  {/* Common Pitfalls */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-amber-500 rounded-full"></div>
                      Common Pitfalls
                    </h2>
                    <div className="bg-gray-800/40 rounded-lg p-6 border border-gray-700/40">
                      <ul className="list-disc list-inside space-y-2 text-gray-300 text-sm">
                        <li>Context leakage by passing full transcripts down the tree.</li>
                        <li>Inconsistent child schemas causing brittle aggregation at parents.</li>
                        <li>Cycles or hidden dependencies that break hierarchical assumptions.</li>
                        <li>Over-decomposition inflating cost/latency without quality gains.</li>
                      </ul>
                    </div>
                  </section>
                </>
              ) : selectedTechnique.id === 'iterative-refinement' ? (
                <>
                  {/* Core Mechanism (short conceptual overview) */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-blue-500 rounded-full"></div>
                      Core Mechanism
                    </h2>
                    <div className="bg-gradient-to-br from-blue-500/10 to-purple-500/10 border border-blue-500/20 rounded-xl p-6">
                      <p className="text-gray-200 text-base leading-relaxed mb-4">
                        Iterative refinement improves an output through multiple focused passes: generate a baseline, evaluate against a rubric, plan targeted changes, and revise. Each cycle concentrates on a specific dimension (e.g., structure, content, style, correctness), with early stopping when gains diminish or targets are reached.
                      </p>
                      <div className="grid grid-cols-2 md:grid-cols-4 gap-4 mt-4">
                        <div className="text-center p-4 bg-gray-800/30 rounded-lg">
                          <div className="text-2xl mb-2">🔁</div>
                          <div className="text-xs text-gray-400 mb-1">Flow</div>
                          <div className="text-sm font-medium text-white">Generate → Evaluate → Revise</div>
                        </div>
                        <div className="text-center p-4 bg-gray-800/30 rounded-lg">
                          <div className="text-2xl mb-2">🎯</div>
                          <div className="text-xs text-gray-400 mb-1">Focus</div>
                          <div className="text-sm font-medium text-white">One quality axis per pass</div>
                        </div>
                        <div className="text-center p-4 bg-gray-800/30 rounded-lg">
                          <div className="text-2xl mb-2">📏</div>
                          <div className="text-xs text-gray-400 mb-1">Control</div>
                          <div className="text-sm font-medium text-white">Rubrics & thresholds</div>
                        </div>
                        <div className="text-center p-4 bg-gray-800/30 rounded-lg">
                          <div className="text-2xl mb-2">🛑</div>
                          <div className="text-xs text-gray-400 mb-1">End</div>
                          <div className="text-sm font-medium text-white">Convergence/stop rules</div>
                        </div>
                      </div>
                    </div>
                  </section>

                  {/* Workflow / Steps */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-purple-500 rounded-full"></div>
                      Workflow / Steps
                    </h2>
                    <div className="bg-gradient-to-br from-purple-500/10 to-blue-500/10 border border-purple-500/20 rounded-xl p-6">
                      <ol className="list-decimal list-inside space-y-2 text-gray-200 text-sm">
                        <li>Create an initial draft/output from the task brief and constraints.</li>
                        <li>Define an explicit rubric with weighted criteria and target thresholds.</li>
                        <li>Evaluate the output and extract actionable, prescriptive feedback.</li>
                        <li>Formulate a concise improvement plan (diffs/edits, not generic advice).</li>
                        <li>Revise with constraints preserved; avoid regressing validated facts.</li>
                        <li>Track per-iteration metrics (score, deltas, tokens, time).</li>
                        <li>Early stop on small deltas or when target is met; cap max iterations.</li>
                        <li>Optionally inject diversity (n-best) only when stuck below target.</li>
                        <li>Finalize and record provenance of changes and acceptance artifacts.</li>
                      </ol>
                    </div>
                  </section>

                  {/* Best Practices */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-green-500 rounded-full"></div>
                      Best Practices
                    </h2>
                    <div className="grid gap-3">
                      {[
                        'Separate generator and judge (or use different seeds) to reduce confirmation bias.',
                        'Use structured rubrics and JSON feedback; include rationale and suggested edits.',
                        'Prefer diff-based edits and carry forward validated facts and constraints.',
                        'Truncate history aggressively; pass distilled state instead of full transcripts.',
                        'Implement early stopping and max-iteration caps to avoid diminishing returns.',
                        'Guard against regressions with checks, acceptance tests, or fact locks.',
                        'Use cheaper models for judging when possible; reserve strongest model for final pass.',
                        'Log artifacts per iteration for audit and offline analysis.'
                      ].map((tip) => (
                        <div key={tip} className="flex items-start gap-3 p-3 bg-gray-800/40 rounded-lg">
                          <Check className="w-5 h-5 text-green-400 mt-0.5 flex-shrink-0" />
                          <span className="text-gray-300 text-sm leading-relaxed">{tip}</span>
                        </div>
                      ))}
                    </div>
                  </section>

                  {/* When NOT to Use */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-red-500 rounded-full"></div>
                      When NOT to Use
                    </h2>
                    <div className="bg-gray-800/40 rounded-lg p-6 border border-gray-700/40">
                      <ul className="list-disc list-inside space-y-2 text-gray-300 text-sm">
                        <li>Hard real-time SLAs where multi-pass latency is unacceptable.</li>
                        <li>No objective rubric or ground truth; risk of endless subjective polishing.</li>
                        <li>Tasks with minimal quality gain after a single revision.</li>
                        <li>Deterministic transformations better handled by tools or rules.</li>
                        <li>Strict cost ceilings that preclude multiple evaluation passes.</li>
                      </ul>
                    </div>
                  </section>

                  {/* Common Pitfalls */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-amber-500 rounded-full"></div>
                      Common Pitfalls
                    </h2>
                    <div className="bg-gray-800/40 rounded-lg p-6 border border-gray-700/40">
                      <ul className="list-disc list-inside space-y-2 text-gray-300 text-sm">
                        <li>Oscillation with no convergence due to vague or conflicting feedback.</li>
                        <li>Regressions of previously correct details when revising without guards.</li>
                        <li>Token bloat from passing full history rather than distilled state.</li>
                        <li>Judge/generator coupling causing biased evaluations.</li>
                        <li>Optimizing to the rubric while neglecting holistic quality.</li>
                        <li>Undefined or weak stop conditions leading to cost creep.</li>
                      </ul>
                    </div>
                  </section>
                </>
              ) : selectedTechnique.id === 'self-critique' ? (
                <>
                  {/* Core Mechanism (short conceptual overview) */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-blue-500 rounded-full"></div>
                      Core Mechanism
                    </h2>
                    <div className="bg-gradient-to-br from-blue-500/10 to-purple-500/10 border border-blue-500/20 rounded-xl p-6">
                      <p className="text-gray-200 text-base leading-relaxed mb-4">
                        Self-critique is a deliberate loop where the model generates an initial answer, evaluates it against an explicit rubric, identifies issues with evidence, proposes concrete edits, and produces a refined answer with calibrated confidence. Separating the generator and the judge (or using different seeds) reduces confirmation bias.
                      </p>
                      <div className="grid grid-cols-2 md:grid-cols-4 gap-4 mt-4">
                        <div className="text-center p-4 bg-gray-800/30 rounded-lg">
                          <div className="text-2xl mb-2">🧪</div>
                          <div className="text-xs text-gray-400 mb-1">Evaluation</div>
                          <div className="text-sm font-medium text-white">Rubric-based judging</div>
                        </div>
                        <div className="text-center p-4 bg-gray-800/30 rounded-lg">
                          <div className="text-2xl mb-2">🛠️</div>
                          <div className="text-xs text-gray-400 mb-1">Editing</div>
                          <div className="text-sm font-medium text-white">Diff/instruction edits</div>
                        </div>
                        <div className="text-center p-4 bg-gray-800/30 rounded-lg">
                          <div className="text-2xl mb-2">🔍</div>
                          <div className="text-xs text-gray-400 mb-1">Quality</div>
                          <div className="text-sm font-medium text-white">Error + gap detection</div>
                        </div>
                        <div className="text-center p-4 bg-gray-800/30 rounded-lg">
                          <div className="text-2xl mb-2">📊</div>
                          <div className="text-xs text-gray-400 mb-1">Confidence</div>
                          <div className="text-sm font-medium text-white">Calibration & stop rules</div>
                        </div>
                      </div>
                    </div>
                  </section>

                  {/* Workflow / Steps */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-purple-500 rounded-full"></div>
                      Workflow / Steps
                    </h2>
                    <div className="bg-gradient-to-br from-purple-500/10 to-blue-500/10 border border-purple-500/20 rounded-xl p-6">
                      <ol className="list-decimal list-inside space-y-2 text-gray-200 text-sm">
                        <li>Produce a baseline answer from the task brief and constraints.</li>
                        <li>Define or load a rubric with weighted criteria (accuracy, completeness, clarity, relevance, safety, etc.).</li>
                        <li>Judge the answer: cite issues with evidence, rate each criterion, and compute an overall score.</li>
                        <li>Propose a concise improvement plan (diffs/instructions) tied to rubric findings.</li>
                        <li>Revise, preserving validated facts and constraints; avoid regressions.</li>
                        <li>Calibrate confidence; decide to stop based on thresholds or small deltas.</li>
                        <li>Emit artifacts: scores, rationale, applied edits, and provenance.</li>
                      </ol>
                    </div>
                  </section>

                  {/* Best Practices */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-green-500 rounded-full"></div>
                      Best Practices
                    </h2>
                    <div className="grid gap-3">
                      {[
                        'Separate generator and judge (different model/tier, or different seed/settings).',
                        'Use structured rubrics with weights; return JSON scores + rationales.',
                        'Prefer diff/instruction-style edits; lock validated facts to prevent regressions.',
                        'Aggressively truncate history; pass distilled state (facts, constraints, last diff).',
                        'Enable early stopping; cap max iterations; log deltas per pass.',
                        'Use retrieval/grounding when judging factual claims; flag unverifiable statements.',
                        'Track calibration (confidence vs. actual success) and re-tune thresholds.',
                      ].map((tip) => (
                        <div key={tip} className="flex items-start gap-3 p-3 bg-gray-800/40 rounded-lg">
                          <Check className="w-5 h-5 text-green-400 mt-0.5 flex-shrink-0" />
                          <span className="text-gray-300 text-sm leading-relaxed">{tip}</span>
                        </div>
                      ))}
                    </div>
                  </section>

                  {/* When NOT to Use */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-red-500 rounded-full"></div>
                      When NOT to Use
                    </h2>
                    <div className="bg-gray-800/40 rounded-lg p-6 border border-gray-700/40">
                      <ul className="list-disc list-inside space-y-2 text-gray-300 text-sm">
                        <li>Hard real-time tasks where multi-pass latency is unacceptable.</li>
                        <li>No objective rubric or ground truth (risk of endless subjective polishing).</li>
                        <li>Deterministic transformations better handled by tools/compilers/linters.</li>
                        <li>Tasks with minimal quality gain after a single revision.</li>
                      </ul>
                    </div>
                  </section>

                  {/* Common Pitfalls */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-amber-500 rounded-full"></div>
                      Common Pitfalls
                    </h2>
                    <div className="bg-gray-800/40 rounded-lg p-6 border border-gray-700/40">
                      <ul className="list-disc list-inside space-y-2 text-gray-300 text-sm">
                        <li>Judge/generator coupling causing confirmation bias.</li>
                        <li>Overfitting to the rubric while degrading holistic quality.</li>
                        <li>Token bloat from verbose rationales and full-history resends.</li>
                        <li>Regression of previously correct details due to unguarded edits.</li>
                        <li>Oscillation without convergence from vague/conflicting feedback.</li>
                      </ul>
                    </div>
                  </section>

                  {/* Key Features */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-cyan-500 rounded-full"></div>
                      Key Features
                    </h2>
                    <div className="grid grid-cols-1 md:grid-cols-2 gap-3">
                      {[
                        'Rubric-based multi-criteria evaluation with weighted scoring.',
                        'Evidence-linked critiques and actionable edit plans.',
                        'Diff/instruction-style revisions with fact locking.',
                        'Confidence scoring and calibration tracking.',
                        'Early stopping and iteration caps to control cost.',
                        'Optional retrieval/grounding for factual verification.',
                      ].map((feature) => (
                        <div key={feature} className="flex items-start gap-3 p-3 bg-gray-800/40 rounded-lg">
                          <Check className="w-5 h-5 text-green-400 mt-0.5 flex-shrink-0" />
                          <span className="text-gray-300 text-sm leading-relaxed">{feature}</span>
                        </div>
                      ))}
                    </div>
                  </section>

                  {/* KPIs / Success Metrics */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-cyan-500 rounded-full"></div>
                      KPIs / Success Metrics
                    </h2>
                    <div className="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4">
                      {[
                        { icon: '📈', label: 'Quality gain per iter', desc: 'Δ rubric score per iteration until convergence' },
                        { icon: '🔁', label: 'Convergence iterations', desc: 'Average iterations to hit target or stop' },
                        { icon: '🧪', label: 'Judge consistency', desc: 'Inter-rater/self-consistency across runs' },
                        { icon: '🎯', label: 'Target attainment rate', desc: 'Share of runs ≥ target threshold' },
                        { icon: '💲', label: 'Cost per improvement point', desc: 'Tokens per +1 rubric point or acceptance' },
                        { icon: '🛑', label: 'Early stop rate', desc: 'Runs halted due to small deltas or caps' },
                      ].map((m) => (
                        <div key={m.label} className="bg-gray-800/40 rounded-lg p-4 border border-gray-700/40">
                          <div className="text-2xl mb-2">{m.icon}</div>
                          <div className="text-sm font-semibold text-white">{m.label}</div>
                          <div className="text-xs text-gray-400">{m.desc}</div>
                        </div>
                      ))}
                    </div>
                  </section>

                  {/* Token / Resource Usage */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-teal-500 rounded-full"></div>
                      Token / Resource Usage
                    </h2>
                    <div className="bg-gray-800/40 rounded-lg p-6 border border-gray-700/40 space-y-3 text-sm text-gray-300">
                      <p>Total cost ≈ Σ over iterations of (generator tokens + evaluator tokens + revision tokens). Optimize for early convergence and lightweight judges.</p>
                      <ul className="list-disc list-inside space-y-1">
                        <li>Use small/cheap model for judging when feasible; reserve strongest model for final acceptance.</li>
                        <li>Truncate history; pass distilled state (facts, constraints, last diff).</li>
                        <li>Enable early stopping on small score deltas; cap max iterations.</li>
                        <li>Cache stable sub-artifacts (retrieved docs, validated sections) across iterations.</li>
                      </ul>
                    </div>
                  </section>

                  {/* Best Use Cases */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-purple-500 rounded-full"></div>
                      Best Use Cases
                    </h2>
                    <div className="grid grid-cols-2 md:grid-cols-3 xl:grid-cols-4 gap-3">
                      {[
                        'Content QA and editing',
                        'Code review and reasoning trace checks',
                        'Safety/robustness evaluation and red-team hardening',
                        'Academic and analytical writing improvement',
                        'Data pipeline/report validation',
                        'Policy/criteria compliance checks',
                      ].map((uc) => (
                        <div key={uc} className="flex items-center gap-2 px-3 py-2 bg-gray-800/50 rounded-lg text-sm">
                          <span className="text-base">✅</span>
                          <span className="text-gray-300 font-medium">{uc}</span>
                        </div>
                      ))}
                    </div>
                  </section>

                  {/* References & Further Reading */}
                  <section>
                    <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                      <div className="w-1 h-6 bg-orange-500 rounded-full"></div>
                      References & Further Reading
                    </h2>
                    <div className="bg-gradient-to-br from-orange-500/10 to-red-500/10 border border-orange-500/20 rounded-xl p-6">
                      <div className="grid gap-4 md:grid-cols-2">
                        {/* Academic Papers */}
                        <div className="bg-white/5 rounded-lg p-4">
                          <h4 className="font-semibold text-white mb-3 flex items-center gap-2">
                            <span className="text-orange-400">📚</span>
                            Academic Papers
                          </h4>
                          <div className="space-y-2 text-sm">
                            <a href="https://arxiv.org/abs/2303.17651" target="_blank" rel="noreferrer" className="block text-blue-400 hover:text-blue-300 transition-colors">• Self-Refine: Iterative Refinement with Feedback (Shinn et al., 2023)</a>
                            <a href="https://arxiv.org/abs/2310.04406" target="_blank" rel="noreferrer" className="block text-blue-400 hover:text-blue-300 transition-colors">• RLAIF: Reinforcement Learning from AI Feedback (2023)</a>
                            <a href="https://arxiv.org/abs/2402.14972" target="_blank" rel="noreferrer" className="block text-blue-400 hover:text-blue-300 transition-colors">• DERA: Deliberate Reasoning with Iterative Improvement (2024)</a>
                            <a href="https://arxiv.org/abs/2212.08073" target="_blank" rel="noreferrer" className="block text-blue-400 hover:text-blue-300 transition-colors">• Constitutional AI: Self-critique & principle-based revision (Anthropic, 2022)</a>
                          </div>
                        </div>

                        {/* Implementation Guides */}
                        <div className="bg-white/5 rounded-lg p-4">
                          <h4 className="font-semibold text-white mb-3 flex items-center gap-2">
                            <span className="text-green-400">🛠️</span>
                            Implementation Guides
                          </h4>
                          <div className="space-y-2 text-sm">
                            <a href="https://cookbook.openai.com/" target="_blank" rel="noreferrer" className="block text-blue-400 hover:text-blue-300 transition-colors">• OpenAI Cookbook: Reliable LLM patterns</a>
                            <a href="https://docs.anthropic.com/claude/docs" target="_blank" rel="noreferrer" className="block text-blue-400 hover:text-blue-300 transition-colors">• Anthropic Claude: Prompting & tooling</a>
                            <a href="https://www.promptingguide.ai/" target="_blank" rel="noreferrer" className="block text-blue-400 hover:text-blue-300 transition-colors">• Prompting Guide: Patterns & anti-patterns</a>
                          </div>
                        </div>

                        {/* Tools & Libraries */}
                        <div className="bg-white/5 rounded-lg p-4">
                          <h4 className="font-semibold text-white mb-3 flex items-center gap-2">
                            <span className="text-purple-400">⚙️</span>
                            Tools & Libraries
                          </h4>
                          <div className="space-y-2 text-sm">
                            <a href="https://python.langchain.com/" target="_blank" rel="noreferrer" className="block text-blue-400 hover:text-blue-300 transition-colors">• LangChain</a>
                            <a href="https://www.llamaindex.ai/" target="_blank" rel="noreferrer" className="block text-blue-400 hover:text-blue-300 transition-colors">• LlamaIndex</a>
                            <a href="https://dspy.ai/" target="_blank" rel="noreferrer" className="block text-blue-400 hover:text-blue-300 transition-colors">• DSPy</a>
                            <a href="https://github.com/microsoft/guidance" target="_blank" rel="noreferrer" className="block text-blue-400 hover:text-blue-300 transition-colors">• Guidance</a>
                          </div>
                        </div>

                        {/* Community & Discussions */}
                        <div className="bg-white/5 rounded-lg p-4">
                          <h4 className="font-semibold text-white mb-3 flex items-center gap-2">
                            <span className="text-cyan-400">👥</span>
                            Community & Discussions
                          </h4>
                          <div className="space-y-2 text-sm">
                            <a href="https://www.reddit.com/r/MachineLearning/" target="_blank" rel="noreferrer" className="block text-blue-400 hover:text-blue-300 transition-colors">• r/MachineLearning</a>
                            <a href="https://discord.gg/langchain" target="_blank" rel="noreferrer" className="block text-blue-400 hover:text-blue-300 transition-colors">• LangChain Discord</a>
                            <a href="https://github.com/f/awesome-chatgpt-prompts" target="_blank" rel="noreferrer" className="block text-blue-400 hover:text-blue-300 transition-colors">• Awesome prompts & resources</a>
                          </div>
                        </div>
                      </div>
                    </div>
                  </section>
                </>
              ) : (
                <section>
                  <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                    <div className="w-1 h-6 bg-blue-500 rounded-full"></div>
                    {selectedTechnique.name}
                  </h2>
                  <div className="bg-gradient-to-br from-blue-500/10 to-purple-500/10 border border-blue-500/20 rounded-xl p-6">
                    <p className="text-gray-200 text-base leading-relaxed mb-6">
                      {selectedTechnique.description}
                    </p>
                    <div className="grid grid-cols-2 md:grid-cols-3 xl:grid-cols-4 gap-4 mt-4">
                      <div className="text-center p-4 bg-gray-800/30 rounded-lg">
                        <div className="text-2xl mb-3">{selectedTechnique.icon}</div>
                        <div className="text-sm text-gray-400 mb-1">Pattern Type</div>
                        <div className="text-sm font-medium text-white">
                          {categories.find(c => c.id === selectedTechnique.category)?.name || 'Design Pattern'}
                        </div>
                      </div>
                      <div className="text-center p-4 bg-gray-800/30 rounded-lg">
                        <div className="text-2xl mb-3">
                          {selectedTechnique.complexity === 'low' ? '🟢' : 
                           selectedTechnique.complexity === 'medium' ? '🟡' : '🔴'}
                        </div>
                        <div className="text-sm text-gray-400 mb-1">Complexity</div>
                        <div className="text-sm font-medium text-white capitalize">
                          {selectedTechnique.complexity}
                        </div>
                      </div>
                      <div className="text-center p-4 bg-gray-800/30 rounded-lg">
                        <div className="text-2xl mb-3">🎯</div>
                        <div className="text-sm text-gray-400 mb-1">Use Cases</div>
                        <div className="text-sm font-medium text-white">
                          {selectedTechnique.useCases.length} scenarios
                        </div>
                      </div>
                      <div className="text-center p-4 bg-gray-800/30 rounded-lg">
                        <div className="text-2xl mb-3">⚡</div>
                        <div className="text-sm text-gray-400 mb-1">Features</div>
                        <div className="text-sm font-medium text-white">
                          {selectedTechnique.features?.length || 0} features
                        </div>
                      </div>
                    </div>
                  </div>
                </section>
              )}

              {/* How it Works (generic) - removed globally per spec */}

              {/* Key Features */}
              {selectedTechnique.id !== 'load-balancing' && selectedTechnique.id !== 'self-critique' && selectedTechnique.id !== 'multi-source-context-fusion' && selectedTechnique.id !== 'adaptive-context-sizing' && selectedTechnique.id !== 'enterprise-orchestration' && selectedTechnique.id !== 'federated-orchestration' && (
              <section>
                <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                  <div className="w-1 h-6 bg-green-500 rounded-full"></div>
                  Key Features
                </h2>
                <div className="grid gap-3">
                  {selectedTechnique.features.map((feature: string, idx: number) => (
                    <div key={idx} className="flex items-start gap-3 p-3 bg-gray-800/40 rounded-lg">
                      <Check className="w-5 h-5 text-green-400 mt-0.5 flex-shrink-0" />
                      <span className="text-gray-300 text-sm leading-relaxed">{feature}</span>
                    </div>
                  ))}
                </div>
              </section>
              )}

              {/* KPIs / Success Metrics */}
              {(selectedTechnique.id === 'sequential-chaining' || selectedTechnique.id === 'parallel-chaining' || selectedTechnique.id === 'conditional-chaining' || selectedTechnique.id === 'feedback-chaining' || selectedTechnique.id === 'hierarchical-chaining' || selectedTechnique.id === 'iterative-refinement') && (
                <section>
                  <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                    <div className="w-1 h-6 bg-cyan-500 rounded-full"></div>
                    KPIs / Success Metrics
                  </h2>
                  <div className="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4">
                    {(selectedTechnique.id === 'sequential-chaining'
                      ? [
                          { icon: '🎯', label: 'Task success rate', desc: 'Pass/fail by acceptance tests per step and end-to-end' },
                          { icon: '✅', label: 'Factuality/accuracy', desc: 'Human or automated evals on grounded fields' },
                          { icon: '⏱️', label: 'Latency per step / E2E', desc: 'P50/P95 timings to identify bottlenecks' },
                          { icon: '💲', label: 'Cost per run', desc: 'Input+output tokens × model rate across steps' },
                          { icon: '🧱', label: 'Error containment', desc: 'Rate of failures recovered via retries/fallbacks' },
                          { icon: '🧪', label: 'Step regression score', desc: 'A/B deltas when updating individual steps' },
                        ]
                      : selectedTechnique.id === 'parallel-chaining'
                      ? [
                          { icon: '⚡', label: 'Wall-clock speedup', desc: 'Speedup vs sequential baseline for same task quality' },
                          { icon: '📈', label: 'Throughput', desc: 'Tasks per minute at target concurrency (P50/P95)' },
                          { icon: '🤝', label: 'Agreement score', desc: 'Consensus/majority agreement or pairwise similarity' },
                          { icon: '✅', label: 'Useful-result ratio', desc: 'Valid/non-empty worker outputs divided by total' },
                          { icon: '⏱️', label: 'Tail latency', desc: 'P95 time-to-aggregate with partials tolerated' },
                          { icon: '💲', label: 'Cost per run', desc: 'Sum of all worker tokens + merge cost' },
                        ]
                      : selectedTechnique.id === 'conditional-chaining'
                      ? [
                          { icon: '🧭', label: 'Routing accuracy', desc: 'Agreement with oracle labels or evaluator on correct branch' },
                          { icon: '📊', label: 'Confidence calibration', desc: 'Calibration error (ECE) and threshold quality' },
                          { icon: '🧰', label: 'Fallback/default rate', desc: 'Share of low-confidence routes using default path' },
                          { icon: '🎯', label: 'Per-branch success', desc: 'Quality/acceptance metrics segmented by branch' },
                          { icon: '⏱️', label: 'Routing overhead', desc: 'Added latency from router vs direct execution' },
                          { icon: '💲', label: 'Cost per run', desc: 'Router tokens + branch tokens + optional merge' },
                        ]
                      : selectedTechnique.id === 'hierarchical-chaining'
                      ? [
                          { icon: '🧩', label: 'Decomposition quality', desc: 'Rubric score for task-tree design and coverage' },
                          { icon: '✅', label: 'Node success rate', desc: 'Share of nodes passing validation/acceptance gates' },
                          { icon: '🔗', label: 'Aggregation consistency', desc: 'Conflict rate and repair frequency at parents' },
                          { icon: '⚡', label: 'Critical-path latency', desc: 'P50/P95 along deepest required path' },
                          { icon: '💸', label: 'Cost per level / total', desc: 'Token spend segmented by depth and subtree' },
                          { icon: '♻️', label: 'Subtree reuse hit-rate', desc: 'Cache hits for deterministic nodes across runs' },
                        ]
                      : [
                          { icon: '📈', label: 'Quality gain per iter', desc: 'Δ score per iteration until convergence' },
                          { icon: '🔁', label: 'Convergence iterations', desc: 'Avg iterations to reach target or stop' },
                          { icon: '🧪', label: 'Judge consistency', desc: 'Inter-rater or self-consistency of evaluator' },
                          { icon: '🎯', label: 'Target attainment rate', desc: 'Share of runs achieving target threshold' },
                          { icon: '💲', label: 'Cost per improvement point', desc: 'Tokens per +1 score or per acceptance' },
                          { icon: '🛑', label: 'Early stop rate', desc: 'Runs halted due to small deltas or max-iter cap' },
                        ]).map((m) => (
                      <div key={m.label} className="bg-gray-800/40 rounded-lg p-4 border border-gray-700/40">
                        <div className="text-2xl mb-2">{m.icon}</div>
                        <div className="text-sm font-semibold text-white">{m.label}</div>
                        <div className="text-xs text-gray-400">{m.desc}</div>
                      </div>
                    ))}
                  </div>
                </section>
              )}

              {/* Token / Resource Usage */}
              {(selectedTechnique.id === 'sequential-chaining' || selectedTechnique.id === 'parallel-chaining' || selectedTechnique.id === 'conditional-chaining' || selectedTechnique.id === 'feedback-chaining' || selectedTechnique.id === 'hierarchical-chaining' || selectedTechnique.id === 'iterative-refinement') && (
                <section>
                  <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                    <div className="w-1 h-6 bg-teal-500 rounded-full"></div>
                    Token / Resource Usage
                  </h2>
                  {selectedTechnique.id === 'sequential-chaining' ? (
                    <div className="bg-gray-800/40 rounded-lg p-6 border border-gray-700/40 space-y-3 text-sm text-gray-300">
                      <p>Estimate cost as sum of per-step input/output tokens × model rates. Control growth by passing only distilled fields, not full transcripts.</p>
                      <ul className="list-disc list-inside space-y-1">
                        <li>Minimize carry-over: keep interfaces compact (IDs, keys, summaries).</li>
                        <li>Use JSON mode and response formatting to avoid verbose prose.</li>
                        <li>Cache stable intermediate results; memoize deterministic steps.</li>
                        <li>Batch small requests where feasible; prefer smaller models upstream.</li>
                      </ul>
                    </div>
                  ) : selectedTechnique.id === 'parallel-chaining' ? (
                    <div className="bg-gray-800/40 rounded-lg p-6 border border-gray-700/40 space-y-3 text-sm text-gray-300">
                      <p>Total tokens scale with fan-out: sum of all parallel worker inputs/outputs plus aggregation. Plan for burst concurrency within rate limits and budgets.</p>
                      <ul className="list-disc list-inside space-y-1">
                        <li>Cap fan-out and enforce per-run token budgets with guardrails.</li>
                        <li>Use timeouts and accept partial results to bound cost and latency.</li>
                        <li>Prefer smaller/cheaper models for parallel legs; reserve strongest model for final merge.</li>
                        <li>Batch where supported; deduplicate prompts; share context via IDs rather than full text.</li>
                        <li>Implement backoff for rate limits and use queuing/backpressure.</li>
                        <li>Cache stable or reusable worker results across runs.</li>
                      </ul>
                    </div>
                  ) : selectedTechnique.id === 'conditional-chaining' ? (
                    <div className="bg-gray-800/40 rounded-lg p-6 border border-gray-700/40 space-y-3 text-sm text-gray-300">
                      <p>Total cost = router tokens + selected-branch tokens (+ optional merge). Use lightweight routing to minimize overhead and prefer cheap models for gating.</p>
                      <ul className="list-disc list-inside space-y-1">
                        <li>Use small/cheap model or rules for routing; reserve strong model for complex branches.</li>
                        <li>Define a safe default branch for low-confidence cases; avoid exploring multiple branches unless top-k is justified.</li>
                        <li>Standardize branch schemas to enable efficient merging without verbose reparsing.</li>
                        <li>Cache branch-invariant artifacts (retrieved docs, profiles) and reuse across runs.</li>
                        <li>Log routing distributions to detect cost drift and rebalance thresholds.</li>
                      </ul>
                    </div>
                  ) : selectedTechnique.id === 'hierarchical-chaining' ? (
                    <div className="bg-gray-800/40 rounded-lg p-6 border border-gray-700/40 space-y-3 text-sm text-gray-300">
                      <p>Total cost ≈ sum over nodes on the executed tree (critical path + parallel siblings + aggregation). Control explosion by constraining inheritance and reusing deterministic subtrees.</p>
                      <ul className="list-disc list-inside space-y-1">
                        <li>Pass references and summaries between levels; avoid raw documents.</li>
                        <li>Batch sibling nodes where possible; cap per-level fan-out.</li>
                        <li>Select model tiers by level complexity; reserve strongest model for root/aggregation.</li>
                        <li>Cache validated child outputs and roll-ups; reuse across runs and branches.</li>
                        <li>Hoist invariant context to ancestors; keep leaf prompts minimal.</li>
                        <li>Track per-level cost/latency to refine the tree and prune low-value nodes.</li>
                      </ul>
                    </div>
                  ) : (
                    <div className="bg-gray-800/40 rounded-lg p-6 border border-gray-700/40 space-y-3 text-sm text-gray-300">
                      <p>Total cost ≈ Σ over iterations of (generator tokens + evaluator tokens + revision tokens). Expect diminishing returns; optimize for early convergence.</p>
                      <ul className="list-disc list-inside space-y-1">
                        <li>Use a lightweight evaluator where possible; reserve strongest model for final acceptance.</li>
                        <li>Truncate history aggressively: pass distilled state (facts, constraints, last diff) instead of full transcripts.</li>
                        <li>Enable early stopping on small score deltas; cap max iterations.</li>
                        <li>Consider n-best only when stuck; otherwise prefer single-trajectory refinement.</li>
                        <li>Cache stable sub-artifacts (retrieved docs, validated sections) across iterations.</li>
                      </ul>
                    </div>
                  )}
                </section>
              )}

              {/* Best Use Cases */}
              {selectedTechnique.id !== 'load-balancing' && selectedTechnique.id !== 'self-critique' && selectedTechnique.id !== 'multi-source-context-fusion' && selectedTechnique.id !== 'adaptive-context-sizing' && selectedTechnique.id !== 'enterprise-orchestration' && selectedTechnique.id !== 'federated-orchestration' && (
              <section>
                <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                  <div className="w-1 h-6 bg-purple-500 rounded-full"></div>
                  Best Use Cases
                </h2>
                <div className="grid grid-cols-2 md:grid-cols-3 xl:grid-cols-4 gap-3">
                  {selectedTechnique.useCases.map((useCaseId: string) => {
                    const useCase = useCases.find(uc => uc.id === useCaseId);
                    return (
                      <div
                        key={useCaseId}
                        className="flex items-center gap-2 px-3 py-2 bg-gray-800/50 rounded-lg text-sm"
                      >
                        <span className="text-base">{useCase?.icon}</span>
                        <span className="text-gray-300 font-medium">{useCase?.name}</span>
                      </div>
                    );
                  })}
                </div>
              </section>
              )}

              {/* References & Further Reading */}
              {selectedTechnique.id !== 'load-balancing' && selectedTechnique.id !== 'self-critique' && selectedTechnique.id !== 'multi-source-context-fusion' && selectedTechnique.id !== 'adaptive-context-sizing' && selectedTechnique.id !== 'enterprise-orchestration' && (
              <section>
                <h2 className="text-xl lg:text-xl font-semibold text-white mb-6 flex items-center gap-2">
                  <div className="w-1 h-6 bg-orange-500 rounded-full"></div>
                  References & Further Reading
                </h2>
                <div className="bg-gradient-to-br from-orange-500/10 to-red-500/10 border border-orange-500/20 rounded-xl p-6">
                  <div className="grid gap-4 md:grid-cols-2">
                    {/* Academic Papers */}
                    <div className="bg-white/5 rounded-lg p-4">
                      <h4 className="font-semibold text-white mb-3 flex items-center gap-2">
                        <span className="text-orange-400">📚</span>
                        Academic Papers
                      </h4>
                      <div className="space-y-2 text-sm">
                        <a href="https://arxiv.org/abs/2201.11903" target="_blank" rel="noreferrer" className="block text-blue-400 hover:text-blue-300 transition-colors">• Chain-of-Thought Prompting (Wei et al., 2022)</a>
                        <a href="https://arxiv.org/abs/2203.11171" target="_blank" rel="noreferrer" className="block text-blue-400 hover:text-blue-300 transition-colors">• Self-Consistency for CoT (Wang et al., 2022)</a>
                        <a href="https://arxiv.org/abs/2305.10601" target="_blank" rel="noreferrer" className="block text-blue-400 hover:text-blue-300 transition-colors">• Tree of Thoughts (Yao et al., 2023)</a>
                        <a href="https://arxiv.org/abs/2210.03629" target="_blank" rel="noreferrer" className="block text-blue-400 hover:text-blue-300 transition-colors">• ReAct: Synergizing Reasoning and Acting (2022)</a>
                        {selectedTechnique.id === 'iterative-refinement' && (
                          <>
                            <a href="https://arxiv.org/abs/2303.17651" target="_blank" rel="noreferrer" className="block text-blue-400 hover:text-blue-300 transition-colors">• Self-Refine: Iterative Refinement with Feedback (Shinn et al., 2023)</a>
                            <a href="https://arxiv.org/abs/2310.04406" target="_blank" rel="noreferrer" className="block text-blue-400 hover:text-blue-300 transition-colors">• RLAIF: Reinforcement Learning from AI Feedback (2023)</a>
                            <a href="https://arxiv.org/abs/2402.14972" target="_blank" rel="noreferrer" className="block text-blue-400 hover:text-blue-300 transition-colors">• DERA: Deliberate Reasoning with Iterative Improvement (2024)</a>
                          </>
                        )}
                      </div>
                    </div>

                    {/* Implementation Guides */}
                    <div className="bg-white/5 rounded-lg p-4">
                      <h4 className="font-semibold text-white mb-3 flex items-center gap-2">
                        <span className="text-green-400">🛠️</span>
                        Implementation Guides
                      </h4>
                      <div className="space-y-2 text-sm">
                        <a href="https://cookbook.openai.com/" target="_blank" rel="noreferrer" className="block text-blue-400 hover:text-blue-300 transition-colors">• OpenAI Cookbook: Reliable LLM patterns</a>
                        <a href="https://docs.anthropic.com/claude/docs" target="_blank" rel="noreferrer" className="block text-blue-400 hover:text-blue-300 transition-colors">• Anthropic Claude: Prompting & tooling</a>
                        <a href="https://www.promptingguide.ai/" target="_blank" rel="noreferrer" className="block text-blue-400 hover:text-blue-300 transition-colors">• Prompting Guide: Patterns & anti-patterns</a>
                        {selectedTechnique.id === 'iterative-refinement' && (
                          <>
                            <a href="https://dspy.ai/" target="_blank" rel="noreferrer" className="block text-blue-400 hover:text-blue-300 transition-colors">• DSPy: Programmatic optimization and refinement loops</a>
                            <a href="https://langchain-ai.github.io/langgraph/" target="_blank" rel="noreferrer" className="block text-blue-400 hover:text-blue-300 transition-colors">• LangGraph: Iterative agent workflows</a>
                          </>
                        )}
                      </div>
                    </div>

                    {/* Tools & Libraries */}
                    <div className="bg-white/5 rounded-lg p-4">
                      <h4 className="font-semibold text-white mb-3 flex items-center gap-2">
                        <span className="text-purple-400">⚙️</span>
                        Tools & Libraries
                      </h4>
                      <div className="space-y-2 text-sm">
                        <a href="https://python.langchain.com/" target="_blank" rel="noreferrer" className="block text-blue-400 hover:text-blue-300 transition-colors">• LangChain</a>
                        <a href="https://www.llamaindex.ai/" target="_blank" rel="noreferrer" className="block text-blue-400 hover:text-blue-300 transition-colors">• LlamaIndex</a>
                        <a href="https://dspy.ai/" target="_blank" rel="noreferrer" className="block text-blue-400 hover:text-blue-300 transition-colors">• DSPy</a>
                        <a href="https://github.com/microsoft/guidance" target="_blank" rel="noreferrer" className="block text-blue-400 hover:text-blue-300 transition-colors">• Guidance</a>
                        <a href="https://temporal.io/" target="_blank" rel="noreferrer" className="block text-blue-400 hover:text-blue-300 transition-colors">• Temporal (workflow engine)</a>
                        <a href="https://www.prefect.io/" target="_blank" rel="noreferrer" className="block text-blue-400 hover:text-blue-300 transition-colors">• Prefect</a>
                        {selectedTechnique.id === 'iterative-refinement' && (
                          <>
                            <a href="https://github.com/stanfordnlp/dspy" target="_blank" rel="noreferrer" className="block text-blue-400 hover:text-blue-300 transition-colors">• DSPy optimize: Iterative program search</a>
                            <a href="https://github.com/langchain-ai/langgraph" target="_blank" rel="noreferrer" className="block text-blue-400 hover:text-blue-300 transition-colors">• LangGraph iterative controllers</a>
                          </>
                        )}
                      </div>
                    </div>

                    {/* Community Resources */}
                    <div className="bg-white/5 rounded-lg p-4">
                      <h4 className="font-semibold text-white mb-3 flex items-center gap-2">
                        <span className="text-cyan-400">👥</span>
                        Community & Discussions
                      </h4>
                      <div className="space-y-2 text-sm">
                        <a href="https://www.reddit.com/r/MachineLearning/" target="_blank" rel="noreferrer" className="block text-blue-400 hover:text-blue-300 transition-colors">• r/MachineLearning</a>
                        <a href="https://discord.gg/langchain" target="_blank" rel="noreferrer" className="block text-blue-400 hover:text-blue-300 transition-colors">• LangChain Discord</a>
                        <a href="https://github.com/f/awesome-chatgpt-prompts" target="_blank" rel="noreferrer" className="block text-blue-400 hover:text-blue-300 transition-colors">• Awesome prompts & resources</a>
                        {selectedTechnique.id === 'iterative-refinement' && (
                          <>
                            <a href="https://discord.gg/dspy" target="_blank" rel="noreferrer" className="block text-blue-400 hover:text-blue-300 transition-colors">• DSPy Community</a>
                            <a href="https://community.openai.com/" target="_blank" rel="noreferrer" className="block text-blue-400 hover:text-blue-300 transition-colors">• OpenAI Community: Prompting and evaluation</a>
                          </>
                        )}
                      </div>
                    </div>
                  </div>
                </div>
              </section>
              )}

            </div>
          ) : detailsTab === 'flow' ? (
            <div className="space-y-6">
              {/* Flow Visualization */}
              <div>
                <h2 className="text-xl font-bold text-white mb-4 flex items-center gap-2">
                  <div className="w-1 h-6 bg-orange-500 rounded-full"></div>
                  Step-by-Step 2 Flow Visualization
                </h2>
                <div className="bg-gray-900/60 rounded-xl border border-gray-700/30">
                  <div className="bg-gray-900/60 px-4 py-3 border-b border-gray-700/30">
                    <div className="flex items-center justify-between">
                      <span className="text-sm font-medium text-gray-300">
                        Interactive flow diagram showing the execution pattern
                      </span>
                      <span className="text-xs text-gray-500">
                        {patternScenarios[selectedTechnique.id] ? 'Flow diagram available' : 'Flow coming soon'}
                      </span>
                    </div>
                  </div>
                  {patternScenarios[selectedTechnique.id] ? (
                    <InteractivePatternFlow 
                      scenario={patternScenarios[selectedTechnique.id]}
                      height={500}
                    />
                  ) : (
                    <div className="p-8 text-center">
                      <GitBranch className="w-12 h-12 mx-auto text-gray-500 mb-4" />
                      <h3 className="text-lg font-medium text-gray-300 mb-2">Flow Visualization Coming Soon</h3>
                      <p className="text-gray-400 text-sm max-w-md mx-auto">
                        We&apos;re creating an interactive flow diagram for this technique. 
                        Check back soon or explore other techniques with available flows.
                      </p>
                    </div>
                  )}
                </div>
              </div>
            </div>
          ) : detailsTab === 'interactive' ? (
            !user ? (
              <div className="min-h-screen bg-gray-950 relative overflow-hidden">
                {/* Background gradient effects */}
                <div className="absolute inset-0 bg-[radial-gradient(ellipse_at_top,_var(--tw-gradient-stops))] from-blue-900/20 via-transparent to-purple-900/20"></div>
                <div className="absolute inset-0 bg-[radial-gradient(ellipse_at_bottom_right,_var(--tw-gradient-stops))] from-purple-900/20 via-transparent to-transparent"></div>
                
                <div className="relative z-10 container mx-auto px-4 py-12 max-w-6xl">
                  {/* Hero Section */}
                  <div className="text-center mb-16">
                    <div className="inline-flex items-center justify-center w-24 h-24 bg-gradient-to-br from-blue-500 to-purple-600 rounded-3xl shadow-2xl mb-8">
                      <Play className="w-12 h-12 text-white" />
                    </div>
                    
                    <h1 className="text-4xl sm:text-5xl font-bold text-gray-100 mb-6">
                      Interactive Demonstrations
                    </h1>
                    
                    <p className="text-xl text-gray-400 mb-8 max-w-3xl mx-auto">
                      Experience hands-on demonstrations and interactive learning for AI design patterns
                    </p>

                    <div className="bg-gradient-to-r from-blue-500/10 to-purple-500/10 border border-blue-500/20 rounded-2xl p-8 max-w-4xl mx-auto mb-12">
                      <div className="flex items-center justify-center space-x-3 mb-4">
                        <Sparkles className="w-6 h-6 text-blue-400" />
                        <span className="text-2xl font-semibold text-blue-400">Sign in to access interactive demos!</span>
                      </div>
                      <p className="text-gray-300 text-lg">
                        Create your free account to explore interactive pattern demonstrations.
                      </p>
                    </div>

                    {/* CTA Buttons */}
                    <div className="flex flex-col sm:flex-row gap-4 justify-center">
                      <button
                        onClick={() => router.push('/auth/register')}
                        className="group flex items-center justify-center space-x-3 px-8 py-4 bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700 text-white font-semibold rounded-xl shadow-lg transform transition-all duration-200 hover:scale-[1.02]"
                      >
                        <Play className="w-5 h-5" />
                        <span>Start Exploring Free</span>
                        <ArrowRight className="w-5 h-5 group-hover:translate-x-1 transition-transform duration-200" />
                      </button>
                      
                      <button
                        onClick={() => router.push('/auth/login')}
                        className="px-8 py-4 bg-gray-800 hover:bg-gray-700 text-gray-100 font-semibold rounded-xl border border-gray-700 transition-colors duration-200"
                      >
                        Already have an account? Sign In
                      </button>
                    </div>
                  </div>
                </div>
              </div>
            ) : (
            <div className="space-y-6">
              {/* Interactive Demos */}
              <div>
                <h2 className="text-xl font-bold text-white mb-4 flex items-center gap-2">
                  <div className="w-1 h-6 bg-purple-500 rounded-full"></div>
                  Interactive Demonstrations
                </h2>
                <div className="bg-gray-900/60 rounded-xl border border-gray-700/30">
                  <div className="bg-gray-900/60 px-4 py-3 border-b border-gray-700/30">
                    <div className="flex items-center justify-between">
                      <span className="text-sm font-medium text-gray-300">
                        {selectedTechnique.id === 'feedback-chaining' 
                          ? 'Interactive feedback loop demonstration'
                          : selectedTechnique.id === 'hierarchical-chaining'
                          ? 'Interactive project management simulation'
                          : selectedTechnique.id === 'capability-routing'
                          ? 'Interactive capability-based routing simulation'
                          : selectedTechnique.id === 'load-balancing'
                          ? 'Interactive load balancing and distribution simulation'
                          : selectedTechnique.id === 'geographic-routing'
                          ? 'Interactive geographic routing and compliance simulation'
                          : selectedTechnique.id === 'map-reduce'
                          ? 'Interactive distributed computing and data processing simulation'
                          : selectedTechnique.id === 'scatter-gather'
                          ? 'Interactive scatter-gather service orchestration simulation'
                          : selectedTechnique.id === 'fork-join'
                          ? 'Interactive fork-join recursive decomposition simulation'
                          : selectedTechnique.id === 'async-await'
                          ? 'Interactive async-await promise coordination simulation'
                          : selectedTechnique.id === 'self-critique'
                          ? 'Interactive self-critique quality assessment simulation'
                          : selectedTechnique.id === 'function-calling'
                          ? 'Interactive function calling and tool use simulation'
                          : selectedTechnique.id === 'code-execution'
                          ? 'Interactive code generation, validation, and execution simulation'
                          : selectedTechnique.id === 'hierarchical-planning'
                          ? 'Interactive hierarchical goal decomposition and project planning simulation'
                          : selectedTechnique.id === 'goal-decomposition'
                          ? 'Interactive goal breakdown, SMART criteria evaluation, and progress tracking simulation'
                          : selectedTechnique.id === 'constraint-satisfaction'
                          ? 'Interactive constraint satisfaction problem solving with multiple algorithms and optimization'
                          : selectedTechnique.id === 'scenario-planning'
                          ? 'Interactive strategic scenario planning with real-world AI system design contexts and adaptive strategies'
                          : selectedTechnique.id === 'context-compression-advanced'
                          ? 'Interactive multi-agent compression coordination with semantic preservation and dynamic optimization'
                          : selectedTechnique.id === 'multimodal-context-integration'
                          ? 'Interactive multimodal context processing with text, visual, and audio input integration'
                          : selectedTechnique.id === 'sliding-window'
                          ? 'Interactive sliding window memory management with automatic eviction and real-time processing'
                          : selectedTechnique.id === 'hierarchical-memory'
                          ? 'Interactive multi-tier memory system with intelligent promotion policies and retention management'
                          : selectedTechnique.id === 'attention-mechanisms'
                          ? 'Interactive attention scoring demonstration with semantic similarity, temporal relevance, and contextual importance'
                          : selectedTechnique.id === 'memory-consolidation'
                          ? 'Interactive memory consolidation process with pattern extraction, redundancy removal, and schema formation'
                          : selectedTechnique.id === 'working-memory-patterns'
                          ? 'Interactive working memory simulation with capacity management, attention control, and interference suppression'
                          : selectedTechnique.id === 'context-compression'
                          ? 'Interactive context compression demo with lossy/lossless options, semantic preservation, and compression metrics'
                          : 'Hands-on demonstration of the technique'
                        }
                      </span>
                      <span className="text-xs text-gray-500">
                        {selectedTechnique.id === 'feedback-chaining' || selectedTechnique.id === 'hierarchical-chaining' || selectedTechnique.id === 'iterative-refinement' || selectedTechnique.id === 'parallel-synthesis' || selectedTechnique.id === 'dynamic-routing' || selectedTechnique.id === 'dynamic-context-assembly' || selectedTechnique.id === 'message-queuing' || selectedTechnique.id === 'latent-memory-networks' || selectedTechnique.id === 'adaptive-context-depth' || selectedTechnique.id === 'latent-knowledge-retrieval' || selectedTechnique.id === 'context-compression-advanced' || selectedTechnique.id === 'multimodal-context-integration' || selectedTechnique.id === 'sliding-window' || selectedTechnique.id === 'hierarchical-memory' || selectedTechnique.id === 'attention-mechanisms' || selectedTechnique.id === 'memory-consolidation' || selectedTechnique.id === 'working-memory-patterns' || selectedTechnique.id === 'context-compression' || selectedTechnique.id === 'content-based-routing' || selectedTechnique.id === 'capability-routing' || selectedTechnique.id === 'load-balancing' || selectedTechnique.id === 'geographic-routing' || selectedTechnique.id === 'map-reduce' || selectedTechnique.id === 'scatter-gather' || selectedTechnique.id === 'fork-join' || selectedTechnique.id === 'async-await' || selectedTechnique.id === 'self-critique' || selectedTechnique.id === 'function-calling' || selectedTechnique.id === 'code-execution' || selectedTechnique.id === 'hierarchical-planning' || selectedTechnique.id === 'goal-decomposition' || selectedTechnique.id === 'constraint-satisfaction' || selectedTechnique.id === 'scenario-planning' || selectedTechnique.id === 'sequential-chaining' || selectedTechnique.id === 'parallel-chaining' || selectedTechnique.id === 'conditional-chaining' ? 'Interactive demo available' : 'Demo coming soon'}
                      </span>
                    </div>
                  </div>
                  {selectedTechnique.id === 'feedback-chaining' ? (
                    <FeedbackChainingDemo />
                  ) : selectedTechnique.id === 'hierarchical-chaining' ? (
                    <HierarchicalChainingDemo />
                  ) : selectedTechnique.id === 'iterative-refinement' ? (
                    <IterativeRefinementDemo />
                  ) : selectedTechnique.id === 'parallel-synthesis' ? (
                    <ParallelSynthesisDemo />
                  ) : selectedTechnique.id === 'dynamic-routing' ? (
                    <DynamicRoutingDemo />
                  ) : selectedTechnique.id === 'dynamic-context-assembly' ? (
                    <DynamicContextAssemblyDemo />
                  ) : selectedTechnique.id === 'message-queuing' ? (
                    <MessageQueuingDemo />
                  ) : selectedTechnique.id === 'latent-memory-networks' ? (
                    <LatentMemoryNetworksDemo />
                  ) : selectedTechnique.id === 'adaptive-context-depth' ? (
                    <AdaptiveContextDepthDemo />
                  ) : selectedTechnique.id === 'latent-knowledge-retrieval' ? (
                    <LatentKnowledgeRetrievalDemo />
                  ) : selectedTechnique.id === 'context-compression-advanced' ? (
                    <AdvancedContextCompressionDemo />
                  ) : selectedTechnique.id === 'multimodal-context-integration' ? (
                    <MultimodalContextIntegrationDemo />
                  ) : selectedTechnique.id === 'sliding-window' ? (
                    <SlidingWindowDemo />
                  ) : selectedTechnique.id === 'hierarchical-memory' ? (
                    <HierarchicalMemoryDemo />
                  ) : selectedTechnique.id === 'attention-mechanisms' ? (
                    <AttentionMechanismsDemo />
                  ) : selectedTechnique.id === 'memory-consolidation' ? (
                    <MemoryConsolidationDemo />
                  ) : selectedTechnique.id === 'working-memory-patterns' ? (
                    <WorkingMemoryPatternsDemo />
                  ) : selectedTechnique.id === 'context-compression' ? (
                    <ContextCompressionDemo />
                  ) : selectedTechnique.id === 'content-based-routing' ? (
                    <ContentBasedRoutingDemo />
                  ) : selectedTechnique.id === 'capability-routing' ? (
                    <CapabilityRoutingDemo />
                  ) : selectedTechnique.id === 'load-balancing' ? (
                    <LoadBalancingDemo />
                  ) : selectedTechnique.id === 'geographic-routing' ? (
                    <GeographicRoutingDemo />
                  ) : selectedTechnique.id === 'map-reduce' ? (
                    <MapReduceDemo />
                  ) : selectedTechnique.id === 'scatter-gather' ? (
                    <ScatterGatherDemo />
                  ) : selectedTechnique.id === 'fork-join' ? (
                    <ForkJoinDemo />
                  ) : selectedTechnique.id === 'async-await' ? (
                    <AsyncAwaitDemo />
                  ) : selectedTechnique.id === 'self-critique' ? (
                    <SelfCritiqueDemo />
                  ) : selectedTechnique.id === 'function-calling' ? (
                    <ToolUseDemo />
                  ) : selectedTechnique.id === 'code-execution' ? (
                    <CodeExecutionDemo />
                  ) : selectedTechnique.id === 'hierarchical-planning' ? (
                    <HierarchicalPlanningDemo />
                  ) : selectedTechnique.id === 'goal-decomposition' ? (
                    <GoalDecompositionDemo />
                  ) : selectedTechnique.id === 'constraint-satisfaction' ? (
                    <ConstraintSatisfactionDemo />
                  ) : selectedTechnique.id === 'scenario-planning' ? (
                    <ScenarioPlanningDemo />
                  ) : selectedTechnique.id === 'sequential-chaining' ? (
                    <SequentialChainingDemo />
                  ) : selectedTechnique.id === 'parallel-chaining' ? (
                    <ParallelChainingDemo />
                  ) : selectedTechnique.id === 'conditional-chaining' ? (
                    <ConditionalChainingDemo />
                  ) : (
                    <div className="p-8 text-center">
                      <Play className="w-12 h-12 mx-auto text-gray-500 mb-4" />
                      <h3 className="text-lg font-medium text-gray-300 mb-2">Interactive Demo Coming Soon</h3>
                      <p className="text-gray-400 text-sm max-w-md mx-auto">
                        We&apos;re working on an interactive hands-on demonstration for this technique. 
                        Check back soon or explore other techniques with available demos.
                      </p>
                    </div>
                  )}
                </div>
              </div>
            </div>
            )
          ) : (
            !user ? (
              <div className="min-h-screen bg-gray-950 relative overflow-hidden">
                {/* Background gradient effects */}
                <div className="absolute inset-0 bg-[radial-gradient(ellipse_at_top,_var(--tw-gradient-stops))] from-green-900/20 via-transparent to-blue-900/20"></div>
                <div className="absolute inset-0 bg-[radial-gradient(ellipse_at_bottom_right,_var(--tw-gradient-stops))] from-blue-900/20 via-transparent to-transparent"></div>
                
                <div className="relative z-10 container mx-auto px-4 py-12 max-w-6xl">
                  {/* Hero Section */}
                  <div className="text-center mb-16">
                    <div className="inline-flex items-center justify-center w-24 h-24 bg-gradient-to-br from-green-500 to-blue-600 rounded-3xl shadow-2xl mb-8">
                      <Code className="w-12 h-12 text-white" />
                    </div>
                    
                    <h1 className="text-4xl sm:text-5xl font-bold text-gray-100 mb-6">
                      Code Playground
                    </h1>
                    
                    <p className="text-xl text-gray-400 mb-8 max-w-3xl mx-auto">
                      Access live code examples and interactive programming environments for AI design patterns
                    </p>

                    <div className="bg-gradient-to-r from-green-500/10 to-blue-500/10 border border-green-500/20 rounded-2xl p-8 max-w-4xl mx-auto mb-12">
                      <div className="flex items-center justify-center space-x-3 mb-4">
                        <Sparkles className="w-6 h-6 text-green-400" />
                        <span className="text-2xl font-semibold text-green-400">Sign in to access the code playground!</span>
                      </div>
                      <p className="text-gray-300 text-lg">
                        Create your free account to explore live code examples and interactive environments.
                      </p>
                    </div>

                    {/* CTA Buttons */}
                    <div className="flex flex-col sm:flex-row gap-4 justify-center">
                      <button
                        onClick={() => router.push('/auth/register')}
                        className="group flex items-center justify-center space-x-3 px-8 py-4 bg-gradient-to-r from-green-600 to-blue-600 hover:from-green-700 hover:to-blue-700 text-white font-semibold rounded-xl shadow-lg transform transition-all duration-200 hover:scale-[1.02]"
                      >
                        <Code className="w-5 h-5" />
                        <span>Start Coding Free</span>
                        <ArrowRight className="w-5 h-5 group-hover:translate-x-1 transition-transform duration-200" />
                      </button>
                      
                      <button
                        onClick={() => router.push('/auth/login')}
                        className="px-8 py-4 bg-gray-800 hover:bg-gray-700 text-gray-100 font-semibold rounded-xl border border-gray-700 transition-colors duration-200"
                      >
                        Already have an account? Sign In
                      </button>
                    </div>
                  </div>
                </div>
              </div>
            ) : (
            <div className="space-y-6">
              {/* Language Selection */}
              <div className="flex flex-col sm:flex-row sm:items-center justify-between gap-4">
                <h2 className="text-xl font-bold text-white flex items-center gap-2">
                  <div className="w-1 h-6 bg-green-500 rounded-full"></div>
                  Code Playground
                </h2>
                <div className="flex gap-2 w-full sm:w-auto">
                  {(['typescript', 'python', 'rust'] as LanguageType[]).map(lang => (
                    <button
                      key={lang}
                      onClick={() => setSelectedLanguage(lang)}
                      className={`flex-1 sm:flex-none px-4 py-3 rounded-lg text-sm font-medium transition-colors min-h-[44px] ${
                        selectedLanguage === lang
                          ? 'bg-blue-600 text-white'
                          : 'bg-gray-700 text-gray-300 hover:bg-gray-600'
                      }`}
                    >
                      {lang.charAt(0).toUpperCase() + lang.slice(1)}
                    </button>
                  ))}
                </div>
              </div>
              
              {/* Code Sandbox */}
              {patternExamples[selectedTechnique.id as PatternId] ? (
                <CodeSandbox
                  patternId={selectedTechnique.id}
                  initialCode={patternExamples[selectedTechnique.id as PatternId][selectedLanguage]}
                  language={selectedLanguage}
                  onCodeChange={(code) => {
                    console.log('Code changed:', code);
                  }}
                />
              ) : (
                <div className="bg-gray-900/50 rounded-lg p-8 border border-gray-700/30 text-center">
                  <Code className="w-12 h-12 mx-auto text-gray-500 mb-4" />
                  <p className="text-gray-400">Code examples coming soon for this pattern</p>
                </div>
              )}
            </div>
            )
          )}
        </div>
      </div>
    </div>
  );
};
