ðŸš€ Starting Codesandbox...

Stopping processes on port 8000...
Found processes: 3884140
Killing process 3884140
Port 8000 cleanup completed
[0;32mStarting Codesandbox API Server...[0m
[0;32mFirecracker version:[0m
Firecracker v1.12.1

2025-08-09T19:24:37.200097516 [anonymous-instance:main] Firecracker exiting successfully. exit_code=0
[0;32mConfiguration:[0m
  ROOTFS_PATH: /data/code/agentic-design/codesandbox/rootfs/rootfs.ext4
  KERNEL_PATH: /data/code/agentic-design/codesandbox/kernel/vmlinux
  API_PORT: 8000
  GIN_MODE: release
[0;32mStarting API server on port 8000...[0m
[0;32mAPI will be available at: http://localhost:8000[0m

[1;33mTest with:[0m
  curl -X POST http://localhost:8000/execute \
    -H "Content-Type: application/json" \
    -d "{\"language\": \"python\", \"code\": \"print('Hello, World!')\"}"

[0;32mPress Ctrl+C to stop the server[0m

time="2025-08-09T19:24:40+02:00" level=info msg="Called startVMM(), setting up a VMM on /tmp/firecracker-accc0dfc-33da-41a2-85c3-4680479989cd.sock"
2025-08-09T19:24:40.823170834 [69e91934-045d-4a32-9d9c-5d982f79fb78:main] Running Firecracker v1.12.1
2025-08-09T19:24:40.826022131 [69e91934-045d-4a32-9d9c-5d982f79fb78:main] Listening on API socket ("/tmp/firecracker-accc0dfc-33da-41a2-85c3-4680479989cd.sock").
2025-08-09T19:24:40.826777935 [69e91934-045d-4a32-9d9c-5d982f79fb78:fc_api] API server started.
2025-08-09T19:24:40.857422597 [69e91934-045d-4a32-9d9c-5d982f79fb78:fc_api] The API server received a Get request on "/machine-config".
2025-08-09T19:24:40.857490647 [69e91934-045d-4a32-9d9c-5d982f79fb78:fc_api] The request was executed successfully. Status code: 200 OK.
time="2025-08-09T19:24:40+02:00" level=info msg="VMM logging disabled."
time="2025-08-09T19:24:40+02:00" level=info msg="VMM metrics disabled."
2025-08-09T19:24:40.858173834 [69e91934-045d-4a32-9d9c-5d982f79fb78:fc_api] The API server received a Put request on "/machine-config" with body "{\"mem_size_mib\":8192,\"vcpu_count\":4}\n".
2025-08-09T19:24:40.858264921 [69e91934-045d-4a32-9d9c-5d982f79fb78:fc_api] The request was executed successfully. Status code: 204 No Content.
2025-08-09T19:24:40.858418189 [69e91934-045d-4a32-9d9c-5d982f79fb78:fc_api] The API server received a Get request on "/machine-config".
2025-08-09T19:24:40.858451448 [69e91934-045d-4a32-9d9c-5d982f79fb78:fc_api] The request was executed successfully. Status code: 200 OK.
time="2025-08-09T19:24:40+02:00" level=info msg="refreshMachineConfiguration: [GET /machine-config][200] getMachineConfigurationOK  &{CPUTemplate: MemSizeMib:0xc0005943e8 Smt:0xc0005943f4 TrackDirtyPages:false VcpuCount:0xc0005943e0}"
2025-08-09T19:24:40.858696640 [69e91934-045d-4a32-9d9c-5d982f79fb78:fc_api] The API server received a Put request on "/boot-source" with body "{\"boot_args\":\"vm_id=0 init=/init console=ttyS0 reboot=k panic=1 pci=off\",\"kernel_image_path\":\"/data/code/agentic-design/codesandbox/kernel/vmlinux\"}\n".
2025-08-09T19:24:40.858820730 [69e91934-045d-4a32-9d9c-5d982f79fb78:fc_api] The request was executed successfully. Status code: 204 No Content.
time="2025-08-09T19:24:40+02:00" level=info msg="PutGuestBootSource: [PUT /boot-source][204] putGuestBootSourceNoContent "
time="2025-08-09T19:24:40+02:00" level=info msg="Attaching drive /tmp/rootfs-accc0dfc-33da-41a2-85c3-4680479989cd.ext4, slot rootfs, root true."
2025-08-09T19:24:40.859104409 [69e91934-045d-4a32-9d9c-5d982f79fb78:fc_api] The API server received a Put request on "/drives/rootfs" with body "{\"drive_id\":\"rootfs\",\"is_read_only\":false,\"is_root_device\":true,\"path_on_host\":\"/tmp/rootfs-accc0dfc-33da-41a2-85c3-4680479989cd.ext4\"}\n".
2025-08-09T19:24:40.859230999 [69e91934-045d-4a32-9d9c-5d982f79fb78:fc_api] The request was executed successfully. Status code: 204 No Content.
time="2025-08-09T19:24:40+02:00" level=info msg="Attached drive /tmp/rootfs-accc0dfc-33da-41a2-85c3-4680479989cd.ext4: [PUT /drives/{drive_id}][204] putGuestDriveByIdNoContent "
time="2025-08-09T19:24:40+02:00" level=info msg="Attaching NIC fc-tap-0 (hwaddr 02:a9:3b:91:2d:29) at index 1"
2025-08-09T19:24:40.859448678 [69e91934-045d-4a32-9d9c-5d982f79fb78:fc_api] The API server received a Put request on "/network-interfaces/1" with body "{\"guest_mac\":\"02:a9:3b:91:2d:29\",\"host_dev_name\":\"fc-tap-0\",\"iface_id\":\"1\"}\n".
2025-08-09T19:24:40.859856080 [69e91934-045d-4a32-9d9c-5d982f79fb78:fc_api] The request was executed successfully. Status code: 204 No Content.
time="2025-08-09T19:24:40+02:00" level=info msg="No interfaces are allowed to access MMDS, skipping MMDS config"
2025-08-09T19:24:40.860080015 [69e91934-045d-4a32-9d9c-5d982f79fb78:fc_api] The API server received a Put request on "/actions" with body "{\"action_type\":\"InstanceStart\"}\n".
2025-08-09T19:24:40.987291215 [69e91934-045d-4a32-9d9c-5d982f79fb78:main] Artificially kick devices.
2025-08-09T19:24:40.987394880 [69e91934-045d-4a32-9d9c-5d982f79fb78:fc_vcpu 2] Received a VcpuEvent::Resume message with immediate_exit enabled. immediate_exit was disabled before proceeding
2025-08-09T19:24:40.987427278 [69e91934-045d-4a32-9d9c-5d982f79fb78:fc_vcpu 3] Received a VcpuEvent::Resume message with immediate_exit enabled. immediate_exit was disabled before proceeding
2025-08-09T19:24:40.987463786 [69e91934-045d-4a32-9d9c-5d982f79fb78:fc_vcpu 1] Received a VcpuEvent::Resume message with immediate_exit enabled. immediate_exit was disabled before proceeding
2025-08-09T19:24:40.987579329 [69e91934-045d-4a32-9d9c-5d982f79fb78:fc_vcpu 0] Received a VcpuEvent::Resume message with immediate_exit enabled. immediate_exit was disabled before proceeding
2025-08-09T19:24:40.987686595 [69e91934-045d-4a32-9d9c-5d982f79fb78:fc_api] The request was executed successfully. Status code: 204 No Content.
time="2025-08-09T19:24:40+02:00" level=info msg="startInstance successful: [PUT /actions][204] createSyncActionNoContent "
[    0.000000] Linux version 4.14.174 (@57edebb99db7) (gcc version 7.5.0 (Ubuntu 7.5.0-3ubuntu1~18.04)) #2 SMP Wed Jul 14 11:47:24 UTC 2021
[    0.000000] Command line: vm_id=0 init=/init console=ttyS0 reboot=k panic=1 pci=off root=/dev/vda rw virtio_mmio.device=4K@0xd0000000:5 virtio_mmio.device=4K@0xd0001000:6
[    0.000000] x86/fpu: Supporting XSAVE feature 0x001: 'x87 floating point registers'
[    0.000000] x86/fpu: Supporting XSAVE feature 0x002: 'SSE registers'
[    0.000000] x86/fpu: Supporting XSAVE feature 0x004: 'AVX registers'
[    0.000000] x86/fpu: xstate_offset[2]:  576, xstate_sizes[2]:  256
[    0.000000] x86/fpu: Enabled xstate features 0x7, context size is 832 bytes, using 'standard' format.
[    0.000000] e820: BIOS-provided physical RAM map:
[    0.000000] BIOS-e820: [mem 0x0000000000000000-0x000000000009fbff] usable
[    0.000000] BIOS-e820: [mem 0x000000000009fc00-0x00000000000dffff] reserved
[    0.000000] BIOS-e820: [mem 0x0000000000100000-0x00000000cfffffff] usable
[    0.000000] BIOS-e820: [mem 0x0000000100000000-0x000000022fffffff] usable
[    0.000000] NX (Execute Disable) protection: active
[    0.000000] DMI not present or invalid.
[    0.000000] Hypervisor detected: KVM
[    0.000000] tsc: Fast TSC calibration using PIT
[    0.000000] e820: last_pfn = 0x230000 max_arch_pfn = 0x400000000
[    0.000000] MTRR: Disabled
[    0.000000] x86/PAT: MTRRs disabled, skipping PAT initialization too.
[    0.000000] CPU MTRRs all blank - virtualized system.
[    0.000000] x86/PAT: Configuration [0-7]: WB  WT  UC- UC  WB  WT  UC- UC  
[    0.000000] e820: last_pfn = 0xd0000 max_arch_pfn = 0x400000000
[    0.000000] found SMP MP-table at [mem 0x0009fc00-0x0009fc0f]
[    0.000000] Scanning 1 areas for low memory corruption
[    0.000000] Using GB pages for direct mapping
[    0.000000] No NUMA configuration found
[    0.000000] Faking a node at [mem 0x0000000000000000-0x000000022fffffff]
[    0.000000] NODE_DATA(0) allocated [mem 0x22ffdd000-0x22fffefff]
[    0.000000] kvm-clock: Using msrs 4b564d01 and 4b564d00
[    0.000000] kvm-clock: cpu 0, msr 2:2ffdb001, primary cpu clock
[    0.000000] kvm-clock: using sched offset of 147766187 cycles
[    0.000000] clocksource: kvm-clock: mask: 0xffffffffffffffff max_cycles: 0x1cd42e4dffb, max_idle_ns: 881590591483 ns
[    0.000000] Zone ranges:
[    0.000000]   DMA      [mem 0x0000000000001000-0x0000000000ffffff]
[    0.000000]   DMA32    [mem 0x0000000001000000-0x00000000ffffffff]
[    0.000000]   Normal   [mem 0x0000000100000000-0x000000022fffffff]
[    0.000000] Movable zone start for each node
[    0.000000] Early memory node ranges
[    0.000000]   node   0: [mem 0x0000000000001000-0x000000000009efff]
[    0.000000]   node   0: [mem 0x0000000000100000-0x00000000cfffffff]
[    0.000000]   node   0: [mem 0x0000000100000000-0x000000022fffffff]
[    0.000000] Initmem setup node 0 [mem 0x0000000000001000-0x000000022fffffff]
[    0.000000] Intel MultiProcessor Specification v1.4
[    0.000000] MPTABLE: OEM ID: FC      
[    0.000000] MPTABLE: Product ID: 000000000000
[    0.000000] MPTABLE: APIC at: 0xFEE00000
[    0.000000] Processor #0 (Bootup-CPU)
[    0.000000] Processor #1
[    0.000000] Processor #2
[    0.000000] Processor #3
[    0.000000] IOAPIC[0]: apic_id 5, version 17, address 0xfec00000, GSI 0-23
[    0.000000] Processors: 4
[    0.000000] smpboot: Allowing 4 CPUs, 0 hotplug CPUs
[    0.000000] PM: Registered nosave memory: [mem 0x00000000-0x00000fff]
[    0.000000] PM: Registered nosave memory: [mem 0x0009f000-0x0009ffff]
[    0.000000] PM: Registered nosave memory: [mem 0x000a0000-0x000dffff]
[    0.000000] PM: Registered nosave memory: [mem 0x000e0000-0x000fffff]
[    0.000000] PM: Registered nosave memory: [mem 0xd0000000-0xffffffff]
[    0.000000] e820: [mem 0xd0000000-0xffffffff] available for PCI devices
[    0.000000] Booting paravirtualized kernel on KVM
[    0.000000] clocksource: refined-jiffies: mask: 0xffffffff max_cycles: 0xffffffff, max_idle_ns: 7645519600211568 ns
[    0.000000] random: get_random_bytes called from start_kernel+0x94/0x486 with crng_init=0
[    0.000000] setup_percpu: NR_CPUS:128 nr_cpumask_bits:128 nr_cpu_ids:4 nr_node_ids:1
[    0.000000] percpu: Embedded 41 pages/cpu s128600 r8192 d31144 u524288
[    0.000000] KVM setup async PF for cpu 0
[    0.000000] kvm-stealtime: cpu 0, msr 22fc15040
[    0.000000] PV qspinlock hash table entries: 256 (order: 0, 4096 bytes)
[    0.000000] Built 1 zonelists, mobility grouping on.  Total pages: 2064265
[    0.000000] Policy zone: Normal
[    0.000000] Kernel command line: vm_id=0 init=/init console=ttyS0 reboot=k panic=1 pci=off root=/dev/vda rw virtio_mmio.device=4K@0xd0000000:5 virtio_mmio.device=4K@0xd0001000:6
[    0.000000] PID hash table entries: 4096 (order: 3, 32768 bytes)
[    0.000000] Memory: 8173048K/8388216K available (8204K kernel code, 645K rwdata, 1480K rodata, 1324K init, 2792K bss, 215168K reserved, 0K cma-reserved)
[    0.000000] SLUB: HWalign=64, Order=0-3, MinObjects=0, CPUs=4, Nodes=1
[    0.000000] Kernel/User page tables isolation: enabled
[    0.004000] Hierarchical RCU implementation.
[    0.004000] 	RCU restricting CPUs from NR_CPUS=128 to nr_cpu_ids=4.
[    0.004000] RCU: Adjusting geometry for rcu_fanout_leaf=16, nr_cpu_ids=4
[    0.004000] NR_IRQS: 4352, nr_irqs: 72, preallocated irqs: 16
[    0.004000] Console: colour dummy device 80x25
[    0.004000] console [ttyS0] enabled
[    0.004000] tsc: Detected 2199.998 MHz processor
[    0.004000] Calibrating delay loop (skipped) preset value.. 4399.99 BogoMIPS (lpj=8799992)
[    0.004000] pid_max: default: 32768 minimum: 301
[    0.004000] Security Framework initialized
[    0.004000] SELinux:  Initializing.
[    0.008934] Dentry cache hash table entries: 1048576 (order: 11, 8388608 bytes)
[    0.012449] Inode-cache hash table entries: 524288 (order: 10, 4194304 bytes)
[    0.013434] Mount-cache hash table entries: 16384 (order: 5, 131072 bytes)
[    0.014356] Mountpoint-cache hash table entries: 16384 (order: 5, 131072 bytes)
[    0.015711] Last level iTLB entries: 4KB 64, 2MB 8, 4MB 8
[    0.016005] Last level dTLB entries: 4KB 64, 2MB 0, 4MB 0, 1GB 4
[    0.016761] Spectre V1 : Mitigation: usercopy/swapgs barriers and __user pointer sanitization
[    0.017820] Spectre V2 : Mitigation: Full generic retpoline
[    0.018530] Spectre V2 : Spectre v2 / SpectreRSB mitigation: Filling RSB on context switch
[    0.020003] Spectre V2 : Enabling Restricted Speculation for firmware calls
[    0.020885] Spectre V2 : mitigation: Enabling conditional Indirect Branch Prediction Barrier
[    0.021934] Speculative Store Bypass: Mitigation: Speculative Store Bypass disabled via prctl and seccomp
[    0.023172] TAA: Vulnerable: Clear CPU buffers attempted, no microcode
[    0.024003] MDS: Vulnerable: Clear CPU buffers attempted, no microcode
[    0.025043] Freeing SMP alternatives memory: 28K
[    0.027385] smpboot: Max logical packages: 1
[    0.028266] x2apic enabled
[    0.028934] Switched APIC routing to physical x2apic.
[    0.030854] ..TIMER: vector=0x30 apic1=0 pin1=0 apic2=-1 pin2=-1
[    0.031659] smpboot: CPU0: Intel(R) Xeon(R) Processor @ 2.20GHz (family: 0x6, model: 0x56, stepping: 0x3)
[    0.032000] Performance Events: unsupported p6 CPU model 86 no PMU driver, software events only.
[    0.032000] Hierarchical SRCU implementation.
[    0.032000] smp: Bringing up secondary CPUs ...
[    0.032140] x86: Booting SMP configuration:
[    0.032692] .... node  #0, CPUs:      #1
[    0.004000] kvm-clock: cpu 1, msr 2:2ffdb041, secondary cpu clock
[    0.035197] KVM setup async PF for cpu 1
[    0.035197] kvm-stealtime: cpu 1, msr 22fc95040
[    0.036128]  #2
[    0.004000] kvm-clock: cpu 2, msr 2:2ffdb081, secondary cpu clock
[    0.038272] KVM setup async PF for cpu 2
[    0.038272] kvm-stealtime: cpu 2, msr 22fd15040
[    0.040133]  #3
[    0.004000] kvm-clock: cpu 3, msr 2:2ffdb0c1, secondary cpu clock
[    0.042250] KVM setup async PF for cpu 3
[    0.042250] kvm-stealtime: cpu 3, msr 22fd95040
[    0.044010] smp: Brought up 1 node, 4 CPUs
[    0.044551] smpboot: Total of 4 processors activated (17599.98 BogoMIPS)
[    0.046079] devtmpfs: initialized
[    0.048068] x86/mm: Memory block size: 128MB
[    0.049327] clocksource: jiffies: mask: 0xffffffff max_cycles: 0xffffffff, max_idle_ns: 7645041785100000 ns
[    0.049327] futex hash table entries: 1024 (order: 4, 65536 bytes)
[    0.050396] NET: Registered protocol family 16
[    0.052299] cpuidle: using governor ladder
[    0.052891] cpuidle: using governor menu
[    0.057155] HugeTLB registered 1.00 GiB page size, pre-allocated 0 pages
[    0.058050] HugeTLB registered 2.00 MiB page size, pre-allocated 0 pages
[    0.058931] SCSI subsystem initialized
[    0.058931] pps_core: LinuxPPS API ver. 1 registered
[    0.060010] pps_core: Software ver. 5.3.6 - Copyright 2005-2007 Rodolfo Giometti <giometti@linux.it>
[    0.061159] PTP clock support registered
[    0.061667] dmi: Firmware registration failed.
[    0.062354] NetLabel: Initializing
[    0.062814] NetLabel:  domain hash size = 128
[    0.063585] NetLabel:  protocols = UNLABELED CIPSOv4 CALIPSO
[    0.064029] NetLabel:  unlabeled traffic allowed by default
[    0.065028] clocksource: Switched to clocksource kvm-clock
[    0.065028] VFS: Disk quotas dquot_6.6.0
[    0.065279] VFS: Dquot-cache hash table entries: 512 (order 0, 4096 bytes)
[    0.069665] NET: Registered protocol family 2
[    0.071818] TCP established hash table entries: 65536 (order: 7, 524288 bytes)
[    0.075045] TCP bind hash table entries: 65536 (order: 8, 1048576 bytes)
[    0.078531] TCP: Hash tables configured (established 65536 bind 65536)
[    0.081353] UDP hash table entries: 4096 (order: 5, 131072 bytes)
[    0.083941] UDP-Lite hash table entries: 4096 (order: 5, 131072 bytes)
[    0.086810] NET: Registered protocol family 1
[    0.088741] PCI-DMA: Using software bounce buffering for IO (SWIOTLB)
[    0.089511] software IO TLB: mapped [mem 0xcc000000-0xd0000000] (64MB)
[    0.090314] virtio-mmio: Registering device virtio-mmio.0 at 0xd0000000-0xd0000fff, IRQ 5.
[    0.091314] virtio-mmio: Registering device virtio-mmio.1 at 0xd0001000-0xd0001fff, IRQ 6.
[    0.092346] clocksource: tsc: mask: 0xffffffffffffffff max_cycles: 0x1fb63109b96, max_idle_ns: 440795265316 ns
[    0.093463] platform rtc_cmos: registered platform RTC device (no PNP device found)
[    0.095008] Scanning for low memory corruption every 60 seconds
[    0.096037] audit: initializing netlink subsys (disabled)
[    0.096903] audit: type=2000 audit(1754760281.280:1): state=initialized audit_enabled=0 res=1
[    0.097049] Initialise system trusted keyrings
[    0.098656] Key type blacklist registered
[    0.099296] workingset: timestamp_bits=36 max_order=21 bucket_order=0
[    0.102299] squashfs: version 4.0 (2009/01/31) Phillip Lougher
[    0.106475] Key type asymmetric registered
[    0.107039] Asymmetric key parser 'x509' registered
[    0.107676] Block layer SCSI generic (bsg) driver version 0.4 loaded (major 252)
[    0.108729] io scheduler noop registered (default)
[    0.109370] io scheduler cfq registered
[    0.110119] virtio-mmio virtio-mmio.0: Failed to enable 64-bit or 32-bit DMA.  Trying to continue, but this might not work.
[    0.111428] virtio-mmio virtio-mmio.1: Failed to enable 64-bit or 32-bit DMA.  Trying to continue, but this might not work.
[    0.112880] Serial: 8250/16550 driver, 1 ports, IRQ sharing disabled
[    0.135140] serial8250: ttyS0 at I/O 0x3f8 (irq = 4, base_baud = 115200) is a U6_16550A
[    0.138445] loop: module loaded
[    0.140142] Loading iSCSI transport class v2.0-870.
[    0.140824] iscsi: registered transport (tcp)
[    0.141329] tun: Universal TUN/TAP device driver, 1.6
2025-08-09T19:24:41.395090738 [69e91934-045d-4a32-9d9c-5d982f79fb78:fc_vcpu 0] Failed to trigger i8042 kbd interrupt (disabled by guest OS)
[    0.149233] i8042: Failed to disable AUX port, but continuing anyway... Is this a SiS?
[    0.150236] i8042: If AUX port is really absent please use the 'i8042.noaux' option
2025-08-09T19:24:41.403576014 [69e91934-045d-4a32-9d9c-5d982f79fb78:fc_vcpu 0] Failed to trigger i8042 kbd interrupt (disabled by guest OS)
[    0.404591] serio: i8042 KBD port at 0x60,0x64 irq 1
[    0.405700] hidraw: raw HID events driver (C) Jiri Kosina
[    0.407317] nf_conntrack version 0.5.0 (65536 buckets, 262144 max)
[    0.409117] ip_tables: (C) 2000-2006 Netfilter Core Team
[    0.411261] Initializing XFRM netlink socket
[    0.412520] NET: Registered protocol family 10
[    0.416039] Segment Routing with IPv6
[    0.417266] NET: Registered protocol family 17
[    0.418727] Bridge firewalling registered
[    0.420426] NET: Registered protocol family 40
[    0.421942] sched_clock: Marking stable (420338454, 0)->(664698585, -244360131)
[    0.425000] registered taskstats version 1
[    0.426313] Loading compiled-in X.509 certificates
[    0.431558] Loaded X.509 cert 'Build time autogenerated kernel key: e98e9d271da5d0a322cc4d7bfaa8c2c4c3e46010'
[    0.436122] Key type encrypted registered
[    0.924742] input: AT Raw Set 2 keyboard as /devices/platform/i8042/serio0/input/input0
[    0.930567] EXT4-fs (vda): mounted filesystem with ordered data mode. Opts: (null)
[    0.933756] VFS: Mounted root (ext4 filesystem) on device 254:0.
[    0.936750] devtmpfs: mounted
[    0.940677] Freeing unused kernel memory: 1324K
[    0.964159] Write protecting the kernel read-only data: 12288k
[    0.966822] Freeing unused kernel memory: 2016K
[    0.969561] Freeing unused kernel memory: 568K
Starting agent on 172.16.0.100:8080...
{"level":"info","msg":"Starting agent server","port":"8080","time":"2025-08-09T17:24:43Z"}
